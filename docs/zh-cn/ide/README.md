# Activeledger IDE (Active Harmony) 用户指南

这个说明文档介绍了如何使用Activeledger官方的IDE来发布智能合约，在Activeledger的IDE与您的区块链网络链接后，它会自动处理决大部分事情，以帮助用户把他们的重心放在编写智能合约的逻辑上。

![Activeledger IDE](https://activeledger.io/wp-content/uploads/2018/10/developer-tools-demo.gif)

### 1. 构建链接

首先，我们需要配置Activeledger的IDE来链接Activeledger的节点。在右上角你可以看到一个扳手样子的图标，单击打开通用设置菜单。

![通用设置](https://activeledger.io/wp-content/uploads/2018/10/2018-10-09_11-50-00.png)

在*Connections*区域所需要的添加节点的位置，运行本地测试网络的用户请使用以下设置：

* Name : Local Testnet
* Protocol : http
* Address : localhost
* Port : 5260

交易信息加密并不是必须的，但是信息加密可以确保用户在不被信任的网络中传递交易信息时候的安全性。

这个部分还有一些其他的选项，最重要的两个分别是备份和恢复功能。备份功能允许用户生成一个包含当前IDE所有信息的文件，这个文件可以设置密码保护功能，因为它可能会包含用户的私人密钥。

### 2. 密钥生成

因为智能合约部署在区块链上，所以用户需要在每个部署合约的区块链网络上面注册独特的身份识别信息。


在左上角选择*Keys*，IDE会跳转到一个包含所有由当前IDE管理的密钥列表。在这个页面下提供一个*Generate*的选项，这个选项可以用来生成新的密钥并且注册在与IDE已经链接的网络上（用户也可以选择暂时不注册任何网络，仅仅生成密钥）。

![密钥管理](https://activeledger.io/wp-content/uploads/2018/10/2018-10-09_11-50-32.png)

### 3. 命名空间

[命名空间](../contracts/deployment/namespace.md) 可以有效避免区块链网络中的冲突，不同的智能合约与相对应的命名空间绑定而且它们对应不同的数据流ID。命名空间也可以用来在当前虚拟节点上加载额外的应用库。

注册一个命名空间很简单，在左侧菜单选择*Namespaces*会跳转到一个包含所有注册命名空间的页面。在这个页面用户可以使用*Create*来为指定密钥注册命名空间，目前Activeledger对每个独特的密钥只支持一个命名空间，但是你可以在同个命名空间下拥有无数不同的密钥。

用户选择密钥并且为当前命名空间新建名字，在点击保存之后，IDE会向此密钥注册的网络传递一个交易信息并且试着注册当前命名空间的名字（如果这个名字没有被使用过）。

![命名空间管理](https://activeledger.io/wp-content/uploads/2018/10/2018-10-09_11-51-39.png)

### 4. 自定义智能合约

现在这个IDE可以用来发布你的 [智能合约](../contracts/README.md)，你可以随时通过IDE创建新的智能合约。通过点击IDE的加号（+）选项，IDE会弹出一个支持自动补全的代码编辑窗口，智能合约的基本信息详见 [自定义智能合约](../contracts/standard.md)。

![更多关于自定义智能合约](https://activeledger.io/wp-content/uploads/2018/10/2018-10-09_11-52-43.png)

点击编辑器顶端的保存按钮允许用户设置当前编辑的智能合约的名字及版本，值得一提的是，Activeledger支持不同版本智能合约的控制，所以用户可以审查并更改最新版本的合约但是同时使用过去版本的合约来保证一切交易正常运行。

![智能合约版本控制](https://activeledger.io/wp-content/uploads/2018/10/2018-10-09_11-53-06.png)

### 5. 上传智能合约

在用户创建并且保存了智能合约之后，此合约需要被部署在Activeledger网络上才能发挥功能。在同样的页面用户可以使用*Upload*来开启合约上传管理页面，在左侧用户可以看见当前IDE中的智能合约。在用户选择智能合约之后，此合约将默认为最新版本。当用户希望上传不同版本合约时，用户可以在右上角迷你地图处点击一个小箭头，这会打开一个下拉菜单并允许用户选择不同版本和其他设定。

当要选取的智能合约确定之后，用户需要选择想要上传此合约的网络。在编辑器的下方用户需要选择密钥，命名空间和链接方式，用户需要点击*upload*来产生新的交易记录以完成智能合约的部署。

![上传智能合约](https://activeledger.io/wp-content/uploads/2018/10/2018-10-09_11-53-25.png)

### 6. 管理智能合约

在智能合约界面中，用户可以通过*Editor*的选项可以打开当前IDE的所有智能合约（本地和已经部署的）。如果智能合约已经部署在网络中，用户仍然有两种方式查看数据流ID。另外，Activeledger支持智能合约标记来简化运行智能合约的过程：通过在编辑器中单击"Info"下的"Show"选项或者在编辑器中右上角单击"Show info"。

![管理智能合约](https://activeledger.io/wp-content/uploads/2018/10/2018-10-09_11-53-45.png)

* 单击"Stream ID"下的按钮，将弹出一个对话框包含当前智能合约部署的网络和对应的数据流ID。

* 单击"Info"下的按钮，将弹出一个包含更多智能合约信息的新界面，在这个界面用户可以为当前合约增加额外的标记信息，这些标记信息可以代替数据流ID来运行智能合约。对智能合约赋予额外的标记名字允许用户在不同的网络上面用不同的智能合约处理同一笔交易。

![更多关于管理智能合约](https://activeledger.io/wp-content/uploads/2018/10/2018-10-09_11-53-51.png)
