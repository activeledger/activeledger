webpackJsonp([1],[,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=n(294),i=a(r),l=n(578),u=a(l),s=n(582),c=a(s),d=n(178),f=a(d),p=n(591),h=a(p),m=n(288),_=a(m),g=n(592),b=a(g),y=n(102),E=a(y),v=n(69),O=a(v),D=n(22),N=a(D),T=n(184),S=a(T);O.default.$=E.default,O.default.ajax=function(){return O.default.$.ajax.apply(O.default.$,arguments)},o(i.default,{Router:u.default,RouteObject:c.default,utils:f.default,Store:h.default,dispatcher:b.default,Promise:S.default,Events:N.default.extend({},O.default.Events)}),i.default.constants=_.default,i.default.dispatch=b.default.dispatch,i.default.navigate=function(e,t){var n=N.default.extend({trigger:!0},t);i.default.router.navigate(e,n),n.trigger&&i.default.router.trigger("trigger-update")},i.default.beforeUnload=function(){i.default.router.beforeUnload.apply(i.default.router,arguments)},i.default.removeBeforeUnload=function(){i.default.router.removeBeforeUnload.apply(i.default.router,arguments)},i.default.addRoute=function(e){i.default.router.route(e.route,e.name,e.callback)};var w={};i.default.registerUrls=function(e,t){w[e]=t},i.default.url={encode:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return/[$+/]/g.test(e)?encodeURIComponent(e):e},decode:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return/[$+/]/g.test(e)?decodeURIComponent(e):e}},i.default.urls=function(e,t){var n,a=i.default.getExtensions("urls:interceptors"),o=arguments;return N.default.find(a,function(e){var t=e.apply(null,o);return!!t&&(n=t,!0)}),N.default.isUndefined(n)?w[e]?w[e][t]?(o=Array.prototype.slice.call(arguments,2),n=w[e][t].apply(null,o)):(console.error("could not find context ",t),""):(console.error("could not find name ",e),""):n},i.default.getIndexTypePropNames=function(){var e=i.default.getExtensions("IndexTypes:propNames");return e.push("views"),e},t.default=i.default},,,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};n(102);var r=n(287),i=a(r),l=n(22),u=a(l),s=n(19),c=a(s),d=n(178),f=a(d),p=n(2),h=a(p);n(593),u.default.isUndefined(console)&&(console={log:function(){},trace:function(){},debug:function(){}}),o(i.default,{utils:f.default,getParams:h.default.utils.getParams,helpers:c.default}),h.default.config({addHeaderLink:function(e){h.default.reduxDispatch({type:"ADD_NAVBAR_LINK",link:e})},updateHeaderLink:function(e){h.default.reduxDispatch({type:"UPDATE_NAVBAR_LINK",link:e})},removeHeaderLink:function(e){h.default.reduxDispatch({type:"REMOVE_NAVBAR_LINK",link:e})},hideLogin:function(){h.default.reduxDispatch({type:"NAVBAR_SHOW_HIDE_LOGIN_LOGOUT_SECTION",visible:!1})},showLogout:function(){h.default.reduxDispatch({type:"NAVBAR_SHOW_LOGOUT_BUTTON"})},showLogin:function(){h.default.reduxDispatch({type:"NAVBAR_SHOW_LOGIN_BUTTON"})}}),t.default=i.default},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(635),o=n(636),r=n(637),i=n(790),l=n(359),u=n(793),s=n(220),c=n(364),d=n(363),f=n(797),p=n(798),h=n(221),m=n(799),_=n(800),g=n(801),b=n(309),y=n(809),E=n(152),v=n(810),O=n(881),D=n(890),N=n(891);t.default={BadgeList:a.BadgeList,Badge:a.Badge,BulkActionComponent:r.BulkActionComponent,ConfirmButton:m.ConfirmButton,ToggleHeaderButton:o.ToggleHeaderButton,StyledSelect:i.StyledSelect,CodeEditorPanel:u.CodeEditorPanel,CodeEditor:s.CodeEditor,StringEditModal:l.StringEditModal,ZenModeOverlay:c.ZenModeOverlay,Beautify:d.Beautify,PaddedBorderedBox:f.PaddedBorderedBox,Polling:v.Polling,Document:p.Document,LoadLines:h.LoadLines,MenuDropDown:_.MenuDropDown,TrayContents:g.TrayContents,TrayWrapper:g.TrayWrapper,connectToStores:g.connectToStores,ApiBarController:b.ApiBarController,DeleteDatabaseModal:y.DeleteDatabaseModal,TabElement:E.TabElement,TabElementWrapper:E.TabElementWrapper,RefreshBtn:v.RefreshBtn,Copy:O.Copy,TabWindowWrapper:D.TabWindowWrapper,ThrottledReactSelectAsync:N.ThrottledReactSelectAsync}},,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(288),r=a(o),i=n(287),l=a(i),u=n(178),s=a(u),c=n(179),d=a(c),f=n(557),p=a(f),h=n(21),m=n(22),_=a(m),g={};g.removeSpecialCharacters=s.default.removeSpecialCharacters,g.safeURL=s.default.safeURLName,g.imageUrl=function(e){return e},g.getDocUrl=function(e){return _.default.has(r.default.DOC_URLS,e)?r.default.DOC_URLS[e]:"#"},g.formatSize=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(e<512)return e+" bytes";for(var n=["KB","MB","GB","TB","PB","EB","ZB","YB"],a=0;e>=512&&a<n.length;)a+=1,e/=1024;return e.toFixed(t)+" "+n[a-1]},g.formatDate=function(e){return(0,d.default)(e,"X").format("MMM Do, h:mm:ss a")},g.getDateFromNow=function(e){return(0,d.default)(e,"X").fromNow()},g.escapeJQuerySelector=function(e){return e&&e.replace(/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~]/g,"\\$&")},g.getApiUrl=function(e){return l.default.host.endsWith("/")&&e.startsWith("/")&&(e=e.substr(1)),p.default.resolve(window.location.href,l.default.host+e)},g.getServerUrl=function(e){return l.default.host.endsWith("/")&&e.startsWith("/")&&(e=e.substr(1)),l.default.host+e},g.getRootUrl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location,t=e.origin,n=e.pathname;return p.default.resolve(t+n,l.default.host)},g.getUUID=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=g.getServerUrl("/_uuids?count="+e);return(0,h.get)(t)},g.isIE1X=function(){return 11==document.documentMode||10==document.documentMode},t.default=g},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deleteFormEncoded=t.putFormEncoded=t.postFormEncoded=t.formEncoded=t.put=t.post=t.deleteRequest=t.get=t.json=t.fetchObserver=void 0,n(289);var a=n(22),o=n(563);n(574);var r=t.fetchObserver=new o.Subject,i=t.json=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return fetch(e,(0,a.defaultsDeep)({},n,{method:t,credentials:"include",headers:{accept:"application/json","Content-Type":"application/json",Pragma:"no-cache"},cache:"no-cache"})).then(function(e){return r.next(e),n.raw?e:e.json()})},l=(t.get=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i(e,"GET",t)},t.deleteRequest=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i(e,"DELETE",t)},t.post=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return void 0!==t&&(n.rawBody?n.body=t:n.body=JSON.stringify(t)),i(e,"POST",n)},t.put=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return void 0!==t&&(n.rawBody?n.body=t:n.body=JSON.stringify(t)),i(e,"PUT",n)},t.formEncoded=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i(e,t,(0,a.defaultsDeep)({},n,{headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"}}))});t.postFormEncoded=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t&&(n.body=t),l(e,"POST",n)},t.putFormEncoded=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t&&(n.body=t),l(e,"PUT",n)},t.deleteFormEncoded=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t&&(n.body=t),l(e,"DELETE",n)}},,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={LAYOUT_ORIENTATION:{TABLE:"LAYOUT_TABLE",METADATA:"LAYOUT_METADATA",JSON:"LAYOUT_JSON"},INDEX_RESULTS_DOC_TYPE:{MANGO_INDEX:"MangoIndex",MANGO_QUERY:"MangoQueryResult",VIEW:"view"},INDEX_RESULTS_STYLE:{TEXT_OVERFLOW_TRUNCATED:"truncated",TEXT_OVERFLOW_FULL:"full",FONT_SIZE_SMALL:"small-font",FONT_SIZE_LARGE:"large-font",FONT_SIZE_MEDIUM:"medium-font"}}},,,,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(11),r=a(o),i=n(2),l=a(i),u=n(112),s=a(u),c=function(e){return _.isArray(e)?e[1]:e},d=function(e,t){var n=l.default.getExtensions("sidebar:links"),a="#"+l.default.urls("databaseBaseURL","app",l.default.url.encode(e)),o="",r="";return t&&(o="/_partition/"+encodeURIComponent(t),r="?partitionKey="+encodeURIComponent(t)),[{title:"Add New",links:n.reduce(function(e,t){return e.push({title:t.title,url:a+o+"/"+t.url,icon:"fonticon-plus-circled"}),e},[{title:"New Doc",url:a+"/_new"+r,icon:"fonticon-plus-circled"},f(e,t)])}]},f=function(e,t){var n="#"+l.default.urls("databaseBaseURL","app",l.default.url.encode(e))+(t?"/_partition/"+encodeURIComponent(t):"");return{title:r.default.i18n.en_US["new-mango-index"],url:n+"/_index",icon:"fonticon-plus-circled"}},p=function(e){return JSON.parse('"'+e+'"')},h=function(e){return[{title:"Replicate Database",icon:"fonticon-replicate",url:l.default.urls("replication","app",e)},{title:"Delete",icon:"fonticon-trash",onClick:s.default.showDeleteDatabaseModal.bind(void 0,{showDeleteModal:!0,dbId:e})}]},m=function(e,t){var n=e.split("\n"),a=!1;return n.length>t&&(a=!0,n=n.slice(0,t),e=n.join("\n")),{isTruncated:a,content:e}},g=function(e,t){var n=encodeURIComponent(e),a=l.default.urls("new","newDocument",n);return t&&(a=a+"?partitionKey="+encodeURIComponent(t)),a},b=function(e,t){if(!t)return!1;var n=!1;if(e&&y(t)){var a="_design/"+t.designDocName,o=e.find(function(e){return e._id===a});n=void 0!==o&&o.views&&void 0!==o.views[t.indexName]&&void 0!==o.views[t.indexName].reduce}return n},y=function(e){return"designDoc"===e.navItem&&"Views"===e.designDocSection&&e.indexName},E=function(e,t){var n=t;return t&&e.options&&!1===e.options.partitioned&&(n=!1),n};t.default={getSeqNum:c,getNewButtonLinks:d,getModifyDatabaseLinks:h,getNewDocUrl:g,isDDocPartitioned:E,parseJSON:p,truncateDoc:m,selectedViewContainsReduceFunction:b,isViewSelected:y}},,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.DocEditorLayout=t.DocEditorContent=t.OnePaneSimpleLayout=t.OnePaneFooter=t.OnePaneContent=t.OnePaneHeader=t.OnePane=t.ApiBarWrapper=void 0;var o=n(1),r=a(o),i=n(0),l=a(i),u=n(10),s=(a(u),n(138)),c=a(s),d=n(309),f=n(139),p=n(19),h=a(p),m=t.ApiBarWrapper=function(e){var t=e.docURL,n=e.endpoint;return l.default.createElement("div",{className:"faux__jsondoc-wrapper"},l.default.createElement(d.JSONLink,{endpoint:n}),l.default.createElement(d.DocLink,{docURL:t}))},_=t.OnePane=function(e){var t=e.children;return l.default.createElement("div",{id:"dashboard",className:"one-pane "},t)},g=t.OnePaneHeader=function(e){var t=e.showApiUrl,n=e.docURL,a=e.endpoint,o=e.crumbs,r=e.children,i="right-header-flex";return h.default.isIE1X()&&(i+=" "+i+"--ie1X"),l.default.createElement("header",null,l.default.createElement("div",{className:"flex-layout flex-row"},l.default.createElement("div",{id:"breadcrumbs",className:"flex-body"},l.default.createElement(f.Breadcrumbs,{crumbs:o})),l.default.createElement("div",{id:"right-header"},l.default.createElement("div",{className:i},r)),t?l.default.createElement(m,{docURL:n,endpoint:a}):null,l.default.createElement("div",{id:"notification-center-btn"},l.default.createElement(c.default,null))))};g.defaultProps={showApiUrl:!0,crumbs:[]},g.propTypes={docURL:r.default.string,endpoint:r.default.string,crumbs:r.default.array};var b=t.OnePaneContent=function(e){var t=e.children;return l.default.createElement("div",{className:"content-area container-fluid"},l.default.createElement("div",{id:"tabs"}),l.default.createElement("div",{id:"dashboard-content",className:"scrollable"},t))},y=t.OnePaneFooter=function(e){var t=e.children;return l.default.createElement("div",{className:"faux__onepane-footer"},t)},E=(t.OnePaneSimpleLayout=function(e){var t=e.component,n=e.docURL,a=e.endpoint,o=e.crumbs;return l.default.createElement(_,null,l.default.createElement(g,{crumbs:o,endpoint:a,docURL:n}),l.default.createElement(b,null,t),l.default.createElement(y,null))},t.DocEditorContent=function(e){var t=e.children;return l.default.createElement("div",{id:"dashboard-content"},t)});t.DocEditorLayout=function(e){var t=e.component,n=e.docURL,a=e.endpoint,o=e.crumbs;return l.default.createElement("div",{id:"dashboard",className:"one-pane doc-editor-page"},l.default.createElement(g,{crumbs:o,endpoint:a,docURL:n}),l.default.createElement(E,null,t))}},,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={REPLICATION_SOURCE:{LOCAL:"REPLICATION_SOURCE_LOCAL",REMOTE:"REPLICATION_SOURCE_REMOTE"},REPLICATION_TARGET:{EXISTING_LOCAL_DATABASE:"REPLICATION_TARGET_EXISTING_LOCAL_DATABASE",EXISTING_REMOTE_DATABASE:"REPLICATION_TARGET_EXISTING_REMOTE_DATABASE",NEW_LOCAL_DATABASE:"REPLICATION_TARGET_NEW_LOCAL_DATABASE",NEW_REMOTE_DATABASE:"REPLICATION_TARGET_NEW_REMOTE_DATABASE"},REPLICATION_TYPE:{ONE_TIME:"REPLICATION_TYPE_ONE_TIME",CONTINUOUS:"REPLICATION_TYPE_CONTINUOUS"},REPLICATION_AUTH_METHOD:{NO_AUTH:"NO_AUTH",BASIC:"BASIC_AUTH"}}},,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=[],a=[],o=0;e.forEach(function(i){r(h.default.urls("databaseBaseURL","server",i)).then(function(e){n.push(e)}).catch(function(){a.push(i)}).then(function(){++o===e.length&&u({dbList:e,databaseDetails:n,failedDbs:a,fullDbList:t})})})}function r(e){return(0,m.get)(e).then(function(e){if(e.error)throw new Error(e.reason||e.error);return e})}function i(){return r(h.default.urls("allDBs","server"))}function l(e,t,n){var a=(t-1)*n,o=t*n;return e.slice(a,o)}function u(e){h.default.dispatch({type:O.default.DATABASES_UPDATE,options:e})}Object.defineProperty(t,"__esModule",{value:!0});var s=n(11),c=a(s),d=n(19),f=a(d),p=n(2),h=a(p),m=n(21),g=n(80),b=a(g),y=n(301),E=a(y),v=n(186),O=a(v),D=n(302),N=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(D);t.default={getDatabaseList:i,paginate:l,getDatabaseDetails:o,fetch:r,updateDatabases:u,init:function(e){var t=this,n=e.page,a=e.limit;this.setStartLoading(),this.setPage(n),a&&this.setLimit(a),i().then(function(e){var r=l(e,n,a);t.updateDatabases({dbList:r,databaseDetails:[],failedDbs:[],fullDbList:e}),o(r,e)})},setPage:function(e){h.default.dispatch({type:O.default.DATABASES_SETPAGE,options:{page:e}})},setLimit:function(e){h.default.dispatch({type:O.default.DATABASES_SETLIMIT,options:{limit:e}})},setStartLoading:function(){h.default.dispatch({type:O.default.DATABASES_STARTLOADING})},setLoadComplete:function(){h.default.dispatch({type:O.default.DATABASES_LOADCOMPLETE})},createNewDatabase:function(e,t){if(_.isNull(e)||0===e.trim().length)return void h.default.addNotification({msg:"Please enter a valid database name",type:"error",clear:!0});e=e.trim(),h.default.dispatch({type:O.default.DATABASES_SET_PROMPT_VISIBLE,options:{visible:!1}});var n=E.default.databasesStore.obtainNewDatabaseModel(e,t);h.default.addNotification({msg:"Creating database."}),n.save().done(function(){h.default.addNotification({msg:"Database created successfully",type:"success",clear:!0});var t=h.default.urls("allDocs","app",c.default.utils.safeURLName(e));c.default.router.navigate(t,{trigger:!0})}).fail(function(e){var t=JSON.parse(e.responseText).reason;h.default.addNotification({msg:"Create database failed: "+t,type:"error",clear:!0})})},jumpToDatabase:function(e){if(!_.isNull(e)&&0!==e.trim().length){e=e.trim();var t=h.default.urls("allDocs","app",c.default.utils.safeURLName(e),"");return setTimeout(function(){h.default.navigate(t)})}},fetchAllDbsWithKey:function(e,t){var n="?"+c.default.utils.queryParams({startkey:JSON.stringify(e),endkey:JSON.stringify(e+"香"),limit:30}),a=f.default.getServerUrl("/_all_dbs"+n);(0,m.get)(a).then(function(e){var n=e.map(function(e){return{value:e,label:e}});t(null,{options:n})})},setPartitionedDatabasesAvailable:function(e){var t={type:O.default.DATABASES_PARTITIONED_DB_AVAILABLE,options:{available:e}};h.default.dispatch(t),h.default.reduxDispatch(t)},checkPartitionedQueriesIsAvailable:function(){var e=this,t=h.default.getExtensions(b.default.PARTITONED_DB_CHECK_EXTENSION),n=t.map(function(e){return e()});h.default.Promise.all(n).then(function(t){var n=t.every(function(e){return!0===e});e.setPartitionedDatabasesAvailable(n)}).catch(function(){})},fetchSelectedDatabaseInfo:function(e){h.default.reduxDispatch({type:O.default.DATABASES_FETCH_SELECTED_DB_METADATA}),N.fetchDatabaseInfo(e).then(function(e){if(!e.db_name){var t=e.reason?e.reason:"";throw new Error("Failed to fetch database info. "+t)}h.default.reduxDispatch({type:O.default.DATABASES_FETCH_SELECTED_DB_METADATA_SUCCESS,options:{metadata:e}})}).catch(function(e){h.default.addNotification({msg:e.message,type:"error",clear:!0})})}}},,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(2),s=a(u),c=n(1),d=a(c),f=n(0),p=a(f),h=n(10),m=(a(h),n(20)),g=function(e){function t(){var e,n,a,i;o(this,t);for(var l=arguments.length,u=Array(l),s=0;s<l;s++)u[s]=arguments[s];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.getClasses=function(){var e={js:"lang-js"},t="prettyprint";return _.has(e,a.props.lang)&&(t+=" "+e[a.props.lang]),t},i=n,r(a,i)}return i(t,e),l(t,[{key:"componentDidMount",value:function(){prettyPrint()}},{key:"render",value:function(){var e=JSON.stringify(this.props.code,null," ");return p.default.createElement("div",null,p.default.createElement("pre",{className:this.getClasses()},e))}}]),t}(p.default.Component);g.defaultProps={lang:"js"};var b=function(e){function t(){var e,n,a,i;o(this,t);for(var l=arguments.length,u=Array(l),s=0;s<l;s++)u[s]=arguments[s];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.getVisiblePages=function(e,t){var n,o;if(t<a.props.maxNavPages)n=1,o=t+1;else{var r=Math.floor(a.props.maxNavPages/2);n=e-r,o=e+r,n<=1&&(n=1,o=a.props.maxNavPages+1),o>t+1&&(n=t-(a.props.maxNavPages-1),o=t+1)}return{from:n,to:o}},a.createItemsForPage=function(e){return _.range(e.from,e.to).map(function(e){return p.default.createElement("li",{key:e,className:a.props.page===e?"active":null},a.getLink(e,e))})},a.getLink=function(e,t){return a.props.onClick?p.default.createElement("a",{onClick:a.getOnPageClick(e),dangerouslySetInnerHTML:{__html:t}}):p.default.createElement("a",{href:a.props.urlPrefix+e+a.props.urlSuffix,dangerouslySetInnerHTML:{__html:t}})},a.getTotalPages=function(){return 0===a.props.total?1:Math.ceil(a.props.total/a.props.perPage)},i=n,r(a,i)}return i(t,e),l(t,[{key:"getOnPageClick",value:function(e){var t=this;return function(n){n&&n.preventDefault(),t.props.onClick(e)}}},{key:"render",value:function(){var e=this.getTotalPages(),t=this.getVisiblePages(this.props.page,e),n=this.createItemsForPage(t),a=Math.max(this.props.page-1,1),o=Math.min(this.props.page+1,e);return p.default.createElement("ul",{className:"pagination"},p.default.createElement("li",{className:1===this.props.page?"disabled":null},this.getLink(a,"&laquo;")),n,p.default.createElement("li",{className:this.props.page<e?null:"disabled"},this.getLink(o,"&raquo;")))}}]),t}(p.default.Component);b.defaultProps={perPage:s.default.constants.MISC.DEFAULT_PAGE_SIZE,onClick:null,page:1,total:0,urlPrefix:"",urlSuffix:"",maxNavPages:10};var y=function(e){function t(){var e,n,a,i;o(this,t);for(var l=arguments.length,u=Array(l),s=0;s<l;s++)u[s]=arguments[s];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.close=function(e){e&&e.preventDefault(),a.props.onClose()},i=n,r(a,i)}return i(t,e),l(t,[{key:"render",value:function(){var e=p.default.createElement("p",null,this.props.text);_.isString(this.props.text)||(e=this.props.text);var t="btn "+this.props.buttonClass;return p.default.createElement(m.Modal,{dialogClassName:"confirmation-modal",show:this.props.visible,onHide:this.close},p.default.createElement(m.Modal.Header,{closeButton:!0},p.default.createElement(m.Modal.Title,null,this.props.title)),p.default.createElement(m.Modal.Body,null,e),p.default.createElement(m.Modal.Footer,null,p.default.createElement("a",{href:"#","data-bypass":"true",className:"cancel-link",onClick:this.close},"Cancel"),p.default.createElement("button",{className:t,onClick:this.props.onSubmit},p.default.createElement("i",{className:"fonticon-ok-circled"})," ",this.props.successButtonLabel)))}}]),t}(p.default.Component);y.propTypes={visible:d.default.bool.isRequired,text:d.default.oneOfType([d.default.string,d.default.element]).isRequired,onClose:d.default.func.isRequired,onSubmit:d.default.func.isRequired},y.defaultProps={visible:!1,title:"Please confirm",text:"",successButtonLabel:"Okay",buttonClass:"btn-primary",onClose:function(){},onSubmit:function(){}},t.default={CodeFormat:g,Pagination:b,ConfirmationModal:y}},,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e){return e?"/_partition/"+e:""}function r(){return(0,c.get)(s.default.getServerUrl("/")).then(function(e){return!(!e.features||-1===e.features.indexOf("partitioned"))||!(!e.features_flags||-1===e.features_flags.indexOf("partitioned"))}).catch(function(){return!1})}Object.defineProperty(t,"__esModule",{value:!0});var i=n(11),l=a(i),u=n(19),s=a(u),c=n(21),d=n(2),f=a(d),p=n(604),h=a(p),m=n(70),g=a(m),b=n(893),y=a(b);n(894),h.default.initialize=function(){f.default.addHeaderLink({href:"#/_all_dbs",title:"Databases",icon:"fonticon-database",className:"databases"}),g.default.checkPartitionedQueriesIsAvailable()},h.default.PARTITONED_DB_CHECK_EXTENSION="Databases:PartitionedDbCheck",f.default.registerExtension(h.default.PARTITONED_DB_CHECK_EXTENSION,r),f.default.addReducers({databases:y.default}),h.default.databaseUrl=function(e){var t=_.isObject(e)?e.id:e;return["/database/",l.default.utils.safeURLName(t),"/_all_docs?limit="+h.default.DocLimit].join("")},f.default.registerUrls("changes",{server:function(e,t){return s.default.getServerUrl("/"+e+"/_changes"+t)},app:function(e,t,n){return"/database/"+e+o(t)+"/_changes"+n},apiurl:function(e,t){return s.default.getApiUrl("/"+e+"/_changes"+t)}}),f.default.registerUrls("allDBs",{server:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return s.default.getServerUrl("/_all_dbs"+e)},app:function(){return"_all_dbs"},apiurl:function(){return s.default.getApiUrl("/_all_dbs")}}),f.default.registerUrls("databaseBaseURL",{server:function(e){return s.default.getServerUrl("/"+l.default.utils.safeURLName(e))},apiurl:function(e){return s.default.getApiUrl("/"+l.default.utils.safeURLName(e))},app:function(e){return"/database/"+e}}),f.default.registerUrls("permissions",{server:function(e){return s.default.getServerUrl("/"+e+"/_security")},app:function(e,t){return"/database/"+e+o(t)+"/permissions"},apiurl:function(e){return s.default.getApiUrl("/"+e+"/_security")}}),t.default=h.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(11),r=a(o),i=n(19),l=a(i),u=n(2),s=a(u),c=n(21),d=n(137),f=a(d);f.default.QueryParams=function(){var e=function(e,t){var n=_.clone(e);return _.each(["startkey","endkey","key"],function(e){_.has(n,e)&&(n[e]=t(n[e]))}),n};return{parse:function(t){return e(t,JSON.parse)},stringify:function(t){return e(t,JSON.stringify)}}}(),f.default.DdocInfo=s.default.Model.extend({idAttribute:"_id",documentation:function(){return s.default.constants.DOC_URLS.GENERAL},initialize:function(e,t){this.database=t.database},url:function(e){return e||(e="server"),s.default.urls("designDocs",e,this.database.safeID(),this.safeID())},safeID:function(){var e=this.id.replace(/^_design\//,"");return"_design/"+r.default.utils.safeURLName(e)}}),f.default.NewDoc=f.default.Doc.extend({fetch:function(){var e=this,t=this.partitionKey?this.partitionKey+":":"";return l.default.getUUID().then(function(n){return n.uuids?e.set("_id",t+n.uuids[0]):e.set("_id",t+"enter_document_id"),n}).catch(function(){e.set("_id",t+"enter_document_id")})}}),f.default.BulkDeleteDoc=s.default.Model.extend({idAttribute:"_id"}),f.default.BulkDeleteDocCollection=s.default.Collection.extend({model:f.default.BulkDeleteDoc,sync:function(){},initialize:function(e,t){this.databaseId=t.databaseId},url:function(){return s.default.urls("bulk_docs","server",this.databaseId,"")},bulkDelete:function(){var e=this,t=this.createPayload(this.toJSON());return new s.default.Promise(function(n,a){(0,c.post)(e.url(),t).then(function(t){if(t.error)throw new Error(t.reason||t.error);e.handleResponse(t,n,a)}).catch(function(){var t=_.reduce(e.toArray(),function(e,t){return e.push(t.id),e},[]);e.trigger("error",t),a(t)})})},handleResponse:function(e,t,n){var a=_.reduce(e,function(e,t){return t.error&&e.errorIds.push(t.id),t.error||e.successIds.push(t.id),e},{errorIds:[],successIds:[]});this.removeDocuments(a.successIds),a.errorIds.length&&this.trigger("error",a.errorIds),_.isEmpty(a.successIds)?n(a.errorIds):t(a),this.trigger("updated")},removeDocuments:function(e){var t=this;_.each(e,function(e){t.remove(t.get(e))}),this.trigger("removed",e)},createPayload:function(e){return{docs:e}}}),f.default.MangoBulkDeleteDocCollection=f.default.BulkDeleteDocCollection.extend({url:function(){return l.default.getServerUrl("/"+this.databaseId+"/_index/_bulk_delete")},createPayload:function(e){return{docids:e.filter(function(e){return"_all_docs"!==e._id}).map(function(e){return e._id})}}}),t.default=f.default},,,,,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.processBulkDeleteResponse=t.bulkDeleteDocs=t.validateBulkDelete=t.deleteErrorMessage=t.fetchDocs=t.removeOverflowDocsAndCalculateHasNext=t.mergeParams=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=n(2),i=a(r),l=n(119),u=a(l),s=n(30),c=a(s),d=n(121),f=n(418),p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(f),h=n(120),m=t.mergeParams=function(e,t){var n={},a=(t.skip||0)+t.limit;n.skip=Math.max(e.skip,t.skip||0),n.limit=e.limit,e.conflicts&&(n.conflicts=!0);var r=a-n.skip;return{params:o({},t,n),totalDocsRemaining:r}},_=t.removeOverflowDocsAndCalculateHasNext=function(e,t,n){var a=!1;return t&&e.length>t?e.splice(t):e.length===n&&(e.splice(n-1),a=!0),{finalDocList:e,canShowNext:a}},g=t.fetchDocs=function(e,t,n){var a=m(t,n),o=a.params,r=a.totalDocsRemaining;return o.limit=Math.min(o.limit,1e4),function(t){return t((0,h.nowLoading)()),e(o).then(function(e){var n=e.docs,a=e.docType,i=e.executionStats,l=e.warning,u=e.layout,s=_(n,r,o.limit),c=s.finalDocList,d=s.canShowNext;u&&t((0,h.changeLayout)(u)),t((0,h.newResultsAvailable)(c,o,d,a,i,l))}).catch(function(e){e&&-1!==e.message.indexOf("partition query is not supported")?t((0,h.partitionParamNotSupported)()):e&&-1!==e.message.indexOf("`partition` parameter is mandatory")?t((0,h.partitionParamIsMandatory)()):i.default.addNotification({msg:"Error running query. "+(0,d.errorReason)(e),type:"error",clear:!0}),t((0,h.resetState)())})}},b=t.deleteErrorMessage=function(e){var t="Failed to delete your document!";e&&(t="Failed to delete: "+e.join(", ")),i.default.addNotification({msg:t,type:"error",clear:!0})},y=t.validateBulkDelete=function(e){var t=e.length,n=1===t?"Are you sure you want to delete this doc?":"Are you sure you want to delete these "+t+" docs?";return 0===t?(window.alert("Please select the document rows you want to delete."),!1):!!window.confirm(n)},E=(t.bulkDeleteDocs=function(e,t,n,a,o,r,i){return!!y(n)&&function(l){var u=void 0,s=void 0;if(i===c.default.INDEX_RESULTS_DOC_TYPE.MANGO_INDEX)s={docids:n.map(function(e){return e._id})},u=p.postToIndexBulkDelete(e,s);else{if(i!==c.default.INDEX_RESULTS_DOC_TYPE.VIEW&&i!==c.default.INDEX_RESULTS_DOC_TYPE.MANGO_QUERY)throw new Error("Invalid document type: "+i);s={docs:n},u=p.postToBulkDocs(e,s)}return u.then(function(e){if(e.error)return void b();E(e,n,a,i),l((0,h.newSelectedDocs)()),l(g(t,o,r))})}},t.processBulkDeleteResponse=function(e,t,n,a){i.default.addNotification({msg:"Successfully deleted your docs",clear:!0});var o=[];a===c.default.INDEX_RESULTS_DOC_TYPE.MANGO_INDEX?e.fail&&(o=e.fail.map(function(e){return e.id})):o=e.filter(function(e){return!!e.error}).map(function(e){return e.id});var r=!!t.map(function(e){return e._id}).find(function(e){return/_design/.test(e)});o.length>0&&b(o),n&&r&&u.default.dispatchUpdateDesignDocs(n)})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments[1],n=t.options;switch(t.type){case i.SETUP_SET_CLUSTERSTATUS:return h(e,"clusterState",n.state);case i.SETUP_SET_USERNAME:return h(e,"username",n.value);case i.SETUP_SET_PASSWORD:return h(e,"password",n.value);case i.SETUP_BIND_ADDRESS_FOR_SINGLE_NODE:return h(e,"setupNode.bindAddress",n.value);case i.SETUP_PORT_FOR_SINGLE_NODE:return p(e,"setupNode.port",parseInt(n.value));case i.SETUP_PORT_ADDITIONAL_NODE:return p(e,"additionalNode.port",parseInt(n.value));case i.SETUP_BIND_ADDRESS_ADDITIONAL_NODE:return h(e,"additionalNode.bindAddress",n.value);case i.SETUP_REMOTE_ADDRESS_ADDITIONAL_NODE:return h(e,"additionalNode.remoteAddress",n.value);case i.SETUP_ADD_NODE_TO_LIST:var a=f(e);return a.nodeList.push(n.value),m(a),a;case i.SETUP_RESET_ADDITIONAL_NODE:return m(f(e));case i.SETUP_NODE_COUNT:return p(e,"setupNode.nodeCount",parseInt(n.value));default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getHostForSetupNode=t.getAdditionalNode=t.getNodeCountForSetupNode=t.getBindAddressForSetupNode=t.getPortForSetupNode=t.getSetupNode=t.getPassword=t.getUsername=t.getIsAdminParty=t.getNodeList=t.getClusterState=t.getState=t.updateStateIfNotNaN=t.getStateCopy=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=o;var i=n(443),l=n(2),u=a(l),s=n(22),c=a(s),d={clusterState:"",username:"",password:"",setupNode:{bindAddress:"0.0.0.0",port:5984,nodeCount:3},nodeList:[],additionalNode:{bindAddress:"0.0.0.0",port:5984,remoteAddress:"127.0.0.1"}},f=t.getStateCopy=function(e){return r({},e,{setupNode:r({},e.setupNode),additionalNode:r({},e.additionalNode)})},p=t.updateStateIfNotNaN=function(e,t,n){var a=f(e);return c.default.isNaN(n)?a:c.default.set(a,t,n)},h=function(e,t,n){var a=f(e);return c.default.set(a,t,n)},m=function(e){return e.additionalNode=r({},d.additionalNode),e};t.getState=function(e){return e},t.getClusterState=function(e){return e.clusterState},t.getNodeList=function(e){return e.nodeList},t.getIsAdminParty=function(){return u.default.session.isAdminParty()},t.getUsername=function(e){return e.username},t.getPassword=function(e){return e.password},t.getSetupNode=function(e){return e.setupNode},t.getPortForSetupNode=function(e){return e.setupNode.port},t.getBindAddressForSetupNode=function(e){return e.setupNode.bindAddress},t.getNodeCountForSetupNode=function(e){return e.setupNode.nodeCount},t.getAdditionalNode=function(e){return e.additionalNode},t.getHostForSetupNode=function(){return"127.0.0.1"}},,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e){u.default.dispatch({type:c.default.CMPNTS_DATABASES_SHOWDELETE_MODAL,options:e})}function r(e,t){var n=this,a=u.default.urls("databaseBaseURL","server",e,"");(0,i.deleteRequest)(a).then(function(a){if(!a.ok){var o=a.reason||"";throw new Error(o)}n.showDeleteDatabaseModal({showModal:!0}),u.default.addNotification({msg:"The database <code>"+_.escape(e)+"</code> has been deleted.",clear:!0,escape:!1}),Backbone.history.loadUrl(u.default.urls("allDBs","app")),t&&t()}).catch(function(e){u.default.addNotification({msg:"Could not delete the database. "+e.message,type:"error",clear:!0})})}Object.defineProperty(t,"__esModule",{value:!0});var i=n(21),l=n(2),u=a(l),s=n(361),c=a(s);t.default={deleteDatabase:r,showDeleteDatabaseModal:o}},,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),r=a(o),i=n(401),l=a(i),u=function(e){var t=e.sidebar;return!t||t.loading?"":t.database.safeID()},s=function(e){e.database.safeID()!==u(r.default.reduxState())&&r.default.reduxDispatch({type:l.default.SIDEBAR_FETCHING}),e.designDocs.fetch().then(function(){r.default.reduxDispatch({type:l.default.SIDEBAR_NEW_OPTIONS,options:e})},function(t){var n="Unable to update the sidebar.";t.responseJSON&&"not_found"===t.responseJSON.error&&(n="The "+e.designDocs.database.safeID()+" database does not exist.",r.default.navigate("/",{trigger:!0})),r.default.addNotification({msg:n,type:"error",clear:!0})})},c=function(e){r.default.reduxDispatch({type:l.default.SIDEBAR_FETCHING}),e.fetch().then(function(){r.default.reduxDispatch({type:l.default.SIDEBAR_UPDATED_DESIGN_DOCS,options:{designDocs:e}})})},d=function(){r.default.reduxDispatch({type:l.default.SIDEBAR_HIDE_DELETE_INDEX_MODAL})},f=function(e){r.default.reduxDispatch({type:l.default.SIDEBAR_EXPAND_SELECTED_ITEM,options:{selectedNavItem:e}})},p=function(e,t){return function(n){n({type:l.default.SIDEBAR_TOGGLE_CONTENT,designDoc:e,indexGroup:t})}},h=function(e,t,n,a){return function(o){o({type:l.default.SIDEBAR_SHOW_DELETE_INDEX_MODAL,options:{indexName:e,indexLabel:n,designDocName:t,onDelete:a}})}},m=function(){return function(e){e({type:l.default.SIDEBAR_HIDE_DELETE_INDEX_MODAL})}},_=function(e,t,n,a){return function(o){o({type:l.default.SIDEBAR_SHOW_CLONE_INDEX_MODAL,options:{sourceIndexName:e,sourceDesignDocName:t,onSubmit:a,indexLabel:n,cloneIndexModalTitle:"Clone "+n}})}},g=function(){return function(e){e({type:l.default.SIDEBAR_HIDE_CLONE_INDEX_MODAL})}},b=function(e){return function(t){t({type:l.default.SIDEBAR_CLONE_MODAL_DESIGN_DOC_NEW_NAME_UPDATED,options:{value:e}})}},y=function(e){return function(t){t({type:l.default.SIDEBAR_CLONE_MODAL_DESIGN_DOC_NEW_PARTITIONED_UPDATED,options:{value:e}})}},E=function(e){return function(t){t({type:l.default.SIDEBAR_CLONE_MODAL_DESIGN_DOC_CHANGE,options:{value:e}})}},v=function(e){return function(t){t({type:l.default.SIDEBAR_CLONE_MODAL_UPDATE_INDEX_NAME,options:{value:e}})}};t.default={dispatchNewOptions:s,dispatchUpdateDesignDocs:c,toggleContent:p,showDeleteIndexModal:h,hideDeleteIndexModal:m,dispatchHideDeleteIndexModal:d,showCloneIndexModal:_,hideCloneIndexModal:g,updateNewDesignDocName:b,updateNewDesignDocPartitioned:y,selectDesignDoc:E,setNewCloneIndexName:v,dispatchExpandSelectedItem:f}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateResultsStyle=t.changeTableHeaderAttribute=t.changeLayout=t.bulkCheckOrUncheck=t.selectDoc=t.newSelectedDocs=t.newResultsAvailable=t.resetState=t.nowLoading=t.partitionParamIsMandatory=t.partitionParamNotSupported=void 0;var a=n(162),o=function(e){return e&&e.__esModule?e:{default:e}}(a),r=n(121),i=(t.partitionParamNotSupported=function(){return{type:o.default.INDEX_RESULTS_REDUX_PARTITION_PARAM_NOT_SUPPORTED}},t.partitionParamIsMandatory=function(){return{type:o.default.INDEX_RESULTS_REDUX_PARTITION_PARAM_MANDATORY}},t.nowLoading=function(){return{type:o.default.INDEX_RESULTS_REDUX_IS_LOADING}},t.resetState=function(){return{type:o.default.INDEX_RESULTS_REDUX_RESET_STATE}},t.newResultsAvailable=function(e,t,n,a,r,i){return{type:o.default.INDEX_RESULTS_REDUX_NEW_RESULTS,docs:e,params:t,canShowNext:n,docType:a,executionStats:r,warning:i}},t.newSelectedDocs=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:o.default.INDEX_RESULTS_REDUX_NEW_SELECTED_DOCS,selectedDocs:e}});t.selectDoc=function(e,t){var n=t.findIndex(function(t){return t._id===e._id});return n>-1?t.splice(n,1):(e._deleted=!0,t.push(e)),i(t)},t.bulkCheckOrUncheck=function(e,t,n,a){return e.forEach(function(e){if((0,r.isJSONDocBulkDeletable)(e,a)){var o=t.findIndex(function(t){return(0,r.getDocId)(e,a)===t._id});n?t.splice(o,1):-1===o&&t.push({_id:(0,r.getDocId)(e,a),_rev:(0,r.getDocRev)(e,a),_deleted:!0})}}),i(t)},t.changeLayout=function(e){return{type:o.default.INDEX_RESULTS_REDUX_CHANGE_LAYOUT,layout:e}},t.changeTableHeaderAttribute=function(e,t){return t[e.index]=e.newSelectedRow,{type:o.default.INDEX_RESULTS_REDUX_CHANGE_TABLE_HEADER_ATTRIBUTE,selectedFieldsTableView:t}},t.updateResultsStyle=function(e){return{type:o.default.INDEX_RESULTS_SET_STYLE,resultsStyle:e}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.errorReason=t.getDocRev=t.getDocId=t.getDefaultPerPage=t.hasBulkDeletableDoc=t.isJSONDocBulkDeletable=t.isJSONDocEditable=t.isGhostDoc=t.getDocUrl=void 0;var o=n(11),r=a(o),i=n(2),l=a(i),u=n(30),s=a(u),c=function(e,t,n){void 0===e&&(e="server");var a=r.default.utils.getSafeIdForDoc(t);a||(a="");var o=encodeURIComponent(n);return l.default.urls("document",e,o,a,"?conflicts=true")},d=function(e,t){if(e)return t!==s.default.INDEX_RESULTS_DOC_TYPE.MANGO_INDEX&&!!Object.keys(e).length&&!!e._id},f=function(e,t){return t===s.default.INDEX_RESULTS_DOC_TYPE.MANGO_INDEX?"special"!==e.type:!(!e._id&&!e.id||!(e._rev||e.value&&e.value.rev))},p=function(e,t){return!!e.find(function(e){return f(e,t)})},h=function(){if(window.localStorage){var e=r.default.utils.localStorageGet("fauxton:perpageredux");if(e)return parseInt(e,10)}return l.default.constants.MISC.DEFAULT_PAGE_SIZE},m=function(e){return!e||!e.attributes||!Object.keys(e.attributes).length},_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.default.INDEX_RESULTS_DOC_TYPE.VIEW;return t===s.default.INDEX_RESULTS_DOC_TYPE.VIEW?e.id||e._id:t===s.default.INDEX_RESULTS_DOC_TYPE.MANGO_INDEX?"special"===e.type?"_all_docs":e.ddoc:t===s.default.INDEX_RESULTS_DOC_TYPE.MANGO_QUERY?e._id:e.id||e._id},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.default.INDEX_RESULTS_DOC_TYPE.VIEW;return t===s.default.INDEX_RESULTS_DOC_TYPE.VIEW?e.value?e.value.rev:e._rev:t!==s.default.INDEX_RESULTS_DOC_TYPE.MANGO_INDEX&&t===s.default.INDEX_RESULTS_DOC_TYPE.MANGO_QUERY?e._rev:void 0},b=function(e){return"Reason: "+(e&&e.message||"n/a")};t.getDocUrl=c,t.isGhostDoc=m,t.isJSONDocEditable=d,t.isJSONDocBulkDeletable=f,t.hasBulkDeletableDoc=p,t.getDefaultPerPage=h,t.getDocId=_,t.getDocRev=g,t.errorReason=b},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e){s.default.utils.localStorageSet("fauxton:results_style",e)}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments[1];switch(t.type){case d.default.INDEX_RESULTS_SET_STYLE:var n=l({},e.resultsStyle,t.resultsStyle);return o(n),l({},e,{resultsStyle:n});case d.default.INDEX_RESULTS_REDUX_RESET_STATE:return l({},g,{noResultsWarning:e.noResultsWarning,selectedLayout:e.selectedLayout,selectedDocs:[],fetchParams:{limit:(0,_.getDefaultPerPage)()+1,skip:0},pagination:l({},g.pagination,{perPage:e.pagination.perPage}),queryOptionsPanel:l({},g.queryOptionsPanel,e.queryOptionsPanel,{reduce:!1,groupLevel:"exact",showReduce:!1}),isLoading:!1,resultsStyle:e.resultsStyle});case d.default.INDEX_RESULTS_REDUX_IS_LOADING:return l({},e,{isLoading:!0});case d.default.INDEX_RESULTS_REDUX_PARTITION_PARAM_NOT_SUPPORTED:return l({},e,{noResultsWarning:"The selected index does not support partitions. Switch back to global mode."});case d.default.INDEX_RESULTS_REDUX_PARTITION_PARAM_MANDATORY:return l({},e,{noResultsWarning:"The selected index requires a partition key. Use the selector at the top to enter a partition key."});case d.default.INDEX_RESULTS_REDUX_NEW_SELECTED_DOCS:return l({},e,{selectedDocs:t.selectedDocs});case d.default.INDEX_RESULTS_REDUX_NEW_RESULTS:var a=e.selectedLayout;return t.docType===p.default.INDEX_RESULTS_DOC_TYPE.MANGO_QUERY&&e.selectedLayout===p.default.LAYOUT_ORIENTATION.METADATA&&(a=p.default.LAYOUT_ORIENTATION.TABLE),l({},e,{docs:t.docs,isLoading:!1,noResultsWarning:"",isEditable:!0,fetchParams:l({},e.fetchParams,t.params),pagination:l({},e.pagination,{canShowNext:t.canShowNext}),docType:t.docType,selectedLayout:a,executionStats:t.executionStats,warning:t.warning});case d.default.INDEX_RESULTS_REDUX_CHANGE_LAYOUT:return l({},e,{selectedLayout:t.layout});case d.default.INDEX_RESULTS_REDUX_TOGGLE_SHOW_ALL_COLUMNS:return l({},e,{tableView:l({},e.tableView,{showAllFieldsTableView:!e.tableView.showAllFieldsTableView,cachedFieldsTableView:e.tableView.selectedFieldsTableView})});case d.default.INDEX_RESULTS_REDUX_CHANGE_TABLE_HEADER_ATTRIBUTE:return l({},e,{tableView:l({},e.tableView,{selectedFieldsTableView:t.selectedFieldsTableView})});case d.default.INDEX_RESULTS_REDUX_SET_PER_PAGE:return s.default.utils.localStorageSet("fauxton:perpageredux",t.perPage),l({},e,{pagination:l({},g.pagination,{perPage:t.perPage})});case d.default.INDEX_RESULTS_REDUX_PAGINATE_NEXT:return l({},e,{pagination:l({},e.pagination,{pageStart:e.pagination.pageStart+e.pagination.perPage,currentPage:e.pagination.currentPage+1})});case d.default.INDEX_RESULTS_REDUX_PAGINATE_PREVIOUS:return l({},e,{pagination:l({},e.pagination,{pageStart:e.pagination.pageStart-e.pagination.perPage,currentPage:e.pagination.currentPage-1})});case d.default.INDEX_RESULTS_REDUX_NEW_QUERY_OPTIONS:return t.options.includeDocs&&t.options.reduce?t.options.reduce=!1:t.options.includeDocs&&e.queryOptionsPanel.reduce?t.options.reduce=!1:t.options.reduce&&e.queryOptionsPanel.includeDocs&&(t.options.includeDocs=!1),l({},e,{queryOptionsPanel:l({},e.queryOptionsPanel,t.options)});default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getResultsStyle=t.getFetchParams=t.getPerPage=t.getQueryOptionsPanel=t.getCanShowNext=t.getPrioritizedEnabled=t.getPageStart=t.getDocType=t.getTextEmptyIndex=t.getSelectedLayout=t.getIsEditable=t.getIsLoading=t.getSelectedDocs=t.getDocs=t.getQueryOptionsParams=t.getDisplayedFields=t.getCanShowPrevious=t.getNumDocsSelected=t.getHasDocsSelected=t.getAllDocsSelected=t.getHasResults=t.getPageEnd=t.getShowPrioritizedEnabled=t.getDataForRendering=t.removeGeneratedMangoDocs=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=r;var u=n(11),s=a(u),c=n(162),d=a(c),f=n(30),p=a(f),h=n(925),m=n(926),_=n(121),g={noResultsWarning:"",docs:[],selectedDocs:[],isLoading:!1,tableView:{selectedFieldsTableView:[],showAllFieldsTableView:!1},isEditable:!0,selectedLayout:p.default.LAYOUT_ORIENTATION.METADATA,textEmptyIndex:"No Documents Found",docType:p.default.INDEX_RESULTS_DOC_TYPE.VIEW,resultsStyle:function(){var e=s.default.utils.localStorageGet("fauxton:results_style");return e||(e={textOverflow:p.default.INDEX_RESULTS_STYLE.TEXT_OVERFLOW_TRUNCATED,fontSize:p.default.INDEX_RESULTS_STYLE.FONT_SIZE_MEDIUM}),e}(),fetchParams:{limit:(0,_.getDefaultPerPage)()+1,skip:0},pagination:{pageStart:1,currentPage:1,perPage:(0,_.getDefaultPerPage)(),canShowNext:!1},queryOptionsPanel:{isVisible:!1,showByKeys:!1,showBetweenKeys:!1,includeDocs:!1,betweenKeys:{include:!0,startkey:"",endkey:""},byKeys:"",descending:!1,skip:"",limit:"none",reduce:!1,groupLevel:"exact",showReduce:!1,stable:!1,update:"true"}},b=t.removeGeneratedMangoDocs=function(e){return"query"!==e.language},y=t.getDataForRendering=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=e.docs,o={databaseName:t,selectedLayout:e.selectedLayout,selectedFieldsTableView:e.tableView.selectedFieldsTableView,showAllFieldsTableView:e.tableView.showAllFieldsTableView,docType:e.docType,deleteEnabled:n},r=a.filter(b);return p.default.LAYOUT_ORIENTATION.JSON===o.selectedLayout?(0,h.getJsonViewData)(r,o):(0,m.getTableViewData)(r,o)},E=(t.getShowPrioritizedEnabled=function(e){return e.selectedLayout===p.default.LAYOUT_ORIENTATION.TABLE},t.getPageEnd=function(e){return!!E(e)&&e.pagination.pageStart+e.docs.length-1},t.getHasResults=function(e){return!e.isLoading&&e.docs.length>0});t.getAllDocsSelected=function(e){if(0===e.docs.length||0===e.selectedDocs.length)return!1;for(var t=0;t<e.docs.length;t++){var n=function(t){var n=e.docs[t];if(!(0,_.isJSONDocBulkDeletable)(n,e.docType))return"continue";var a=function(t){return(0,_.getDocId)(n,e.docType)===t._id};return e.selectedDocs.some(a)?void 0:{v:!1}}(t);switch(n){case"continue":continue;default:if("object"===(void 0===n?"undefined":i(n)))return n.v}}return!0},t.getHasDocsSelected=function(e){return e.selectedDocs.length>0},t.getNumDocsSelected=function(e){return e.selectedDocs.length},t.getCanShowPrevious=function(e){return e.pagination.currentPage>1},t.getDisplayedFields=function(e,t){return y(e,t).displayedFields||{}},t.getQueryOptionsParams=function(e){var t=e.queryOptionsPanel,n={};if(t.includeDocs&&(n.include_docs=t.includeDocs),t.showBetweenKeys){var a=t.betweenKeys;n.inclusive_end=a.include,a.startkey&&""!=a.startkey&&(n.start_key=a.startkey),a.endkey&&""!=a.endkey&&(n.end_key=a.endkey)}else t.showByKeys&&t.byKeys.trim()&&(n.keys=t.byKeys.replace(/\r?\n/g,""));return"none"!==t.limit&&(n.limit=parseInt(t.limit,10)),t.skip&&(n.skip=parseInt(t.skip,10)),t.descending&&(n.descending=t.descending),t.reduce&&(n.reduce=!0,"exact"===t.groupLevel?n.group=!0:n.group_level=t.groupLevel),void 0!==t.update&&"true"!==t.update&&(n.update=t.update),!0===t.stable&&(n.stable=t.stable),n},t.getDocs=function(e){return e.docs},t.getSelectedDocs=function(e){return e.selectedDocs},t.getIsLoading=function(e){return e.isLoading},t.getIsEditable=function(e){return e.isEditable},t.getSelectedLayout=function(e){return e.selectedLayout},t.getTextEmptyIndex=function(e){return e.textEmptyIndex},t.getDocType=function(e){return e.docType},t.getPageStart=function(e){return e.pagination.pageStart},t.getPrioritizedEnabled=function(e){return e.tableView.showAllFieldsTableView},t.getCanShowNext=function(e){return e.pagination.canShowNext},t.getQueryOptionsPanel=function(e){return e.queryOptionsPanel},t.getPerPage=function(e){return e.pagination.perPage},t.getFetchParams=function(e){return e.fetchParams},t.getResultsStyle=function(e){return e.resultsStyle}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),r=a(o),i=n(997),l=a(i),u=n(441),s=a(u);t.default={fetchNodes:function(){var e=this;(0,l.default)().then(function(t){e.updateNodes({nodes:t.nodes_mapped})}).catch(function(e){r.default.addNotification({type:"error",msg:e.message,clear:!0})})},updateNodes:function(e){r.default.reduxDispatch({type:s.default.CLUSTER_FETCH_NODES,options:e})},navigateToNodeBasedOnNodeCount:function(e){(0,l.default)().then(function(t){var n=t.all_nodes;return 1===n.length?r.default.navigate(e+n[0]):r.default.navigate("/cluster/disabled",{trigger:!0})}).catch(function(e){r.default.addNotification({type:"error",msg:e.message,clear:!0})})}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.logout=t.hidePasswordModal=t.authenticate=t.createAdmin=t.changePassword=t.login=t.validatePasswords=t.validateUser=void 0;var o=n(2),r=a(o),i=n(11),l=a(i),u=n(1074),s=a(u),c=n(258),d=a(c),f=s.default.AUTH_HIDE_PASSWORD_MODAL,p=function(e){var t=e.message;r.default.addNotification({msg:t,type:"error"})},h=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.every(function(e){return e})},m=t.validateUser=function(e,t){return h(!_.isEmpty(e),!_.isEmpty(t))},g=t.validatePasswords=function(e,t){return h(!_.isEmpty(e),!_.isEmpty(t),e===t)},b=(t.login=function(e,t,n){return m(e,t)?d.default.login({name:e,password:t}).then(function(e){if(e.error)return p({message:e.reason}),e;var t=l.default.i18n.en_US["auth-logged-in"];if(t&&r.default.addNotification({msg:t}),n&&-1===n.indexOf("login"))return r.default.navigate(n);r.default.navigate("/")}).catch(p):p({message:l.default.i18n.en_US["auth-missing-credentials"]})},t.changePassword=function(e,t,n,a){return function(){if(!g(t,n))return p({message:l.default.i18n.en_US["auth-passwords-not-matching"]});d.default.createAdmin({name:e,password:t,node:a[0].node}).then(function(){r.default.addNotification({msg:l.default.i18n.en_US["auth-change-password"]})},p)}},t.createAdmin=function(e,t,n,a){return function(){var o=a[0].node;if(!m(e,t))return p({message:l.default.i18n.en_US["auth-missing-credentials"]});d.default.createAdmin({name:e,password:t,node:o}).then(function(e){return e.error?p({message:l.default.i18n.en_US["auth-admin-creation-failed-prefix"]+" "+e.reason}):(r.default.addNotification({msg:l.default.i18n.en_US["auth-admin-created"]}),n?r.default.navigate("/login"):void 0)})}},t.authenticate=function(e,t,n){d.default.login({name:e,password:t}).then(function(a){if(a.error)throw a;b(),n(e,t)}).catch(function(){r.default.addNotification({msg:"Your username or password is incorrect.",type:"error",clear:!0})})},t.hidePasswordModal=function(){r.default.dispatch({type:f})});t.logout=function(){r.default.addNotification({msg:"You have been logged out."}),d.default.logout().then(d.default.getSession).then(function(){return r.default.navigate("/")}).catch(p)}},,,,,,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(11),r=a(o),i=n(19),l=a(i),u=n(2),s=a(u),c=n(81),d=a(c),f=s.default.addon();f.DocLimit=100,f.Model=s.default.Model.extend({partitioned:!1,setPartitioned:function(e){this.partitioned=e},documentation:function(){return s.default.constants.DOC_URLS.ALL_DBS},buildAllDocs:function(e){return this.allDocs=new d.default.AllDocs(null,{database:this,params:e}),this.allDocs},isNew:function(){return!1},isSystemDatabase:function(){return r.default.utils.isSystemDatabase(this.id)},url:function(e){return"index"===e?"/database/"+this.safeID()+"/_all_docs":"web-index"===e?"#/database/"+this.safeID()+"/_all_docs?limit="+f.DocLimit:"apiurl"===e?l.default.getApiUrl("/database/"+this.safeID()+"/_all_docs"):"changes"===e?s.default.urls("changes","app",this.safeID(),"","?descending=true&limit=100&include_docs=true"):"changes-apiurl"===e?s.default.urls("changes","apiurl",this.safeID(),"?descending=true&limit=100&include_docs=true"):"app"===e?"/database/"+this.safeID():this.partitioned?l.default.getServerUrl("/"+this.safeID())+"?partitioned=true":l.default.getServerUrl("/"+this.safeID())},safeID:function(){return r.default.utils.safeURLName(this.id)},buildChanges:function(e){return e.limit||(e.limit=100),this.changes=new f.Changes({database:this,params:e}),this.changes}}),f.Changes=s.default.Collection.extend({initialize:function(e){this.database=e.database,this.params=e.params},documentation:function(){return s.default.constants.DOC_URLS.CHANGES},url:function(e){var t="";return this.params&&(t="?"+r.default.utils.queryParams(this.params)),e||(e="server"),s.default.urls("changes",e,this.database.safeID(),t)},parse:function(e){return this.last_seq=e.last_seq,e.results}}),t.default=f},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=n(11),i=a(r),l=n(2),u=a(l),s=n(21),c=n(605),d=a(c),f=u.default.addon();f.Doc=u.default.Model.extend({idAttribute:"_id",documentation:function(){return u.default.constants.DOC_URLS.GENERAL},url:function(e){void 0===e&&(e="server");var t=this.safeID();t||(t="");var n=this.fetchConflicts?"?conflicts=true":"";return u.default.urls("document",e,this.getDatabase().safeID(),t,n)},initialize:function(e,t){this.collection&&this.collection.database?this.database=this.collection.database:t.database&&(this.database=t.database),t.fetchConflicts&&(this.fetchConflicts=!0),this.partitionKey=t.partitionKey},getDatabase:function(){return this.database?this.database:this.collection.database},validate:function(e){if(this.id&&this.id!==e._id&&this.get("_rev"))return"Cannot change a documents id."},docType:function(){return i.default.utils.getDocTypeFromId(this.id)},isBulkDeletable:function(){return!!this.id&&!!this.get("_rev")},isDeletable:function(){return!!this.id},isFromView:function(){return!this.id},isMangoDoc:function(){return!(!this.isDdoc()||"query"!==this.get("language")&&(!this.get("doc")||"query"!==this.get("doc").language))},isDdoc:function(){return"design doc"===this.docType()},setDDocPartitionedOption:function(e){if(!this.isDdoc())return!1;var t=this.get("options");return t||(t={}),t.partitioned=e,this.set({options:t}),!0},setDdocView:function(e,t,n){if(!this.isDdoc())return!1;var a=this.get("views");a||(a={},this.set({language:"javascript"}));var o=a[e]||{};return n?o.reduce=n:delete o.reduce,o.map=t,a[e]=o,this.set({views:a}),!0},removeDdocView:function(e){if(!this.isDdoc())return!1;var t=this.get("views");delete t[e],this.set({views:t})},dDocModel:function(){if(!this.isDdoc())return!1;var e=this.get("doc");return e?(e._rev=this.get("_rev"),new f.Doc(e,{database:this.database})):this},safeID:function(){return i.default.utils.getSafeIdForDoc(this.id)},destroy:function(){var e=this.url()+"?rev="+this.get("_rev");return(0,s.deleteRequest)(e).then(function(e){if(e.error)throw new Error(e.reason||e.error);return e})},parse:function(e){return e.rev&&(e._rev=e.rev,delete e.rev),e.id&&_.isUndefined(this.id)&&(e._id=e.id),e.ok&&(delete e.id,delete e.ok),e},prettyJSON:function(){var e=this.get("doc")?this.get("doc"):this.attributes;return JSON.stringify(e,null,"  ")},copy:function(e){var t=o({},this.attributes,{_id:e});return delete t._rev,new this.constructor(t,{database:this.database}).save()},isNewDoc:function(){return!this.get("_rev")}}),f.AllDocs=d.default.extend({model:f.Doc,documentation:function(){return u.default.constants.DOC_URLS.GENERAL},initialize:function(e,t){this.viewMeta=t.viewMeta,this.database=t.database,this.params=_.clone(t.params),this.on("remove",this.decrementTotalRows,this),this.perPageLimit=t.perPageLimit||20,this.params.limit||(this.params.limit=this.perPageLimit)},isEditable:function(){return!0},urlRef:function(e,t){var n="";return t?n=_.isEmpty(t)?"":"?"+i.default.utils.queryParams(t):this.params&&(n="?"+i.default.utils.queryParams(this.params)),_.isUndefined(e)&&(e="server"),u.default.urls("allDocs",e,this.database.safeID(),n)},url:function(){return this.urlRef.apply(this,arguments)},simple:function(){var e=this.map(function(e){return{_id:e.id,_rev:e.get("_rev")}});return new f.AllDocs(e,{database:this.database,params:this.params})},totalRows:function(){return this.viewMeta.total_rows||"unknown"},decrementTotalRows:function(){this.viewMeta.total_rows&&(this.viewMeta.total_rows=this.viewMeta.total_rows-1,this.trigger("totalRows:decrement"))},updateSeq:function(){return!!this.viewMeta&&(this.viewMeta.update_seq||!1)},parse:function(e){var t=e.rows,n=_.filter(t,function(e){return e.value});return e.rows=_.map(n,function(e){var t={_id:e.id,_rev:e.value.rev,value:e.value,key:e.key};return e.doc&&(t.doc=e.doc),t}),d.default.prototype.parse.call(this,e)},clone:function(){return new this.constructor(this.models,{database:this.database,params:this.params,paging:this.paging})}}),t.default=f},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),s=a(u),c=n(0),d=a(c),f=n(14),p=n(188),h=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e="fonticon fonticon-bell"+(this.props.visible?"":" hide");return d.default.createElement("div",{className:e,onClick:this.props.onClick})}}]),t}(d.default.Component);h.propTypes={onClick:s.default.func.isRequired,visible:s.default.bool.isRequired};var m=function(e){return{visible:!e.notifications.notificationCenterVisible}},_=function(e){return{onClick:function(){e((0,p.showNotificationCenter)())}}},g=(0,f.connect)(m,_)(h);t.default=g},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.length-1;return e.map(function(e,n){var a=[u.default.createElement(s,{key:n},e.name)];return e.link&&(a=[u.default.createElement(s,{key:n},u.default.createElement("a",{className:"faux-header__breadcrumbs-link",href:"#/"+e.link},e.name))]),e.name?(n<t&&a.push(u.default.createElement(c,{key:"divider_"+n})),a):a})}Object.defineProperty(t,"__esModule",{value:!0}),t.Breadcrumbs=void 0;var r=n(1),i=a(r),l=n(0),u=a(l);a(n(10)),(t.Breadcrumbs=function(e){var t=e.crumbs;return u.default.createElement("div",{className:"faux-header__breadcrumbs"},o(t))}).propTypes={crumbs:i.default.array.isRequired};var s=function(e){var t=e.children;return u.default.createElement("div",{className:"faux-header__breadcrumbs-element"},t)},c=function(){return u.default.createElement("div",{className:"fonticon-right-open faux-header__breadcrumbs-divider"})}},,,,,,,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.TabElementWrapper=t.TabElement=void 0;var o=n(1),r=a(o),i=n(0),l=a(i);a(n(10)),(t.TabElement=function(e){var t=e.selected,n=e.text,a=e.onChange,o=e.iconClass,r=e.badgeText,i=t?"tab-element-checked":"",u=null;return r&&(u=l.default.createElement("span",{className:"tab-element-badge"},r)),l.default.createElement("li",{className:"component-tab-element "+i},l.default.createElement("label",null,l.default.createElement("div",{className:"tab-element-indicator-wrapper"},l.default.createElement("div",{className:"tab-element-indicator"})),l.default.createElement("div",{className:"tab-element-content"},l.default.createElement("i",{className:o}),l.default.createElement("input",{type:"radio",value:n,checked:t,onChange:a}),n,u)))}).propTypes={selected:r.default.bool.isRequired,text:r.default.string.isRequired,onChange:r.default.func.isRequired,iconClass:r.default.string,badgeText:r.default.string},t.TabElementWrapper=function(e){var t=e.children;return l.default.createElement("ul",{className:"component-tab-element-wrapper"},t)}},,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={INDEX_RESULTS_NEW_RESULTS:"INDEX_RESULTS_NEW_RESULTS",INDEX_RESULTS_RESET:"INDEX_RESULTS_RESET",INDEX_RESULTS_SELECT_DOC:"INDEX_RESULTS_SELECT_DOC",INDEX_RESULTS_CLEAR_RESULTS:"INDEX_RESULTS_CLEAR_RESULTS",INDEX_RESULTS_TOOGLE_SELECT_ALL_DOCUMENTS:"INDEX_RESULTS_TOOGLE_SELECT_ALL_DOCUMENTS",INDEX_RESULTS_SELECT_NEW_FIELD_IN_TABLE:"INDEX_RESULTS_SELECT_NEW_FIELD_IN_TABLE",INDEX_RESULTS_CLEAR_SELECTED_ITEMS:"INDEX_RESULTS_CLEAR_SELECTED_ITEMS",INDEX_RESULTS_TOGGLE_PRIORITIZED_TABLE_VIEW:"INDEX_RESULTS_TOGGLE_PRIORITIZED_TABLE_VIEW",INDEX_RESULTS_REDUX_NEW_RESULTS:"INDEX_RESULTS_REDUX_NEW_RESULTS",INDEX_RESULTS_REDUX_IS_LOADING:"INDEX_RESULTS_REDUX_IS_LOADING",INDEX_RESULTS_REDUX_CHANGE_LAYOUT:"INDEX_RESULTS_REDUX_CHANGE_LAYOUT",INDEX_RESULTS_REDUX_TOGGLE_SHOW_ALL_COLUMNS:"INDEX_RESULTS_REDUX_TOGGLE_SHOW_ALL_COLUMNS",INDEX_RESULTS_REDUX_SET_PER_PAGE:"INDEX_RESULTS_REDUX_SET_PER_PAGE",INDEX_RESULTS_REDUX_PAGINATE_NEXT:"INDEX_RESULTS_REDUX_PAGINATE_NEXT",INDEX_RESULTS_REDUX_PAGINATE_PREVIOUS:"INDEX_RESULTS_REDUX_PAGINATE_PREVIOUS",INDEX_RESULTS_REDUX_NEW_SELECTED_DOCS:"INDEX_RESULTS_REDUX_NEW_SELECTED_DOCS",INDEX_RESULTS_REDUX_CHANGE_TABLE_HEADER_ATTRIBUTE:"INDEX_RESULTS_REDUX_CHANGE_TABLE_HEADER_ATTRIBUTE",INDEX_RESULTS_REDUX_RESET_STATE:"INDEX_RESULTS_REDUX_RESET_STATE",INDEX_RESULTS_REDUX_NEW_QUERY_OPTIONS:"INDEX_RESULTS_REDUX_NEW_QUERY_OPTIONS",INDEX_RESULTS_REDUX_PARTITION_PARAM_NOT_SUPPORTED:"INDEX_RESULTS_REDUX_PARTITION_PARAM_NOT_SUPPORTED",INDEX_RESULTS_REDUX_PARTITION_PARAM_MANDATORY:"INDEX_RESULTS_REDUX_PARTITION_PARAM_MANDATORY",INDEX_RESULTS_SET_STYLE:"INDEX_RESULTS_SET_STYLE"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=n(2),r=function(e){return e&&e.__esModule?e:{default:e}}(o),i=function(e){var t=e.def,n=e.type,a=[],o=void 0;return a=t.fields.reduce(function(e,t,a){return 0===a?e.push(n+": "+Object.keys(t)[0]):e.push(Object.keys(t)[0]),e},[]),a.length||(o=r.default.getExtensions("mango:additionalIndexes")[0],a=o?o.createHeader({def:t,type:n}):[n+": "+(t.selector?JSON.stringify(t.selector):"{}")]),a.join(", ")},l=function(e){return JSON.stringify(e,null,3)},u=function(e){var t=a({},e);return delete t.ddoc,delete t.name,JSON.stringify(t,null," ")};t.default={getIndexName:i,formatCode:l,getIndexContent:u}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.mangoQueryDocs=t.mangoQuery=t.mergeFetchParams=t.fetchIndexes=t.createIndex=t.fetchQueryExplain=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=n(11),i=a(r),l=n(21),u=n(2),s=a(u),c=n(30),d=a(c),f=(t.fetchQueryExplain=function(e,t,n){var a=t?encodeURIComponent(t):"",o=s.default.urls("mango","explain-server",encodeURIComponent(e),a);return(0,l.post)(o,n,{rawBody:!0}).then(function(e){if(e.error)throw new Error("("+e.error+") "+e.reason);return e})},t.createIndex=function(e,t){var n=s.default.urls("mango","index-server",i.default.utils.safeURLName(e));return(0,l.post)(n,t,{rawBody:!0}).then(function(e){if(e.error)throw new Error("("+e.error+") "+e.reason);return e})},t.fetchIndexes=function(e,t){var n=i.default.utils.queryString(t),a=s.default.urls("mango","index-server",i.default.utils.safeURLName(e));return a=a+(-1!==a.indexOf("?")?"&":"?")+n,(0,l.get)(a).then(function(e){if(e.error)throw new Error("("+e.error+") "+e.reason);return{docs:e.indexes,docType:d.default.INDEX_RESULTS_DOC_TYPE.MANGO_INDEX,layout:d.default.LAYOUT_ORIENTATION.JSON}})},null),p=function(e){return null===f?new s.default.Promise(function(t){m(e,"",{selector:{_id:{$gt:"a"}},execution_stats:!0},{limit:1}).then(function(e){f=200==e.status,t(f)})}):Promise.resolve(f)},h=t.mergeFetchParams=function(e,t){var n=t.limit,a=t.limit-1,r=Math.floor(t.skip/a)+1,i=r*a-e.limit;return i>=0&&(n=a-i),o({},e,{limit:n,skip:e.skip?t.skip+e.skip:t.skip})},m=t.mangoQuery=function(e,t,n,a){var o=t?encodeURIComponent(t):"",r=s.default.urls("mango","query-server",encodeURIComponent(e),o),i=h(n,a);return(0,l.post)(r,i,{raw:!0})};t.mangoQueryDocs=function(e,t,n,a){return p(e).then(function(o){return o&&(n.execution_stats=!0),m(e,t,n,a).then(function(e){return e.json()}).then(function(e){if(e.error)throw new Error("("+e.error+") "+e.reason);return{docs:e.docs,docType:d.default.INDEX_RESULTS_DOC_TYPE.MANGO_QUERY,executionStats:e.execution_stats,warning:e.warning}})})}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ConflictModal=t.ErrorModal=t.DeleteModal=void 0;var o=n(1),r=a(o),i=n(0),l=a(i),u=n(20),s=n(13),c=a(s),d=c.default.ConfirmButton,f=t.DeleteModal=function(e){var t=e.visible,n=e.onClose,a=e.onClick,o=e.multipleDocs,r=e.isReplicationDB;if(!t)return null;var i="",s="Delete "+(r?"Document":"Replication Job"),c="Deleting a replication "+(r?"document":"job")+" stops continuous replication\n          and incomplete one-time replication, but does not affect replicated documents.";return o>1&&(i="You are deleting <strong>"+o+"</strong> replication "+(r?"documents":"jobs")+".",s="Delete "+(r?"Documents":"Replication Jobs")),l.default.createElement(u.Modal,{dialogClassName:"replication_delete-doc-modal",show:t,onHide:function(){return n()}},l.default.createElement(u.Modal.Header,{closeButton:!0},l.default.createElement(u.Modal.Title,null,"Verify Deletion")),l.default.createElement(u.Modal.Body,null,l.default.createElement("p",{dangerouslySetInnerHTML:{__html:i}}),l.default.createElement("p",null,c)),l.default.createElement(u.Modal.Footer,null,l.default.createElement("a",{className:"cancel-link",onClick:n},"Cancel"),l.default.createElement(d,{customIcon:"icon-trash",text:s,onClick:a})))};f.propTypes={visible:r.default.bool.isRequired,isReplicationDB:r.default.bool.isRequired,onClick:r.default.func.isRequired,onClose:r.default.func.isRequired,multipleDocs:r.default.number.isRequired},f.defaultProps={isReplicationDB:!0},(t.ErrorModal=function(e){var t=e.visible,n=e.onClose,a=e.errorMsg,o=e.status;if(!t)return null;var r="Replication Error",i=l.default.createElement("p",null,"The replication job will be tried at increasing intervals");return"failed"===o.toLowerCase()&&(r="Replication Error - Failed",i=null),l.default.createElement(u.Modal,{dialogClassName:"replication__error-doc-modal",show:t,onHide:function(){return n()}},l.default.createElement(u.Modal.Header,{closeButton:!0},l.default.createElement(u.Modal.Title,null,r)),l.default.createElement(u.Modal.Body,null,l.default.createElement("p",null,a),i),l.default.createElement(u.Modal.Footer,null))}).propTypes={visible:r.default.bool.isRequired,onClick:r.default.func.isRequired,onClose:r.default.func.isRequired,errorMsg:r.default.string.isRequired},(t.ConflictModal=function(e){var t=e.visible,n=e.docId,a=e.onClose,o=e.onClick;return t?l.default.createElement(u.Modal,{dialogClassName:"replication__error-doc-modal",show:t,onHide:function(){return a()}},l.default.createElement(u.Modal.Header,{closeButton:!0},l.default.createElement(u.Modal.Title,null,"Custom ID Conflict")),l.default.createElement(u.Modal.Body,null,l.default.createElement("p",null,"A replication document with ID ",l.default.createElement("code",null,n)," already exists."),l.default.createElement("p",null,"You can overwrite the existing document, or change the new replication job’s document ID."),l.default.createElement("p",null,"If you overwrite the existing document, any replication job currently using the replication document will stop, and that job will not appear in Replicator DB Activity. Replicated documents will not be affected.")),l.default.createElement(u.Modal.Footer,null,l.default.createElement("button",{onClick:a,className:"btn replication__error-cancel"},"Change Document ID"),l.default.createElement("button",{onClick:o,className:"btn replication__error-continue"},l.default.createElement("i",{className:"icon icon-eraser"})," Overwrite Existing Document"))):null}).propTypes={visible:r.default.bool.isRequired,onClick:r.default.func.isRequired,onClose:r.default.func.isRequired,docId:r.default.string.isRequired}},,,,,,,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(22),r=a(o),i=n(556),l=a(i),u={getParams:function(e){e&&("?"===e.substring(0,1)?e=e.substring(1):e.indexOf("?")>-1&&(e=e.split("?")[1]));var t=window.location.hash.split("?")[1];e=e||t||window.location.search.substring(1);var n={},a=/\+/g,o=/([^&=]+)=?([^&]*)/g,r=function(e){return decodeURIComponent(e.replace(a," "))},i=e;if(e)for(var l=void 0;l=o.exec(i);)n[r(l[1])]=r(l[2]);return n},removeSpecialCharacters:function(e){return e.replace(/[^\w\s]/gi,"")},safeURLName:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return encodeURIComponent(e)},queryParams:function(e){return(0,l.default)(e)},queryString:function(e){return Object.keys(e).forEach(function(t){void 0===e[t]&&delete e[t]}),(0,l.default)(e)},getDocTypeFromId:function(e){return e&&/^_design\//.test(e)?"design doc":"doc"},isSystemDatabase:function(e){return/^_/.test(e)},getSafeIdForDoc:function(e){if("design doc"===u.getDocTypeFromId(e)){var t=e.replace(/^_design\//,"");return"_design/"+u.safeURLName(t)}return u.safeURLName(e)},localStorageSet:function(e,t){(r.default.isObject(t)||r.default.isArray(t))&&(t=JSON.stringify(t));var n=!0;try{window.localStorage.setItem(e,t)}catch(e){n=!1}return n},localStorageGet:function(e){var t=void 0;if(r.default.has(window.localStorage,e)){t=window.localStorage[e];try{return JSON.parse(t)}catch(e){return t}}return t},stripHTML:function(e){if(!document)return e;var t=document.createElement("div");return t.innerHTML=e,t.textContent||t.innerText}};t.default=u},,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.hideNavBar=t.showNavBar=t.setNavbarActiveLink=t.setNavbarVersionInfo=t.removeHeaderLink=t.addHeaderLink=t.toggleNavbarMenu=void 0;var o=n(2),r=a(o),i=n(299),l=a(i);t.toggleNavbarMenu=function(){return function(e){e({type:l.default.TOGGLE_NAVBAR_MENU})}},t.addHeaderLink=function(e){return function(t){t({type:l.default.ADD_NAVBAR_LINK,link:e})}},t.removeHeaderLink=function(e){return function(t){t({type:l.default.REMOVE_NAVBAR_LINK,link:e})}},t.setNavbarVersionInfo=function(e){r.default.reduxDispatch({type:l.default.NAVBAR_SET_VERSION_INFO,version:e})},t.setNavbarActiveLink=function(e){return function(t){t({type:l.default.NAVBAR_ACTIVE_LINK,name:e})}},t.showNavBar=function(){return function(e){e({type:l.default.NAVBAR_SHOW})}},t.hideNavBar=function(){return function(e){e({type:l.default.NAVBAR_HIDE})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={DATABASES_SETPAGE:"DATABASES_SETPAGE",DATABASES_SETLIMIT:"DATABASES_SETLIMIT",DATABASES_SET_PROMPT_VISIBLE:"DATABASES_SET_PROMPT_VISIBLE",DATABASES_STARTLOADING:"DATABASES_STARTLOADING",DATABASES_LOADCOMPLETE:"DATABASES_LOADCOMPLETE",DATABASES_UPDATE:"DATABASES_UPDATE",DATABASES_PARTITIONED_DB_AVAILABLE:"DATABASES_PARTITIONED_DB_AVAILABLE",DATABASES_FETCH_SELECTED_DB_METADATA:"DATABASES_FETCH_SELECTED_DB_METADATA",DATABASES_FETCH_SELECTED_DB_METADATA_SUCCESS:"DATABASES_FETCH_SELECTED_DB_METADATA_SUCCESS"}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hideAllVisibleNotifications=t.hideNotification=t.startHidingNotification=t.selectNotificationFilter=t.clearSingleNotification=t.clearAllNotifications=t.hideNotificationCenter=t.showNotificationCenter=t.addNotification=void 0;var a=n(300),o=function(e){return e&&e.__esModule?e:{default:e}}(a);t.addNotification=function(e){return function(t){t({type:o.default.ADD_NOTIFICATION,options:{info:e}})}},t.showNotificationCenter=function(){return function(e){e({type:o.default.SHOW_NOTIFICATION_CENTER})}},t.hideNotificationCenter=function(){return function(e){e({type:o.default.HIDE_NOTIFICATION_CENTER})}},t.clearAllNotifications=function(){return function(e){e({type:o.default.CLEAR_ALL_NOTIFICATIONS})}},t.clearSingleNotification=function(e){return function(t){t({type:o.default.CLEAR_SINGLE_NOTIFICATION,options:{notificationId:e}})}},t.selectNotificationFilter=function(e){return function(t){t({type:o.default.SELECT_NOTIFICATION_FILTER,options:{filter:e}})}},t.startHidingNotification=function(e){return function(t){t({type:o.default.START_HIDING_NOTIFICATION,options:{notificationId:e}})}},t.hideNotification=function(e){return function(t){t({type:o.default.HIDE_NOTIFICATION,options:{notificationId:e}})}},t.hideAllVisibleNotifications=function(){return function(e){e({type:o.default.HIDE_ALL_NOTIFICATIONS})}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.CodeEditor=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(0),s=a(u),c=n(10),d=(a(c),n(2)),f=a(d),p=n(217),h=a(p);n(794);var m=n(359);n(362),n(218),n(219),(t.CodeEditor=function(e){function t(){var e,n,a,i;o(this,t);for(var l=arguments.length,u=Array(l),s=0;s<l;s++)u[s]=arguments[s];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.state={originalCode:a.props.defaultCode,stringEditModalVisible:!1,stringEditIconVisible:!1,stringEditIconStyle:{},stringEditModalValue:""},a.hasChanged=function(){return!_.isEqual(a.state.originalCode,a.getValue())},a.clearChanges=function(){a.setState({originalCode:a.getValue()})},a.setupAce=function(e,t){a.editor=h.default.edit(a.ace),a.editor.$blockScrolling=1/0,t&&a.setValue(e.defaultCode),a.editor.setShowPrintMargin(e.showPrintMargin),a.editor.autoScrollEditorIntoView=e.autoScrollEditorIntoView,a.editor.setOption("highlightActiveLine",a.props.highlightActiveLine),a.props.setHeightToLineCount&&a.setHeightToLineCount(),a.props.ignorableErrors&&a.removeIgnorableAnnotations(),a.addCommands(),a.editor.getSession().setMode("ace/mode/"+e.mode),a.editor.setTheme("ace/theme/"+e.theme),a.editor.setFontSize(e.fontSize),a.editor.getSession().setTabSize(2),a.editor.getSession().setUseSoftTabs(!0),a.props.autoFocus&&a.editor.focus()},a.addCommands=function(){_.each(a.props.editorCommands,function(e){a.editor.commands.addCommand(e)})},a.setupEvents=function(){a.editor.on("blur",_.bind(a.onBlur,a)),a.editor.on("change",_.bind(a.onContentChange,a)),a.props.stringEditModalEnabled&&(a.editor.on("changeSelection",_.bind(a.showHideEditStringGutterIcon,a)),a.editor.getSession().on("changeBackMarker",_.bind(a.showHideEditStringGutterIcon,a)),a.editor.getSession().on("changeScrollTop",_.bind(a.updateEditStringGutterIconPosition,a))),a.props.notifyUnsavedChanges&&(window.addEventListener("beforeunload",a.quitWarningMsg),f.default.beforeUnload("editor_"+a.props.id,a.quitWarningMsg))},a.onBlur=function(){a.props.blur(a.getValue())},a.onContentChange=function(){a.props.setHeightToLineCount&&a.setHeightToLineCount(),a.props.change(a.getValue())},a.quitWarningMsg=function(){if(a.hasChanged())return"Your changes have not been saved. Click Cancel to return to the document, or OK to proceed."},a.removeEvents=function(){a.props.notifyUnsavedChanges&&(window.removeEventListener("beforeunload",a.quitWarningMsg),f.default.removeBeforeUnload("editor_"+a.props.id))},a.setHeightToLineCount=function(){var e=a.editor.getSession().getDocument().getLength(),t=e>a.props.maxLines?a.props.maxLines:e;a.editor.setOptions({maxLines:t,minLines:a.props.minLines})},a.getAnnotations=function(){return a.editor.getSession().getAnnotations()},a.isIgnorableError=function(e){return-1!==_.indexOf(a.props.ignorableErrors,e)},a.removeIgnorableAnnotations=function(){var e=a.isIgnorableError;a.editor.getSession().on("changeAnnotation",function(){var t=this.editor.getSession().getAnnotations(),n=_.reduce(t,function(t,n){return e(n.raw)||t.push(n),t},[]);t.length!==n.length&&this.editor.getSession().setAnnotations(n)}.bind(a))},a.showHideEditStringGutterIcon=function(){return a.hasErrors()||!a.parseLineForStringMatch()?(a.setState({stringEditIconVisible:!1}),!1):(a.setState({stringEditIconVisible:!0,stringEditIconStyle:{top:a.getGutterIconPosition()}}),!0)},a.updateEditStringGutterIconPosition=function(){a.state.stringEditIconVisible&&a.setState({stringEditIconStyle:{top:a.getGutterIconPosition()}})},a.getGutterIconPosition=function(){var e=a.getRowHeight(),t=a.editor.session.getScrollTop();return e*a.documentToScreenRow(a.getSelectionStart().row)-t+"px"},a.parseLineForStringMatch=function(){var e=a.getSelectionStart().row,t=a.getSelectionEnd().row;if(e>=0&&t>=0&&e===t&&a.isRowExpanded(e)){var n=a.getLine(e),o=n.match(/^([ \t]*)("[^"]*["][ \t]*:[ \t]*)?(["|'].*"[ \t]*,?[ \t]*)$/);if(o)return o}return!1},a.openStringEditModal=function(){var e=a.parseLineForStringMatch(),t=e[3].trim();","===t.substring(t.length-1)&&(t=t.substring(0,t.length-1).trim()),t=t.substring(1,t.length-1),a.setState({stringEditModalVisible:!0,stringEditModalValue:t})},a.saveStringEditModal=function(e){var t=a.parseLineForStringMatch(),n=t[1]||"",o=t[2]||"",r=t[3],i="";","===r.substring(r.length-1)&&(i=","),a.replaceCurrentLine(n+o+JSON.stringify(e)+i+"\n"),a.closeStringEditModal()},a.closeStringEditModal=function(){a.setState({stringEditModalVisible:!1})},a.hasErrors=function(){return!_.every(a.getAnnotations(),function(e){return a.isIgnorableError(e.raw)})},a.setReadOnly=function(e){a.editor.setReadOnly(e)},a.setValue=function(e,t){t=t||-1,a.editor.setValue(e,t)},a.getValue=function(){return a.editor.getValue()},a.getEditor=function(){return a},a.getLine=function(e){return a.editor.session.getLine(e)},a.getSelectionStart=function(){return a.editor.getSelectionRange().start},a.getSelectionEnd=function(){return a.editor.getSelectionRange().end},a.getRowHeight=function(){return a.editor.renderer.layerConfig.lineHeight},a.isRowExpanded=function(e){return!a.editor.getSession().isRowFolded(e)},a.documentToScreenRow=function(e){return a.editor.getSession().documentToScreenRow(e,0)},a.replaceCurrentLine=function(e){a.editor.getSelection().selectLine(),a.editor.insert(e),a.editor.getSelection().moveCursorUp()},i=n,r(a,i)}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this.setupAce(this.props,!0),this.setupEvents(),this.props.autoFocus&&this.editor.focus()}},{key:"componentWillUnmount",value:function(){this.removeEvents(),this.editor.destroy()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setupAce(e,!1)}},{key:"render",value:function(){var e=this;return s.default.createElement("div",null,s.default.createElement("div",{ref:function(t){return e.ace=t},className:"js-editor",id:this.props.id}),s.default.createElement("button",{ref:function(t){return e.stringEditIcon=t},className:"btn string-edit",title:"Edit string",disabled:!this.state.stringEditIconVisible,style:this.state.stringEditIconStyle,onClick:this.openStringEditModal},s.default.createElement("i",{className:"icon icon-edit"})),s.default.createElement(m.StringEditModal,{ref:function(t){return e.stringEditModal=t},visible:this.state.stringEditModalVisible,value:this.state.stringEditModalValue,onSave:this.saveStringEditModal,onClose:this.closeStringEditModal}))}}]),t}(s.default.Component)).defaultProps={id:"code-editor",mode:"javascript",theme:"idle_fingers",fontSize:13,defaultCode:"",showGutter:!0,highlightActiveLine:!0,showPrintMargin:!1,autoScrollEditorIntoView:!0,autoFocus:!1,stringEditModalEnabled:!1,setHeightToLineCount:!1,maxLines:10,minLines:11,editorCommands:[],notifyUnsavedChanges:!1,ignorableErrors:[],change:function(){},blur:function(){}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.LoadLines=void 0;var o=n(0),r=a(o);a(n(10)),t.LoadLines=function(){return r.default.createElement("div",{className:"loading-lines"},r.default.createElement("div",{id:"line1"}," "),r.default.createElement("div",{id:"line2"}," "),r.default.createElement("div",{id:"line3"}," "),r.default.createElement("div",{id:"line4"}," "))}},,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(11),r=a(o),i=n(2),l=a(i),u=n(137),s=a(u),c=n(119),d=a(c),f=l.default.RouteObject.extend({selectedHeader:"Databases",createDesignDocsCollection:function(){this.designDocs=new s.default.AllDocs(null,{database:this.database,paging:{pageSize:500},params:{startkey:"_design/",endkey:"_design0",include_docs:!0,limit:500}})},addSidebar:function(e){var t={designDocs:this.designDocs,database:this.database};e&&(t.selectedNavItem=e),d.default.dispatchNewOptions(t)},getCrumbs:function(e){return[{type:"back",link:l.default.urls("allDBs","app")},{name:e.id}]},createParams:function(e){var t=r.default.getParams(e);return{urlParams:t,docParams:s.default.QueryParams.parse(t)}}});t.default=f},function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.SidebarItemSelection=function e(t,n){if(a(this,e),this.navItem=t,n){var o=n.designDocName,r=n.designDocSection,i=n.indexName;this.designDocName=o||"",this.designDocSection=r||"",this.indexName=i||""}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ViewsTabsSidebarLayout=t.ChangesSidebarLayout=t.DocsTabsSidebarLayout=t.TabsSidebarContent=t.TabsSidebarHeader=void 0;var o=n(1),r=a(o),i=n(0),l=a(i),u=n(138),s=a(u),c=n(402),d=a(c),f=n(904),p=a(f),h=n(905),m=a(h),_=n(912),g=a(_),b=n(404),y=a(b),E=n(915),v=a(E),O=n(918),D=a(O),N=n(421),T=a(N),S=n(422),w=a(S),C=n(423),R=a(C),I=n(418),A=n(424),P=a(A),L=n(30),M=a(L),k=n(40),x=a(k),j=t.TabsSidebarHeader=function(e){var t=e.hideQueryOptions,n=e.hideJumpToDoc,a=e.database,o=e.dbName,r=e.dropDownLinks,i=e.docURL,u=e.endpoint,c=e.endpointAddQueryOptions,d=e.fetchUrl,f=e.ddocsOnly,h=e.queryDocs,m=e.selectedNavItem,_=e.showPartitionKeySelector,g=e.partitionKey,b=e.onPartitionKeySelected,y=e.onGlobalModeSelected,E=e.globalMode,v=null;return _&&(v=l.default.createElement(P.default,{databaseName:o,partitionKey:g,onPartitionKeySelected:b,onGlobalModeSelected:y,globalMode:E})),l.default.createElement("header",{className:"two-panel-header"},l.default.createElement("div",{className:"flex-layout flex-row"},l.default.createElement("div",{id:"header-docs-left"},l.default.createElement(p.default,{dbName:o,partitionKey:g,dropDownLinks:r})),l.default.createElement("div",{className:"right-header-wrapper flex-layout flex-row flex-body"},l.default.createElement("div",{style:{flex:1,padding:"18px 6px 12px 12px"}},v),l.default.createElement("div",{id:"right-header",className:"flex-fill"},l.default.createElement(D.default,{hideQueryOptions:t,hideJumpToDoc:n,database:a,fetchUrl:d,ddocsOnly:f,queryDocs:h,partitionKey:g,selectedNavItem:m})),l.default.createElement(R.default,{docURL:i,endpoint:u,endpointAddQueryOptions:c}),l.default.createElement("div",{id:"notification-center-btn",className:"flex-fill"},l.default.createElement(s.default,null)))))};j.propTypes={dbName:r.default.string.isRequired,dropDownLinks:r.default.array.isRequired,docURL:r.default.string,endpoint:r.default.string,showIncludeAllDocs:r.default.bool,hideQueryOptions:r.default.bool,hideJumpToDoc:r.default.bool,database:r.default.object.isRequired,queryDocs:r.default.func,selectedNavItem:r.default.object,showPartitionKeySelector:r.default.bool.isRequired,partitionKey:r.default.string,onPartitionKeySelected:r.default.func,onGlobalModeSelected:r.default.func,globalMode:r.default.bool},j.defaultProps={hideHeaderBar:!1,showPartitionKeySelector:!1};var U=t.TabsSidebarContent=function(e){var t=e.hideFooter,n=e.lowerContent,a=e.upperContent,o=e.fetchUrl,r=e.databaseName,i=e.queryDocs,u=e.selectedNavItem,s=e.partitionKey;return l.default.createElement("div",{className:"with-sidebar tabs-with-sidebar content-area"},l.default.createElement("aside",{id:"sidebar-content",className:"scrollable"},l.default.createElement(d.default,{selectedNavItem:u,selectedPartitionKey:s})),l.default.createElement("section",{id:"dashboard-content",className:"flex-layout flex-col"},l.default.createElement("div",{id:"dashboard-upper-content"},a),l.default.createElement("div",{id:"dashboard-lower-content",className:"flex-body"},n),l.default.createElement("div",{id:"footer"},t?null:l.default.createElement(w.default,{databaseName:r,fetchUrl:o,queryDocs:i}))))};U.defaultProps={hideFooter:!1},U.propTypes={hideFooter:r.default.bool,lowerContent:r.default.object,upperContent:r.default.object,selectedNavItem:r.default.object};var q=(t.DocsTabsSidebarLayout=function(e){var t=e.database,n=e.designDocs,a=e.docURL,o=e.endpoint,r=e.dbName,i=e.dropDownLinks,u=e.fetchUrl,s=e.ddocsOnly,c=e.deleteEnabled,d=void 0===c||c,f=e.selectedNavItem,p=e.partitionKey,h=e.onPartitionKeySelected,m=e.onGlobalModeSelected,_=e.globalMode,g="all-docs"===f.navItem&&p?p:"",b=function(e){return(0,I.queryAllDocs)(u,g,e)};x.default.isViewSelected(f)&&(b=function(e){return(0,I.queryMapReduceView)(u,e)});var y=l.default.createElement(T.default,{fetchUrl:u,designDocs:n,ddocsOnly:s,databaseName:r,fetchAtStartup:!0,queryDocs:b,docType:M.default.INDEX_RESULTS_DOC_TYPE.VIEW,deleteEnabled:d,partitionKey:p});return l.default.createElement("div",{id:"dashboard",className:"with-sidebar"},l.default.createElement(j,{docURL:a,endpoint:o,endpointAddQueryOptions:!0,dbName:r,dropDownLinks:i,database:t,fetchUrl:u,ddocsOnly:s,queryDocs:b,selectedNavItem:f,showPartitionKeySelector:!s,partitionKey:p,onPartitionKeySelected:h,onGlobalModeSelected:m,globalMode:_}),l.default.createElement(U,{lowerContent:y,fetchUrl:u,databaseName:r,queryDocs:b,selectedNavItem:f,partitionKey:p}))},t.ChangesSidebarLayout=function(e){var t=e.docURL,n=e.database,a=e.endpoint,o=e.dbName,r=e.dropDownLinks,i=e.selectedNavItem,u=e.partitionKey;return l.default.createElement("div",{id:"dashboard",className:"with-sidebar"},l.default.createElement(j,{docURL:t,endpoint:a,dbName:o,dropDownLinks:r,database:n,hideQueryOptions:!0}),l.default.createElement(U,{upperContent:l.default.createElement(g.default,null),lowerContent:l.default.createElement(m.default,{databaseName:o}),hideFooter:!0,selectedNavItem:i,partitionKey:u}))},t.ViewsTabsSidebarLayout=function(e){var t=e.showEditView,n=e.database,a=e.docURL,o=e.endpoint,r=e.dbName,i=e.dropDownLinks,u=e.selectedNavItem,s=e.designDocInfo,c=e.partitionKey,d=t?l.default.createElement(y.default.IndexEditorContainer,{partitionKey:c}):l.default.createElement(v.default,{designDocInfo:s,designDocName:u.designDocName});return l.default.createElement("div",{id:"dashboard",className:"with-sidebar"},l.default.createElement(j,{endpoint:o,docURL:a,dbName:r,dropDownLinks:i,database:n,partitionKey:c,queryDocs:function(){},hideQueryOptions:!0,hideJumpToDoc:!0}),l.default.createElement(U,{lowerContent:d,hideFooter:!0,selectedNavItem:u,partitionKey:c}))});q.defaultProps={showEditView:!0},q.propTypes={showEditView:r.default.bool,docURL:r.default.string.isRequired,endpoint:r.default.string,dbName:r.default.string.isRequired,dropDownLinks:r.default.array.isRequired,designDocInfo:r.default.object}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),r=a(o),i=n(81),l=a(i),u=n(408),s=a(u),c=n(119),d=a(c),f=function(e){return function(t){t({type:s.default.SELECT_REDUCE_CHANGE,reduceSelectedOption:e})}},p=function(e){return function(t){t({type:s.default.VIEW_NAME_CHANGE,name:e})}},h=function(e){return function(t){t({type:s.default.EDIT_INDEX,options:e})}},m=function(){r.default.reduxDispatch({type:s.default.CLEAR_INDEX})},g=function(e){e.designDocs.fetch({reset:!0}).then(function(){h(e)(r.default.reduxDispatch)},function(t){var n="Error";t.responseJSON&&"not_found"===t.responseJSON.error&&(n="The "+e.designDocs.database.safeID()+" database does not exist",r.default.navigate("/",{trigger:!0})),r.default.addNotification({msg:n,type:"error",clear:!0})})},b=function(e){return!e.isNewView&&e.originalDesignDocName===e.designDocId&&e.originalViewName!==e.viewName},y=function(e,t){return function(n){var a=e.designDoc;a.setDdocView(e.viewName,e.map,e.reduce),r.default.addNotification({msg:"Saving View...",type:"info",clear:!0}),b(e)&&a.removeDdocView(e.originalViewName),a.save().then(function(){if(r.default.addNotification({msg:"View Saved.",type:"success",clear:!0}),!e.isNewView&&e.originalDesignDocName!==e.designDocId){var o=I(e.designDocs,e.originalDesignDocName);R(o,e.designDocs,"views",e.originalViewName,{onSuccess:function(){d.default.dispatchUpdateDesignDocs(e.designDocs)}})}"new-doc"===e.designDocId&&E(a),d.default.dispatchUpdateDesignDocs(e.designDocs),n({type:s.default.VIEW_SAVED}),r.default.navigate(t,{trigger:!0})},function(e){r.default.addNotification({msg:"Save failed. "+(e.responseJSON?"Reason: "+e.responseJSON.reason:""),type:"error",clear:!0})})}},E=function(e){return function(t){t({type:s.default.VIEW_ADD_DESIGN_DOC,designDoc:e.toJSON()})}},v=function(e){function t(){if(e.isOnIndex){var t=r.default.urls("allDocs","app",e.database.safeID());r.default.navigate(t)}d.default.dispatchUpdateDesignDocs(e.designDocs),r.default.addNotification({msg:"The <code>"+_.escape(e.indexName)+"</code> view has been deleted.",type:"info",escape:!1,clear:!0}),d.default.dispatchHideDeleteIndexModal()}return R(e.designDoc,e.designDocs,"views",e.indexName,{onSuccess:t})},O=function(e){var t=A(e.designDocs,e.targetDesignDocName,e.newDesignDocName,e.newDesignDocPartitioned,e.database,e.isDbPartitioned),n=t.get("views");if(n&&_.has(n,e.newIndexName))return void r.default.addNotification({msg:"That index name is already used in this design doc. Please enter a new name.",type:"error",clear:!0});n||(n={});var a=I(e.designDocs,"_design/"+e.sourceDesignDocName),o=a.toJSON();n[e.newIndexName]=o.views[e.sourceIndexName],t.set({views:n}),t.save().then(function(){e.onComplete(),r.default.addNotification({msg:"The index has been cloned.",type:"success",clear:!0}),d.default.dispatchUpdateDesignDocs(e.designDocs)},function(t){e.onComplete();var n=JSON.parse(t.responseText).reason;r.default.addNotification({msg:"Clone failed: "+n,type:"error",clear:!0})})},D=function(e,t,n,a){r.default.navigate("#"+r.default.urls("view","edit",encodeURIComponent(e),t?encodeURIComponent(t):"",encodeURIComponent(n),encodeURIComponent(a)))},N=function(e){return function(t){t({type:s.default.VIEW_UPDATE_MAP_CODE,code:e})}},T=function(e){return function(t){t({type:s.default.VIEW_UPDATE_REDUCE_CODE,code:e})}},S=function(e){return function(t){t({type:s.default.DESIGN_DOC_CHANGE,options:{value:e}})}},w=function(e){return function(t){t({type:s.default.DESIGN_DOC_NEW_NAME_UPDATED,options:{value:e}})}},C=function(e){return function(t){t({type:s.default.DESIGN_DOC_NEW_PARTITIONED_UPDATED,options:{value:e}})}},R=function(e,t,n,a,o){var i=_.extend({onSuccess:function(){},onError:function(e){var t=JSON.parse(e.responseText).reason;r.default.addNotification({msg:"Delete failed: "+t,type:"error",clear:!0})}},o),l=e.get(n)||{};delete l[a];var u={};u[n]=l,e.set(u);var s=r.default.getIndexTypePropNames(),c=_.some(s,function(t){return e.get(t)&&_.keys(e.get(t)).length>0}),d=void 0,f=!1;return c?d=e.save():(d=e.destroy(),f=!0),d.then(function(){f&&t.remove(e.id),i.onSuccess()},i.onError)},I=function(e,t){return e.find(function(e){return e.id===t}).dDocModel()},A=function(e,t,n,a,o,r){if("new-doc"===t){var i={_id:"_design/"+n,views:{},language:"javascript"},u=new l.default.Doc(i,{database:o});return r&&u.setDDocPartitionedOption(a),u}var s=e.find(function(e){return e.id===t});return s?s.dDocModel():null};t.default={helpers:{findDesignDoc:I,getDesignDoc:A},safeDeleteIndex:R,selectReduceChanged:f,changeViewName:p,editIndex:h,dispatchClearIndex:m,dispatchFetchDesignDocsBeforeEdit:g,shouldRemoveDdocView:b,saveView:y,addDesignDoc:E,deleteView:v,cloneView:O,gotoEditViewPage:D,updateMapCode:N,updateReduceCode:T,selectDesignDoc:S,updateNewDesignDocName:w,updateNewDesignDocPartitioned:C}},function(e,t,n){"use strict";var a=null;window.PR_SHOULD_USE_CONTINUATION=!0,function(){function e(e){function t(e){var t=e.charCodeAt(0);if(92!==t)return t;var n=e.charAt(1);return(t=c[n])?t:"0"<=n&&n<="7"?parseInt(e.substring(1),8):"u"===n||"x"===n?parseInt(e.substring(2),16):e.charCodeAt(1)}function n(e){return e<32?(e<16?"\\x0":"\\x")+e.toString(16):(e=String.fromCharCode(e),"\\"!==e&&"-"!==e&&"["!==e&&"]"!==e||(e="\\"+e),e)}function a(e){for(var a=e.substring(1,e.length-1).match(/\\u[\dA-Fa-f]{4}|\\x[\dA-Fa-f]{2}|\\[0-3][0-7]{0,2}|\\[0-7]{1,2}|\\[\S\s]|[^\\]/g),e=[],o=[],r="^"===a[0],i=r?1:0,l=a.length;i<l;++i){var u=a[i];if(/\\[bdsw]/i.test(u))e.push(u);else{var s,u=t(u);i+2<l&&"-"===a[i+1]?(s=t(a[i+2]),i+=2):s=u,o.push([u,s]),s<65||u>122||(s<65||u>90||o.push([32|Math.max(65,u),32|Math.min(s,90)]),s<97||u>122||o.push([-33&Math.max(97,u),-33&Math.min(s,122)]))}}for(o.sort(function(e,t){return e[0]-t[0]||t[1]-e[1]}),a=[],u=[NaN,NaN],i=0;i<o.length;++i)l=o[i],l[0]<=u[1]+1?u[1]=Math.max(u[1],l[1]):a.push(u=l);for(o=["["],r&&o.push("^"),o.push.apply(o,e),i=0;i<a.length;++i)l=a[i],o.push(n(l[0])),l[1]>l[0]&&(l[1]+1>l[0]&&o.push("-"),o.push(n(l[1])));return o.push("]"),o.join("")}for(var o=0,r=!1,i=!1,l=0,u=e.length;l<u;++l){var s=e[l];if(s.ignoreCase)i=!0;else if(/[a-z]/i.test(s.source.replace(/\\u[\da-f]{4}|\\x[\da-f]{2}|\\[^UXux]/gi,""))){r=!0,i=!1;break}}for(var c={b:8,t:9,n:10,v:11,f:12,r:13},d=[],l=0,u=e.length;l<u;++l){if(s=e[l],s.global||s.multiline)throw Error(""+s);d.push("(?:"+function(e){for(var t=e.source.match(/\[(?:[^\\\]]|\\[\S\s])*]|\\u[\dA-Fa-f]{4}|\\x[\dA-Fa-f]{2}|\\\d+|\\[^\dux]|\(\?[!:=]|[()^]|[^()[\\^]+/g),n=t.length,i=[],l=0,u=0;l<n;++l){var s=t[l];"("===s?++u:"\\"===s.charAt(0)&&(s=+s.substring(1))&&s<=u&&(i[s]=-1)}for(l=1;l<i.length;++l)-1===i[l]&&(i[l]=++o);for(u=l=0;l<n;++l)s=t[l],"("===s?(++u,void 0===i[u]&&(t[l]="(?:")):"\\"===s.charAt(0)&&(s=+s.substring(1))&&s<=u&&(t[l]="\\"+i[u]);for(u=l=0;l<n;++l)"^"===t[l]&&"^"!==t[l+1]&&(t[l]="");if(e.ignoreCase&&r)for(l=0;l<n;++l)s=t[l],e=s.charAt(0),s.length>=2&&"["===e?t[l]=a(s):"\\"!==e&&(t[l]=s.replace(/[A-Za-z]/g,function(e){return e=e.charCodeAt(0),"["+String.fromCharCode(-33&e,32|e)+"]"}));return t.join("")}(s)+")")}return RegExp(d.join("|"),i?"gi":"g")}function t(e){function t(e){switch(e.nodeType){case 1:if(o.test(e.className))break;for(var n=e.firstChild;n;n=n.nextSibling)t(n);"BR"!==(n=e.nodeName)&&"LI"!==n||(r[u]="\n",l[u<<1]=i++,l[u++<<1|1]=e);break;case 3:case 4:n=e.nodeValue,n.length&&(n=s?n.replace(/\r\n?/g,"\n"):n.replace(/[\t\n\r ]+/g," "),r[u]=n,l[u<<1]=i,i+=n.length,l[u++<<1|1]=e)}}var n,o=/(?:^|\s)nocode(?:\s|$)/,r=[],i=0,l=[],u=0;e.currentStyle?n=e.currentStyle.whiteSpace:window.getComputedStyle&&(n=document.defaultView.getComputedStyle(e,a).getPropertyValue("white-space"));var s=n&&"pre"===n.substring(0,3);return t(e),{a:r.join("").replace(/\n$/,""),c:l}}function n(e,t,n,a){t&&(e={a:t,d:e},n(e),a.push.apply(a,e.e))}function o(t,o){function r(e){for(var t=e.d,a=[t,"pln"],c=0,d=e.a.match(i)||[],f={},p=0,h=d.length;p<h;++p){var m,_=d[p],g=f[_],b=void 0;if("string"==typeof g)m=!1;else{var y=l[_.charAt(0)];if(y)b=_.match(y[1]),g=y[0];else{for(m=0;m<s;++m)if(y=o[m],b=_.match(y[1])){g=y[0];break}b||(g="pln")}!(m=g.length>=5&&"lang-"===g.substring(0,5))||b&&"string"==typeof b[1]||(m=!1,g="src"),m||(f[_]=g)}if(y=c,c+=_.length,m){m=b[1];var E=_.indexOf(m),v=E+m.length;b[2]&&(v=_.length-b[2].length,E=v-m.length),g=g.substring(5),n(t+y,_.substring(0,E),r,a),n(t+y+E,m,u(g,m),a),n(t+y+v,_.substring(v),r,a)}else a.push(t+y,g)}e.e=a}var i,l={};!function(){for(var n=t.concat(o),r=[],u={},s=0,c=n.length;s<c;++s){var d=n[s],f=d[3];if(f)for(var p=f.length;--p>=0;)l[f.charAt(p)]=d;d=d[1],f=""+d,u.hasOwnProperty(f)||(r.push(d),u[f]=a)}r.push(/[\S\s]/),i=e(r)}();var s=o.length;return r}function r(e){var t=[],n=[];e.tripleQuotedStrings?t.push(["str",/^(?:'''(?:[^'\\]|\\[\S\s]|''?(?=[^']))*(?:'''|$)|"""(?:[^"\\]|\\[\S\s]|""?(?=[^"]))*(?:"""|$)|'(?:[^'\\]|\\[\S\s])*(?:'|$)|"(?:[^"\\]|\\[\S\s])*(?:"|$))/,a,"'\""]):e.multiLineStrings?t.push(["str",/^(?:'(?:[^'\\]|\\[\S\s])*(?:'|$)|"(?:[^"\\]|\\[\S\s])*(?:"|$)|`(?:[^\\`]|\\[\S\s])*(?:`|$))/,a,"'\"`"]):t.push(["str",/^(?:'(?:[^\n\r'\\]|\\.)*(?:'|$)|"(?:[^\n\r"\\]|\\.)*(?:"|$))/,a,"\"'"]),e.verbatimStrings&&n.push(["str",/^@"(?:[^"]|"")*(?:"|$)/,a]);var r=e.hashComments;return r&&(e.cStyleComments?(r>1?t.push(["com",/^#(?:##(?:[^#]|#(?!##))*(?:###|$)|.*)/,a,"#"]):t.push(["com",/^#(?:(?:define|elif|else|endif|error|ifdef|include|ifndef|line|pragma|undef|warning)\b|[^\n\r]*)/,a,"#"]),n.push(["str",/^<(?:(?:(?:\.\.\/)*|\/?)(?:[\w-]+(?:\/[\w-]+)+)?[\w-]+\.h|[a-z]\w*)>/,a])):t.push(["com",/^#[^\n\r]*/,a,"#"])),e.cStyleComments&&(n.push(["com",/^\/\/[^\n\r]*/,a]),n.push(["com",/^\/\*[\S\s]*?(?:\*\/|$)/,a])),e.regexLiterals&&n.push(["lang-regex",/^(?:^^\.?|[!+-]|!=|!==|#|%|%=|&|&&|&&=|&=|\(|\*|\*=|\+=|,|-=|->|\/|\/=|:|::|;|<|<<|<<=|<=|=|==|===|>|>=|>>|>>=|>>>|>>>=|[?@[^]|\^=|\^\^|\^\^=|{|\||\|=|\|\||\|\|=|~|break|case|continue|delete|do|else|finally|instanceof|return|throw|try|typeof)\s*(\/(?=[^*/])(?:[^/[\\]|\\[\S\s]|\[(?:[^\\\]]|\\[\S\s])*(?:]|$))+\/)/]),(r=e.types)&&n.push(["typ",r]),e=(""+e.keywords).replace(/^ | $/g,""),e.length&&n.push(["kwd",RegExp("^(?:"+e.replace(/[\s,]+/g,"|")+")\\b"),a]),t.push(["pln",/^\s+/,a," \r\n\t "]),n.push(["lit",/^@[$_a-z][\w$@]*/i,a],["typ",/^(?:[@_]?[A-Z]+[a-z][\w$@]*|\w+_t\b)/,a],["pln",/^[$_a-z][\w$@]*/i,a],["lit",/^(?:0x[\da-f]+|(?:\d(?:_\d+)*\d*(?:\.\d*)?|\.\d\+)(?:e[+-]?\d+)?)[a-z]*/i,a,"0123456789"],["pln",/^\\[\S\s]?/,a],["pun",/^.[^\s\w"-$'./@\\`]*/,a]),o(t,n)}function i(e,t){function n(e){switch(e.nodeType){case 1:if(i.test(e.className))break;if("BR"===e.nodeName)o(e),e.parentNode&&e.parentNode.removeChild(e);else for(e=e.firstChild;e;e=e.nextSibling)n(e);break;case 3:case 4:if(s){var t=e.nodeValue,a=t.match(l);if(a){var r=t.substring(0,a.index);e.nodeValue=r,(t=t.substring(a.index+a[0].length))&&e.parentNode.insertBefore(u.createTextNode(t),e.nextSibling),o(e),r||e.parentNode.removeChild(e)}}}}function o(e){function t(e,n){var a=n?e.cloneNode(!1):e,o=e.parentNode;if(o){var o=t(o,1),r=e.nextSibling;o.appendChild(a);for(var i=r;i;i=r)r=i.nextSibling,o.appendChild(i)}return a}for(;!e.nextSibling;)if(!(e=e.parentNode))return;for(var n,e=t(e.nextSibling,0);(n=e.parentNode)&&1===n.nodeType;)e=n;c.push(e)}var r,i=/(?:^|\s)nocode(?:\s|$)/,l=/\r\n?|\n/,u=e.ownerDocument;e.currentStyle?r=e.currentStyle.whiteSpace:window.getComputedStyle&&(r=u.defaultView.getComputedStyle(e,a).getPropertyValue("white-space"));var s=r&&"pre"===r.substring(0,3);for(r=u.createElement("LI");e.firstChild;)r.appendChild(e.firstChild);for(var c=[r],d=0;d<c.length;++d)n(c[d]);t===(0|t)&&c[0].setAttribute("value",t);var f=u.createElement("OL");f.className="linenums";for(var p=Math.max(0,t-1|0)||0,d=0,h=c.length;d<h;++d)r=c[d],r.className="L"+(d+p)%10,r.firstChild||r.appendChild(u.createTextNode(" ")),f.appendChild(r);e.appendChild(f)}function l(e,t){for(var n=t.length;--n>=0;){var a=t[n];E.hasOwnProperty(a)?window.console&&console.warn("cannot override language handler %s",a):E[a]=e}}function u(e,t){return e&&E.hasOwnProperty(e)||(e=/^\s*</.test(t)?"default-markup":"default-code"),E[e]}function s(e){var n=e.g;try{var a=t(e.h),o=a.a;e.a=o,e.c=a.c,e.d=0,u(n,o)(e);var r=/\bMSIE\b/.test(navigator.userAgent),n=/\n/g,i=e.a,l=i.length,a=0,s=e.c,c=s.length,o=0,d=e.e,f=d.length,e=0;d[f]=l;var p,h;for(h=p=0;h<f;)d[h]!==d[h+2]?(d[p++]=d[h++],d[p++]=d[h++]):h+=2;for(f=p,h=p=0;h<f;){for(var m=d[h],_=d[h+1],g=h+2;g+2<=f&&d[g+1]===_;)g+=2;d[p++]=m,d[p++]=_,h=g}for(d.length=p;o<c;){var b,y=s[o+2]||l,E=d[e+2]||l,g=Math.min(y,E),v=s[o+1];if(1!==v.nodeType&&(b=i.substring(a,g))){r&&(b=b.replace(n,"\r")),v.nodeValue=b;var O=v.ownerDocument,D=O.createElement("SPAN");D.className=d[e+1];var N=v.parentNode;N.replaceChild(D,v),D.appendChild(v),a<y&&(s[o+1]=v=O.createTextNode(i.substring(g,y)),N.insertBefore(v,D.nextSibling))}a=g,a>=y&&(o+=2),a>=E&&(e+=2)}}catch(e){"console"in window&&console.log(e&&e.stack?e.stack:e)}}var c=["break,continue,do,else,for,if,return,while"],d=[[c,"auto,case,char,const,default,double,enum,extern,float,goto,int,long,register,short,signed,sizeof,static,struct,switch,typedef,union,unsigned,void,volatile"],"catch,class,delete,false,import,new,operator,private,protected,public,this,throw,true,try,typeof"],f=[d,"alignof,align_union,asm,axiom,bool,concept,concept_map,const_cast,constexpr,decltype,dynamic_cast,explicit,export,friend,inline,late_check,mutable,namespace,nullptr,reinterpret_cast,static_assert,static_cast,template,typeid,typename,using,virtual,where"],p=[d,"abstract,boolean,byte,extends,final,finally,implements,import,instanceof,null,native,package,strictfp,super,synchronized,throws,transient"],h=[p,"as,base,by,checked,decimal,delegate,descending,dynamic,event,fixed,foreach,from,group,implicit,in,interface,internal,into,is,lock,object,out,override,orderby,params,partial,readonly,ref,sbyte,sealed,stackalloc,string,select,uint,ulong,unchecked,unsafe,ushort,var"],d=[d,"debugger,eval,export,function,get,null,set,undefined,var,with,Infinity,NaN"],m=[c,"and,as,assert,class,def,del,elif,except,exec,finally,from,global,import,in,is,lambda,nonlocal,not,or,pass,print,raise,try,with,yield,False,True,None"],_=[c,"alias,and,begin,case,class,def,defined,elsif,end,ensure,false,in,module,next,nil,not,or,redo,rescue,retry,self,super,then,true,undef,unless,until,when,yield,BEGIN,END"],c=[c,"case,done,elif,esac,eval,fi,function,in,local,set,then,until"],g=/^(DIR|FILE|vector|(de|priority_)?queue|list|stack|(const_)?iterator|(multi)?(set|map)|bitset|u?(int|float)\d*)/,b=/\S/,y=r({keywords:[f,h,d,"caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END"+m,_,c],hashComments:!0,cStyleComments:!0,multiLineStrings:!0,regexLiterals:!0}),E={};l(y,["default-code"]),l(o([],[["pln",/^[^<?]+/],["dec",/^<!\w[^>]*(?:>|$)/],["com",/^<\!--[\S\s]*?(?:--\>|$)/],["lang-",/^<\?([\S\s]+?)(?:\?>|$)/],["lang-",/^<%([\S\s]+?)(?:%>|$)/],["pun",/^(?:<[%?]|[%?]>)/],["lang-",/^<xmp\b[^>]*>([\S\s]+?)<\/xmp\b[^>]*>/i],["lang-js",/^<script\b[^>]*>([\S\s]*?)(<\/script\b[^>]*>)/i],["lang-css",/^<style\b[^>]*>([\S\s]*?)(<\/style\b[^>]*>)/i],["lang-in.tag",/^(<\/?[a-z][^<>]*>)/i]]),["default-markup","htm","html","mxml","xhtml","xml","xsl"]),l(o([["pln",/^\s+/,a," \t\r\n"],["atv",/^(?:"[^"]*"?|'[^']*'?)/,a,"\"'"]],[["tag",/^^<\/?[a-z](?:[\w-.:]*\w)?|\/?>$/i],["atn",/^(?!style[\s=]|on)[a-z](?:[\w:-]*\w)?/i],["lang-uq.val",/^=\s*([^\s"'>]*(?:[^\s"'/>]|\/(?=\s)))/],["pun",/^[/<->]+/],["lang-js",/^on\w+\s*=\s*"([^"]+)"/i],["lang-js",/^on\w+\s*=\s*'([^']+)'/i],["lang-js",/^on\w+\s*=\s*([^\s"'>]+)/i],["lang-css",/^style\s*=\s*"([^"]+)"/i],["lang-css",/^style\s*=\s*'([^']+)'/i],["lang-css",/^style\s*=\s*([^\s"'>]+)/i]]),["in.tag"]),l(o([],[["atv",/^[\S\s]+/]]),["uq.val"]),l(r({keywords:f,hashComments:!0,cStyleComments:!0,types:g}),["c","cc","cpp","cxx","cyc","m"]),l(r({keywords:"null,true,false"}),["json"]),l(r({keywords:h,hashComments:!0,cStyleComments:!0,verbatimStrings:!0,types:g}),["cs"]),l(r({keywords:p,cStyleComments:!0}),["java"]),l(r({keywords:c,hashComments:!0,multiLineStrings:!0}),["bsh","csh","sh"]),l(r({keywords:m,hashComments:!0,multiLineStrings:!0,tripleQuotedStrings:!0}),["cv","py"]),l(r({keywords:"caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END",hashComments:!0,multiLineStrings:!0,regexLiterals:!0}),["perl","pl","pm"]),l(r({keywords:_,hashComments:!0,multiLineStrings:!0,regexLiterals:!0}),["rb"]),l(r({keywords:d,cStyleComments:!0,regexLiterals:!0}),["js"]),l(r({keywords:"all,and,by,catch,class,else,extends,false,finally,for,if,in,is,isnt,loop,new,no,not,null,of,off,on,or,return,super,then,true,try,unless,until,when,while,yes",hashComments:3,cStyleComments:!0,multilineStrings:!0,tripleQuotedStrings:!0,regexLiterals:!0}),["coffee"]),l(o([],[["str",/^[\S\s]+/]]),["regex"]),window.prettyPrintOne=function(e,t,n){var a=document.createElement("PRE");return a.innerHTML=e,n&&i(a,n),s({g:t,i:n,h:a}),a.innerHTML},window.prettyPrint=function(e){function t(){for(var n=window.PR_SHOULD_USE_CONTINUATION?c.now()+250:1/0;f<o.length&&c.now()<n;f++){var a=o[f],r=a.className;if(r.indexOf("prettyprint")>=0){var l,u,r=r.match(p);if(u=!r){u=a;for(var h=void 0,m=u.firstChild;m;m=m.nextSibling)var _=m.nodeType,h=1===_?h?u:m:3===_&&b.test(m.nodeValue)?u:h;u=(l=h===u?void 0:h)&&"CODE"===l.tagName}for(u&&(r=l.className.match(p)),r&&(r=r[1]),u=!1,h=a.parentNode;h;h=h.parentNode)if(("pre"===h.tagName||"code"===h.tagName||"xmp"===h.tagName)&&h.className&&h.className.indexOf("prettyprint")>=0){u=!0;break}u||((u=!!(u=a.className.match(/\blinenums\b(?::(\d+))?/))&&(!u[1]||!u[1].length||+u[1]))&&i(a,u),d={g:r,h:a,i:u},s(d))}}f<o.length?setTimeout(t,250):e&&e()}for(var n=[document.getElementsByTagName("pre"),document.getElementsByTagName("code"),document.getElementsByTagName("xmp")],o=[],r=0;r<n.length;++r)for(var l=0,u=n[r].length;l<u;++l)o.push(n[r][l]);var n=a,c=Date;c.now||(c={now:function(){return+new Date}});var d,f=0,p=/\blang(?:uage)?-([\w.]+)(?!\S)/;t()},window.PR={createSimpleLexer:o,registerLangHandler:l,sourceDecorator:r,PR_ATTRIB_NAME:"atn",PR_ATTRIB_VALUE:"atv",PR_COMMENT:"com",PR_DECLARATION:"dec",PR_KEYWORD:"kwd",PR_LITERAL:"lit",PR_NOCODE:"nocode",PR_PLAIN:"pln",PR_PUNCTUATION:"pun",PR_SOURCE:"src",PR_STRING:"str",PR_TAG:"tag",PR_TYPE:"typ"}}()},,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(o,r){try{var i=t[o](r),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then(function(e){a("next",e)},function(e){a("throw",e)});e(l)}return a("next")})}}Object.defineProperty(t,"__esModule",{value:!0}),t.setNodeCount=t.setBindAddressForSetupNode=t.setPortForSetupNode=t.setPassword=t.setUsername=t.alterBindAddressAdditionalNode=t.alterRemoteAddressAdditionalNode=t.alterPortAdditionalNode=t.resetAddtionalNodeForm=t.addNode=t.setupSingleNode=t.finishClusterSetup=t.getClusterStateFromCouch=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=n(2),l=a(i),u=n(1001),s=n(443),c=n(21),d=n(258),f=a(d),p=function(e,t){var n=t?" Error:"+t:"";l.default.addNotification({msg:e+n,type:"error",fade:!1,clear:!0})};t.getClusterStateFromCouch=function(){return function(){var e=o(regeneratorRuntime.mark(function e(t){var n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.default.urls("cluster_setup","server"),e.next=3,(0,c.get)(n);case 3:a=e.sent,t({type:s.SETUP_SET_CLUSTERSTATUS,options:{state:a.state}});case 5:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}()},t.finishClusterSetup=function(e){return o(regeneratorRuntime.mark(function t(){var n,a,o,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=l.default.urls("cluster_setup","server"),a={action:"finish_cluster"},t.prev=2,t.next=5,(0,c.post)(n,a,{raw:!0});case 5:if(o=t.sent,!o.ok){t.next=11;break}l.default.addNotification({msg:e,type:"success",fade:!1,clear:!0}),l.default.navigate("#setup/finish"),t.next=15;break;case 11:return t.next=13,o.json();case 13:r=t.sent,p("The cluster is already finished",r.reason);case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(2),p("There was an error. Please check your setup and try again.",t.t0);case 20:case"end":return t.stop()}},t,void 0,[[2,17]])}))},t.setupSingleNode=function(e,t){return o(regeneratorRuntime.mark(function n(){var a,o,r,i,s,d;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(a=l.default.urls("cluster_setup","server"),o={action:"enable_single_node",username:e.username,password:e.password,bind_address:t.bindAddress,port:t.port,singlenode:!0},!(r=(0,u.isInvalid)(o))){n.next=5;break}return n.abrupt("return",p(r));case 5:return n.prev=5,n.next=8,(0,c.post)(a,o,{raw:!0});case 8:if(i=n.sent,i.ok){n.next=15;break}return n.next=12,i.json();case 12:return s=n.sent,d=s.reason?s.reason:s.error,n.abrupt("return",p(d));case 15:return n.next=17,f.default.login({name:e.username,password:e.password});case 17:l.default.addNotification({msg:"Single node setup successful.",type:"success",fade:!1,clear:!0}),l.default.navigate("#setup/finish"),n.next=24;break;case 21:n.prev=21,n.t0=n.catch(5),p("The cluster has not been setuped successfully.",n.t0);case 24:case"end":return n.stop()}},n,void 0,[[5,21]])}))},t.addNode=function(e,t,n,a){return function(){var i=o(regeneratorRuntime.mark(function i(d){var h,m,_,g,b,y;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(h=l.default.urls("cluster_setup","server"),m={action:"enable_cluster",username:t.username,password:t.password,bind_address:n.bindAddress,port:n.port,node_count:n.nodeCount,singlenode:!1},!(_=(0,u.isInvalid)(r({username:t.username,password:t.password},n)))){i.next=5;break}return i.abrupt("return",p(_));case 5:if(g={action:"enable_cluster",username:t.username,password:t.password,bind_address:a.bindAddress,port:a.port,node_count:n.nodeCount,remote_node:a.remoteAddress,remote_current_user:t.username,remote_current_password:t.password},e&&(delete g.remote_current_user,delete g.remote_current_password),!(b=(0,u.isInvalid)(g))){i.next=10;break}return i.abrupt("return",p(b));case 10:return y=function(){var e=o(regeneratorRuntime.mark(function e(){var n,o,r,i,u,f,m;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={action:"add_node",username:t.username,password:t.password,host:a.remoteAddress,port:a.port,singlenode:!1},e.next=3,(0,c.post)(h,g,{raw:!0});case 3:if(o=e.sent,o.ok){e.next=10;break}return e.next=7,o.json();case 7:return r=e.sent,i=r.reason?r.reason:r.error,e.abrupt("return",p(i));case 10:return e.next=12,(0,c.post)(h,n,{raw:!0});case 12:if(u=e.sent,u.ok){e.next=19;break}return e.next=16,u.json();case 16:return f=e.sent,m=f.reason?f.reason:f.error,e.abrupt("return",p(m));case 19:d({type:s.SETUP_ADD_NODE_TO_LIST,options:{value:{port:a.port,remoteAddress:a.remoteAddress}}}),l.default.addNotification({msg:"Added node",type:"success",fade:!1,clear:!0});case 21:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}(),i.prev=11,i.next=14,(0,c.post)(h,m,{raw:!0});case 14:return i.next=16,f.default.login({name:t.username,password:t.password});case 16:return i.next=18,y();case 18:i.next=23;break;case 20:i.prev=20,i.t0=i.catch(11),p("An error occured while adding the node.",i.t0);case 23:case"end":return i.stop()}},i,void 0,[[11,20]])}));return function(e){return i.apply(this,arguments)}}()},t.resetAddtionalNodeForm=function(){return{type:s.SETUP_RESET_ADDITIONAL_NODE}},t.alterPortAdditionalNode=function(e){return{type:s.SETUP_PORT_ADDITIONAL_NODE,options:{value:e}}},t.alterRemoteAddressAdditionalNode=function(e){return{type:s.SETUP_REMOTE_ADDRESS_ADDITIONAL_NODE,options:{value:e}}},t.alterBindAddressAdditionalNode=function(e){return{type:s.SETUP_BIND_ADDRESS_ADDITIONAL_NODE,options:{value:e}}},t.setUsername=function(e){return{type:s.SETUP_SET_USERNAME,options:{value:e}}},t.setPassword=function(e){return{type:s.SETUP_SET_PASSWORD,options:{value:e}}},t.setPortForSetupNode=function(e){return{type:s.SETUP_PORT_FOR_SINGLE_NODE,options:{value:e}}},t.setBindAddressForSetupNode=function(e){return{type:s.SETUP_BIND_ADDRESS_FOR_SINGLE_NODE,options:{value:e}}},t.setNodeCount=function(e){return{type:s.SETUP_NODE_COUNT,options:{value:e}}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.name,n=e.password,a=e.node,o=d.default.getServerUrl("/_node/"+a+"/_config/admins/"+t);return(0,f.put)(o,n)}function r(){if(p)return p;var e=d.default.getServerUrl("/_session"),t=(0,f.get)(e).then(function(e){return e.userCtx.name&&(p=t),e.userCtx});return t}function i(e){var t=d.default.getServerUrl("/_session");return(0,f.postFormEncoded)(t,s.default.utils.queryParams(e))}function l(){p=null;var e=d.default.getServerUrl("/_session");return(0,f.deleteFormEncoded)(e,s.default.utils.queryParams({username:"_",password:"_"}))}Object.defineProperty(t,"__esModule",{value:!0}),t.createAdmin=o,t.getSession=r,t.login=i,t.logout=l;var u=n(11),s=a(u),c=n(19),d=a(c),f=n(21),p=void 0;t.default={createAdmin:o,login:i,logout:l,getSession:r}},,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.createReplicatorDB=t.deleteReplicatesApi=t.fetchReplicateInfo=t.parseReplicateInfo=t.checkReplicationDocID=t.fetchSchedulerDocs=t.fetchReplicationDocs=t.combineDocsAndScheduler=t.convertState=t.parseReplicationDocs=t.getDocUrl=t.removeSensitiveUrlInfo=t.createReplicationDoc=t.addDocIdAndRev=t.continuous=t.createTarget=t.getTarget=t.getSource=t.removeCredentialsFromUrl=t.getCredentialsFromUrl=t.getAuthHeaders=t.getUsername=t.decodeFullUrl=t.encodeFullUrl=t.supportNewApi=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n(419);var r=n(63),i=a(r),l=n(2),u=a(l),s=n(19),c=a(s),d=n(21),f=n(259),p=a(f),h=n(22),m=a(h),_=null,g=t.supportNewApi=function(e){return _&&!e||(_=new u.default.Promise(function(e){var t=c.default.getServerUrl("/_scheduler/jobs");(0,d.get)(t,{raw:!0}).then(function(t){if(t.status>202)return e(!1);e(!0)})})),_},b=t.encodeFullUrl=function(e){if(!e)return"";var t=new URL(e);return t.origin+"/"+encodeURIComponent(t.pathname.slice(1))},y=(t.decodeFullUrl=function(e){if(!e)return"";var t=new URL(e);return t.origin+"/"+decodeURIComponent(t.pathname.slice(1))},t.getUsername=function(){return u.default.session.user().name}),E=t.getAuthHeaders=function(e,t){return e&&t?{Authorization:"Basic "+p.default.encode(e+":"+t)}:{}},v=(t.getCredentialsFromUrl=function(e){var t=e.lastIndexOf("@");if(-1===t)return{username:"",password:""};var n=e.startsWith("https")?8:7,a=e.slice(n,t),o=a.indexOf(":");return{username:a.slice(0,o),password:a.slice(o+1,a.length)}},t.removeCredentialsFromUrl=function(e){var t=e.lastIndexOf("@");return-1===t?e:(e.startsWith("https")?"https://":"http://")+e.slice(t+1)}),O=t.getSource=function(e){var t=e.replicationSource,n=e.localSource,a=e.remoteSource,o=e.sourceAuthType,r=e.sourceAuth,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location,u=l.origin,s=l.pathname,d={};if(t===i.default.REPLICATION_SOURCE.LOCAL){var f=encodeURIComponent(n),p=c.default.getRootUrl({origin:u,pathname:s});d.url=""+p+f}else d.url=b(v(a));return N(d,o,r),d},D=t.getTarget=function(e){var t=e.replicationTarget,n=e.localTarget,a=e.remoteTarget,o=e.targetAuthType,r=e.targetAuth,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location,u=l.origin,s=l.pathname,d={};if(t===i.default.REPLICATION_TARGET.NEW_REMOTE_DATABASE||t===i.default.REPLICATION_TARGET.EXISTING_REMOTE_DATABASE)d.url=b(v(a));else{var f=encodeURIComponent(n),p=c.default.getRootUrl({origin:u,pathname:s});d.url=""+p+f}return N(d,o,r),d},N=function(e,t,n){if(t&&t!==i.default.REPLICATION_AUTH_METHOD.NO_AUTH)if(t===i.default.REPLICATION_AUTH_METHOD.BASIC)e.headers=E(n.username,n.password);else{var a=u.default.getExtensions("Replication:Auth");a&&a.filter(function(e){return e.typeValue===t}).map(function(t){t.setCredentials&&t.setCredentials(e,n)})}else e.headers={}},T=t.createTarget=function(e){return-1!==m.default.indexOf([i.default.REPLICATION_TARGET.NEW_LOCAL_DATABASE,i.default.REPLICATION_TARGET.NEW_REMOTE_DATABASE],e)},S=t.continuous=function(e){return e===i.default.REPLICATION_TYPE.CONTINUOUS},w=t.addDocIdAndRev=function(e,t,n){return e&&(n._id=e),t&&(n._rev=t),n},C=(t.createReplicationDoc=function(e){var t=e.replicationTarget,n=e.replicationSource,a=e.replicationType,o=e.replicationDocName,r=e.localTarget,i=e.localSource,l=e.remoteTarget,u=e.remoteSource,s=e._rev,c=e.sourceAuthType,d=e.sourceAuth,f=e.targetAuthType,p=e.targetAuth,h=y();return w(o,s,{user_ctx:{name:h,roles:["_admin","_reader","_writer"]},source:O({replicationSource:n,localSource:i,remoteSource:u,sourceAuthType:c,sourceAuth:d}),target:D({replicationTarget:t,replicationSource:n,remoteTarget:l,localTarget:r,targetAuthType:f,targetAuth:p}),create_target:T(t),continuous:S(a)})},t.removeSensitiveUrlInfo=function(e){try{var t=new URL(e);return t.origin+"/"+decodeURIComponent(t.pathname.slice(1))}catch(t){return e}}),R=t.getDocUrl=function(e){var t=e;return e?("object"===(void 0===e?"undefined":o(e))&&(t=e.url),C(t)):""},I=t.parseReplicationDocs=function(e){return e.map(function(e){return e.doc}).map(function(e){return{_id:e._id,_rev:e._rev,selected:!1,source:R(e.source),target:R(e.target),createTarget:e.create_target,continuous:!0===e.continuous,status:e._replication_state,errorMsg:e._replication_state_reason?e._replication_state_reason:"",statusTime:new Date(e._replication_state_time),startTime:new Date(e._replication_start_time),url:"#/database/_replicator/"+encodeURIComponent(e._id),raw:e}})},A=t.convertState=function(e){return"error"===e.toLowerCase()||"crashing"===e.toLowerCase()?"retrying":e},P=t.combineDocsAndScheduler=function(e,t){return e.map(function(e){var n=t.find(function(t){return t.doc_id===e._id});return n?(e.status=A(n.state),n.start_time&&(e.startTime=new Date(n.start_time)),n.last_updated&&(e.stateTime=new Date(n.last_updated)),e):e})},L=(t.fetchReplicationDocs=function(){return g().then(function(e){var t=c.default.getServerUrl("/_replicator/_all_docs?include_docs=true&limit=100"),n=(0,d.get)(t).then(function(e){return e.error?[]:I(e.rows.filter(function(e){return-1===e.id.indexOf("_design/")}))});if(!e)return n;var a=L();return u.default.Promise.join(n,a,function(e,t){return P(e,t)}).catch(function(){return[]})})},t.fetchSchedulerDocs=function(){var e=c.default.getServerUrl("/_scheduler/docs?include_docs=true");return(0,d.get)(e).then(function(e){return e.error?[]:e.docs})}),M=(t.checkReplicationDocID=function(e){return new Promise(function(t){var n=c.default.getServerUrl("/_replicator/"+e);(0,d.get)(n).then(function(e){if("not_found"===e.error)return void t(!1);t(!0)})})},t.parseReplicateInfo=function(e){return e.jobs.filter(function(e){return null===e.database}).map(function(e){return{_id:e.id,source:R(e.source.slice(0,e.source.length-1)),target:R(e.target.slice(0,e.target.length-1)),startTime:new Date(e.start_time),statusTime:new Date(e.last_updated),status:A(e.history[0].type),errorMsg:"",selected:!1,continuous:/continuous/.test(e.id),raw:e}})});t.fetchReplicateInfo=function(){return g().then(function(e){if(!e)return[];var t=c.default.getServerUrl("/_scheduler/jobs");return(0,d.get)(t).then(function(e){return M(e)})})},t.deleteReplicatesApi=function(e){var t=e.map(function(e){var t={replication_id:e._id,cancel:!0},n=c.default.getServerUrl("/_replicate");return(0,d.post)(n,t)});return u.default.Promise.all(t)},t.createReplicatorDB=function(){var e=c.default.getServerUrl("/_replicator");return(0,d.put)(e).then(function(e){if(!e.ok)throw{reason:"Failed to create the _replicator database."};return!0})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={TESTS:{CREATE_DATABASE:"TEST_CREATE_DATABASE",CREATE_DOCUMENT:"TEST_CREATE_DOCUMENT",UPDATE_DOCUMENT:"TEST_UPDATE_DOCUMENT",DELETE_DOCUMENT:"TEST_DELETE_DOCUMENT",CREATE_VIEW:"TEST_CREATE_VIEW",REPLICATION:"TEST_REPLICATION"}};t.default=a},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={root:"/",version:"1.0",host:"../",i18n:{en_US:{"mango-descripton":"Mango is an easy way to find documents on predefined indexes.","new-mango-index":"Mango Indexes","mango-help-title":"Mango","run-query-with-mango":"Run A Query with Mango","mango-title-editor":"Mango Query","mango-descripton-index-editor":"Mango is an easy way to find documents on predefined indexes. <br/><br/>Create an Index to query it afterwards. The example in the editor shows how to create an index for the field '_id'. <br/><br/>The Indexes that you already created are listed on the right.","mango-additional-indexes-heading":"Your additional Indexes:","mango-indexeditor-title":"Mango","couchdb-productname":"Apache CouchDB","cors-disable-cors-prompt":"Are you sure? Disabling CORS will overwrite your specific origin domains.","cors-notice":"Cross-Origin Resource Sharing (CORS) lets you connect to remote servers directly from the browser, so you can host browser-based apps on static pages and talk directly with CouchDB to load your data.","replication-password-modal-header":"Enter Account Password.","replication-password-modal-text":"Replication requires authentication on your credentials.","replication-user-password-auth-label":"Username and password","replication-username-input-placeholder":"Username","replication-password-input-placeholder":"Password","auth-missing-credentials":"Username or password cannot be blank.","auth-logged-in":"You have been logged in.","auth-admin-created":"CouchDB admin created","auth-change-password":"Your password has been updated.","auth-admin-creation-failed-prefix":"Could not create admin.","auth-passwords-not-matching":"Passwords do not match."}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={MISC:{TRAY_TOGGLE_SPEED:250,DEFAULT_PAGE_SIZE:20},DATABASES:{DOCUMENT_LIMIT:100},EVENTS:{TRAY_OPENED:"tray:opened",NAVBAR_SIZE_CHANGED:"navbar:size_changed"},DOC_URLS:{GENERAL:"./docs/intro/api.html#documents",ALL_DBS:"./docs/api/server/common.html?highlight=all_dbs#get--_all_dbs",REPLICATION:"./docs/replication/replicator.html#basics",DESIGN_DOCS:"./docs/ddocs/ddocs.html#design-docs",DESIGN_DOC_METADATA:"./docs/api/ddoc/common.html#api-ddoc-view-index-info",VIEW_FUNCS:"./docs/ddocs/ddocs.html#view-functions",MAP_FUNCS:"./docs/ddocs/ddocs.html#map-functions",REDUCE_FUNCS:"./docs/ddocs/ddocs.html#reduce-and-rereduce-functions",API_REF:"./docs/http-api.html",DB_PERMISSION:"./docs/api/database/security.html#db-security",STATS:"./docs/api/server/common.html?highlight=stats#get--_stats",ACTIVE_TASKS:"./docs/api/server/common.html?highlight=stats#active-tasks",LOG:"./docs/api/server/common.html?highlight=stats#log",CONFIG:"./docs/config/index.html",VIEWS:"./docs/intro/overview.html#views",MANGO_INDEX:"./docs/intro/api.html#documents",MANGO_SEARCH:"./docs/intro/api.html#documents",CHANGES:"./docs/api/database/changes.html?highlight=changes#post--db-_changes",SETUP:"./docs/cluster/setup.html#the-cluster-setup-wizard",MEMBERSHIP:"./docs/cluster/nodes.html"}}},,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=n(69),i=a(r),l=n(22),u=a(l),s={router:{navigate:function(){}},masterLayout:{},addHeaderLink:function(e){s.reduxDispatch({type:"ADD_NAVBAR_LINK",link:e})},showHeaderLinkBadge:function(e){s.reduxDispatch({type:"SHOW_NAVBAR_LINK_BADGE",link:e})},hideHeaderLinkBadge:function(e){s.reduxDispatch({type:"HIDE_NAVBAR_LINK_BADGE",link:e})},addNotification:function(e){e=o({msg:"Notification Event Triggered!",type:"info",escape:!0,clear:!1},e),s.reduxDispatch&&s.reduxDispatch({type:"ADD_NOTIFICATION",options:{info:e}})},showPermanentNotification:function(e){s.reduxDispatch({type:"SHOW_PERMANENT_NOTIFICATION",options:{msg:e}})},config:function(e){return u.default.extend(this,e)}};s.Deferred=function(){return $.Deferred()},s.when=function(e){return e instanceof Array?$.when.apply(null,e):$.when(e)},s.addonExtensions={initialize:function(){},RouteObjects:{},Views:{}},s.addon=function(e){return u.default.extend(u.default.clone(s.addonExtensions),e)},s.View=i.default.View.extend({establish:function(){return null},loaderClassname:"loader",manage:!0,forceRender:function(){this.hasRendered=!1}});var c={fetchOnce:function(e){var t=u.default.extend({},e);return this._deferred&&"rejected"!==this._deferred.state()&&!t.forceFetch||(this._deferred=this.fetch()),this._deferred}};s.Model=i.default.Model.extend({}),s.Collection=i.default.Collection.extend({}),u.default.each([s.Model,s.Collection],function(e){u.default.extend(e.prototype,c)});var d=u.default.extend({},i.default.Events);s.registerExtension=function(e,t){d[e]||(d[e]=[]),d.trigger("add:"+e,t),d[e].push(t)},s.unRegisterExtension=function(e){var t=d[e];t&&(d.trigger("remove:"+e,t),delete d[e])},s.getExtensions=function(e){var t=d[e];return t||(t=[]),t},s.removeExtensionItem=function(e,t,n){var a=d[e];if(a){var o=arguments[arguments.length-1];u.default.isObject(t)&&!n&&(o=function(e){return u.default.isEqual(e,t)}),a=u.default.filter(a,function(e){return!o(e)}),d[e]=a,d.trigger("removeItem:"+e,t)}},s.extensions=d,s.setSession=function(e){s.session=e},s.reducers={},s.addReducers=function(e){s.reducers=o({},s.reducers,e)},s.middlewares=[],s.addMiddleware=function(e){e&&"function"==typeof e&&s.middlewares.push(e)},t.default=s},,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={ADD_NAVBAR_LINK:"ADD_NAVBAR_LINK",TOGGLE_NAVBAR_MENU:"TOGGLE_NAVBAR_MENU",UPDATE_NAVBAR_LINK:"UPDATE_NAVBAR_LINK",REMOVE_NAVBAR_LINK:"REMOVE_NAVBAR_LINK",HIDE_NAVBAR_LINK_BADGE:"HIDE_NAVBAR_LINK_BADGE",SHOW_NAVBAR_LINK_BADGE:"SHOW_NAVBAR_LINK_BADGE",NAVBAR_SET_VERSION_INFO:"NAVBAR_SET_VERSION_INFO",NAVBAR_ACTIVE_LINK:"NAVBAR_ACTIVE_LINK",NAVBAR_HIDE:"NAVBAR_HIDE",NAVBAR_SHOW:"NAVBAR_SHOW",NAVBAR_SHOW_HIDE_LOGIN_LOGOUT_SECTION:"NAVBAR_SHOW_HIDE_LOGIN_LOGOUT_SECTION",NAVBAR_SHOW_LOGIN_BUTTON:"NAVBAR_SHOW_LOGIN_BUTTON",NAVBAR_SHOW_LOGOUT_BUTTON:"NAVBAR_SHOW_LOGOUT_BUTTON"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={ADD_NOTIFICATION:"ADD_NOTIFICATION",SHOW_NOTIFICATION_CENTER:"SHOW_NOTIFICATION_CENTER",HIDE_NOTIFICATION_CENTER:"HIDE_NOTIFICATION_CENTER",CLEAR_SINGLE_NOTIFICATION:"CLEAR_SINGLE_NOTIFICATION",CLEAR_ALL_NOTIFICATIONS:"CLEAR_ALL_NOTIFICATIONS",SELECT_NOTIFICATION_FILTER:"SELECT_NOTIFICATION_FILTER",START_HIDING_NOTIFICATION:"START_HIDING_NOTIFICATION",HIDE_NOTIFICATION:"HIDE_NOTIFICATION",HIDE_ALL_NOTIFICATIONS:"HIDE_ALL_NOTIFICATIONS",SHOW_PERMANENT_NOTIFICATION:"SHOW_PERMANENT_NOTIFICATION",HIDE_PERMANENT_NOTIFICATION:"HIDE_PERMANENT_NOTIFICATION"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(){var e=l.default.utils.localStorageGet("fauxton:dbs_per_page");return e||(e=s.default.constants.MISC.DEFAULT_PAGE_SIZE),e}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=n(11),l=a(i),u=n(2),s=a(u),c=n(186),d=a(c),f=n(136),p=a(f),h=n(19),m=a(h),_=p.default.Model,g=s.default.Store.extend({initialize:function(){this.reset()},reset:function(){this._loading=!1,this._promptVisible=!1,this._page=1,this._limit=o(),this._dbList=[],this._databaseDetails=[],this._failedDbs=[],this._fullDbList=[],this._partitionedDatabasesAvailable=!1},getPage:function(){return this._page},getLimit:function(){return this._limit},setLimit:function(e){this._limit=e,l.default.utils.localStorageSet("fauxton:dbs_per_page",e)},isLoading:function(){return this._loading},setLoading:function(e){this._loading=e},isPromptVisible:function(){return this._promptVisible},setPromptVisible:function(e){this._promptVisible=e},obtainNewDatabaseModel:function(e,t){var n=new _({id:e,name:e});return n.setPartitioned(t),n},doesDatabaseExist:function(e){return-1!==this._dbList.indexOf(e)},getTotalAmountOfDatabases:function(){return this._fullDbList.length},getDbList:function(){var e=this;return this._dbList.map(function(t){var n=e._databaseDetails.filter(function(e){return e.db_name===t}),a={id:t,encodedId:encodeURIComponent(t),url:s.default.urls("allDocsSanitized","app",t),failed:-1!==e._failedDbs.indexOf(t)};return r({},a,e._getDetails(n[0]))})},_getDetails:function(e){if(!e)return{};var t=e.data_size||e.disk_size||0;return{dataSize:m.default.formatSize(t),docCount:e.doc_count,docDelCount:e.doc_del_count,showTombstoneWarning:e.doc_del_count>e.doc_count,isPartitioned:e.props&&!0===e.props.partitioned}},isPartitionedDatabasesAvailable:function(){return this._partitionedDatabasesAvailable},dispatch:function(e){switch(e.type){case d.default.DATABASES_SETPAGE:this._page=e.options.page;break;case d.default.DATABASES_SETLIMIT:this.setLimit(e.options.limit);break;case d.default.DATABASES_SET_PROMPT_VISIBLE:this.setPromptVisible(e.options.visible);break;case d.default.DATABASES_STARTLOADING:this.setLoading(!0);break;case d.default.DATABASES_LOADCOMPLETE:this.setLoading(!1);break;case d.default.DATABASES_UPDATE:this._fullDbList=e.options.fullDbList,this._dbList=e.options.dbList,this._databaseDetails=e.options.databaseDetails,this._failedDbs=e.options.failedDbs,this.setLoading(!1);break;case d.default.DATABASES_PARTITIONED_DB_AVAILABLE:this._partitionedDatabasesAvailable=e.options.available;break;default:return}this.triggerChange()}}),b=new g;b.dispatchToken=s.default.dispatcher.register(b.dispatch.bind(b)),t.default={databasesStore:b,DatabasesStoreConstructor:g}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchDatabaseInfo=void 0;var o=n(2),r=a(o),i=n(21),l=n(19),u=a(l);t.fetchDatabaseInfo=function(e){var t=r.default.urls("databaseBaseURL","server",e),n=u.default.getServerUrl(t);return(0,i.get)(n)}},,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.DocLink=t.JSONLink=void 0;var o=n(0),r=a(o);a(n(10)),t.JSONLink=function(e){var t=e.endpoint;return t?r.default.createElement("div",{className:"faux__jsonlink"},r.default.createElement("a",{"data-bypass":!0,className:"faux__jsonlink-link",href:t,target:"_blank",rel:"noopener noreferrer"},r.default.createElement("span",{className:"faux__jsonlink-link-brackets"},"{ }"),r.default.createElement("span",null,"JSON"))):null},t.DocLink=function(e){return e.docURL?r.default.createElement("div",{className:"faux__doclink"}):null}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.StringEditModal=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),s=a(u),c=n(0),d=a(c),f=n(10),p=(a(f),n(20)),h=n(217),m=a(h),_=n(40),g=a(_);n(362),n(218),n(219);var b=t.StringEditModal=function(e){function t(){var e,n,a,i;o(this,t);for(var l=arguments.length,u=Array(l),s=0;s<l;s++)u[s]=arguments[s];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.initAceEditor=function(e){a.editor=m.default.edit(e),a.editor.$blockScrolling=1/0,a.editor.setShowPrintMargin(!1),a.editor.setOption("highlightActiveLine",!0),a.editor.setTheme("ace/theme/idle_fingers");var t=g.default.parseJSON(a.props.value);a.editor.setValue(t,-1)},a.closeModal=function(){a.props.onClose()},a.save=function(){a.props.onSave(a.editor.getValue())},i=n,r(a,i)}return i(t,e),l(t,[{key:"render",value:function(){var e=this;return d.default.createElement(p.Modal,{className:"string-editor-modal",show:this.props.visible,onHide:this.closeModal},d.default.createElement(p.Modal.Header,{closeButton:!0},d.default.createElement(p.Modal.Title,null,"Edit Value ",d.default.createElement("span",{id:"string-edit-header"}))),d.default.createElement(p.Modal.Body,null,d.default.createElement("div",{id:"modal-error",className:"hide alert alert-error"}),d.default.createElement("div",{id:"string-editor-wrapper"},d.default.createElement("div",{id:"string-editor-container",ref:function(t){return e.initAceEditor(t)},className:"doc-code"}))),d.default.createElement(p.Modal.Footer,null,d.default.createElement("a",{className:"cancel-link",onClick:this.closeModal},"Cancel"),d.default.createElement("button",{id:"string-edit-save-btn",onClick:this.save,className:"btn btn-primary save"},d.default.createElement("i",{className:"fonticon-circle-check"})," Modify Text")))}}]),t}(d.default.Component);b.propTypes={value:s.default.string.isRequired,visible:s.default.bool.isRequired,onClose:s.default.func.isRequired,onSave:s.default.func.isRequired},b.defaultProps={visible:!1,onClose:function(){},onSave:function(){}}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={CMPNTS_DATABASES_SHOWDELETE_MODAL:"CMPNTS_DATABASES_SHOWDELETE_MODAL"}},,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Beautify=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(0),s=a(u),c=n(10),d=(a(c),n(795)),f=a(d),p=n(20),h=f.default.js_beautify?f.default.js_beautify:f.default;t.Beautify=function(e){function t(){var e,n,a,i;o(this,t);for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.noOfLines=function(){return a.props.code.split(/\r\n|\r|\n/).length},a.canBeautify=function(){return 1===a.noOfLines()},a.beautify=function(e){e.preventDefault();var t=h(a.props.code);a.props.beautifiedCode(t)},a.getTooltip=function(){return s.default.createElement(p.Tooltip,{id:"tooltip"},"Switch to editable code format.")},i=n,r(a,i)}return i(t,e),l(t,[{key:"render",value:function(){if(!this.canBeautify())return null;var e=this.getTooltip();return s.default.createElement(p.OverlayTrigger,{placement:"right",overlay:e},s.default.createElement("button",{onClick:this.beautify,className:"beautify beautify_map btn btn-primary btn-small beautify-tooltip",type:"button"},"Format Code"))}}]),t}(s.default.Component)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ZenModeOverlay=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(0),s=a(u),c=n(10),d=(a(c),n(11)),f=a(d),p=n(220),h=n(20);n(796);var m={dark:"idle_fingers",light:"dawn"};(t.ZenModeOverlay=function(e){function t(){var e,n,a,i;o(this,t);for(var l=arguments.length,u=Array(l),s=0;s<l;s++)u[s]=arguments[s];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.getStoreState=function(){return{theme:a.getZenTheme(),code:a.props.defaultCode}},a.getZenTheme=function(){var e=f.default.utils.localStorageGet("zenTheme");return _.isUndefined(e)?"dark":e},a.onChange=function(){a.setState(a.getStoreState())},a.exitZenMode=function(){a.props.onExit(a.getValue())},a.getValue=function(){return a.ace.getValue()},a.toggleTheme=function(){var e="dark"===a.state.theme?"light":"dark";a.setState({theme:e,code:a.getValue()}),f.default.utils.localStorageSet("zenTheme",e)},a.setValue=function(e,t){t=t||-1,a.editor.setValue(e,t)},a.state=a.getStoreState(),i=n,r(a,i)}return i(t,e),l(t,[{key:"render",value:function(){var e=this,t="full-page-editor-modal-wrapper zen-theme-"+this.state.theme,n=[{name:"close",bindKey:{win:"ESC",mac:"ESC"},exec:this.exitZenMode}],a=s.default.createElement(h.Tooltip,{id:"tooltip"},"Exit zen mode (`esc`)"),o=s.default.createElement(h.Tooltip,{id:"tooltip"},"Switch zen theme");return s.default.createElement("div",{className:t},s.default.createElement("div",{className:"zen-mode-controls"},s.default.createElement("ul",null,s.default.createElement("li",null,s.default.createElement(h.OverlayTrigger,{placement:"left",overlay:a},s.default.createElement("span",{className:"fonticon fonticon-resize-small js-exit-zen-mode","data-container":".zen-mode-controls .tooltips",onClick:this.exitZenMode}))),s.default.createElement("li",null,s.default.createElement(h.OverlayTrigger,{placement:"left",overlay:o},s.default.createElement("span",{className:"fonticon fonticon-picture js-toggle-theme","data-container":".zen-mode-controls .tooltips",title:"Switch zen theme",onClick:this.toggleTheme})))),s.default.createElement("div",{className:"tooltips"})),s.default.createElement(p.CodeEditor,{ref:function(t){return e.ace=t},autoFocus:!0,theme:m[this.state.theme],defaultCode:this.props.defaultCode,editorCommands:n,ignorableErrors:this.props.ignorableErrors,highlightActiveLine:this.props.highlightActiveLine}))}}]),t}(s.default.Component)).defaultProps={mode:"javascript",defaultCode:"",ignorableErrors:[],onExit:null,highlightActiveLine:!1}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),r=a(o),i=n(11),l=a(i),u=n(361),s=a(u),c={};c.DeleteDbModalStore=r.default.Store.extend({initialize:function(){this.reset()},reset:function(){this._deleteModal={showDeleteModal:!1,dbId:"",isSystemDatabase:!1}},setDeleteModal:function(e){e.isSystemDatabase=l.default.utils.isSystemDatabase(e.dbId),this._deleteModal=e},getShowDeleteDatabaseModal:function(){return this._deleteModal},dispatch:function(e){switch(e.type){case s.default.CMPNTS_DATABASES_SHOWDELETE_MODAL:this.setDeleteModal(e.options);break;default:return}this.triggerChange()}}),c.deleteDbModalStore=new c.DeleteDbModalStore,c.deleteDbModalStore.dispatchToken=r.default.dispatcher.register(c.deleteDbModalStore.dispatch.bind(c.deleteDbModalStore)),t.default=c},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),s=a(u),c=n(0),d=a(c),f=function(e){function t(e){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"perPageChange",value:function(e){var t=parseInt(e.target.value,10);this.props.perPageChange(t)}},{key:"getOptions",value:function(){return _.map(this.props.options,function(e){return d.default.createElement("option",{value:e,key:e},e)})}},{key:"render",value:function(){return d.default.createElement("div",{id:"per-page"},d.default.createElement("label",{htmlFor:"select-per-page",className:"drop-down inline"},this.props.label,"  ",d.default.createElement("select",{id:"select-per-page",onChange:this.perPageChange.bind(this),value:this.props.perPage.toString(),className:"input-small"},this.getOptions())))}}]),t}(d.default.Component);t.default=f,f.defaultProps={label:"Documents per page: ",options:[5,10,20,30,50,100]},f.propTypes={perPage:s.default.number.isRequired,perPageChange:s.default.func.isRequired,label:s.default.string,options:s.default.array}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={SIDEBAR_EXPAND_SELECTED_ITEM:"SIDEBAR_EXPAND_SELECTED_ITEM",SIDEBAR_NEW_OPTIONS:"SIDEBAR_NEW_OPTIONS",SIDEBAR_TOGGLE_CONTENT:"SIDEBAR_TOGGLE_CONTENT",SIDEBAR_FETCHING:"SIDEBAR_FETCHING",SIDEBAR_SHOW_DELETE_INDEX_MODAL:"SIDEBAR_SHOW_DELETE_INDEX_MODAL",SIDEBAR_HIDE_DELETE_INDEX_MODAL:"SIDEBAR_HIDE_DELETE_INDEX_MODAL",SIDEBAR_SHOW_CLONE_INDEX_MODAL:"SIDEBAR_SHOW_CLONE_INDEX_MODAL",SIDEBAR_HIDE_CLONE_INDEX_MODAL:"SIDEBAR_HIDE_CLONE_INDEX_MODAL",SIDEBAR_CLONE_MODAL_DESIGN_DOC_CHANGE:"SIDEBAR_CLONE_MODAL_DESIGN_DOC_CHANGE",SIDEBAR_CLONE_MODAL_DESIGN_DOC_NEW_NAME_UPDATED:"SIDEBAR_CLONE_MODAL_DESIGN_DOC_NEW_NAME_UPDATED",SIDEBAR_CLONE_MODAL_DESIGN_DOC_NEW_PARTITIONED_UPDATED:"SIDEBAR_CLONE_MODAL_DESIGN_DOC_NEW_PARTITIONED_UPDATED",SIDEBAR_CLONE_MODAL_UPDATE_INDEX_NAME:"SIDEBAR_CLONE_MODAL_UPDATE_INDEX_NAME",SIDEBAR_UPDATED_DESIGN_DOCS:"SIDEBAR_UPDATED_DESIGN_DOCS"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=n(14),i=n(898),l=a(i),u=n(119),s=a(u),c=n(411),d=function(e){var t=e.designDocs.filter(function(e){return!e.isMangoDoc()});return _.map(t,function(e){return e.id})},f=function(e){var t=e.designDocs.find(function(t){return"_design/"+e.deleteIndexModalDesignDocName===t.id});return t?t.dDocModel():null},p=function(e){return o({designDocName:"",designDocSection:"",indexName:"",navItem:""},e)},h=function(e,t){var n=e.sidebar,a=e.databases;return{database:(0,c.getDatabase)(n),selectedNav:p(t.selectedNavItem),designDocs:n.designDocs,designDocList:n.designDocList,availableDesignDocIds:d(n),toggledSections:n.toggledSections,isLoading:n.loading||a.isLoadingDbInfo,selectedPartitionKey:t.selectedPartitionKey,isDbPartitioned:a.isDbPartitioned,deleteIndexModalVisible:n.deleteIndexModalVisible,deleteIndexModalText:n.deleteIndexModalText,deleteIndexModalOnSubmit:n.deleteIndexModalOnSubmit,deleteIndexModalIndexName:n.deleteIndexModalIndexName,deleteIndexModalDesignDoc:f(n),cloneIndexModalVisible:n.cloneIndexModalVisible,cloneIndexModalTitle:n.cloneIndexModalTitle,cloneIndexModalSelectedDesignDoc:n.cloneIndexModalSelectedDesignDoc,cloneIndexModalSelectedDesignDocPartitioned:(0,c.getDesignDocPartitioned)(n,a.isDbPartitioned),cloneIndexModalNewDesignDocName:n.cloneIndexModalNewDesignDocName,cloneIndexModalNewDesignDocPartitioned:n.cloneIndexModalNewDesignDocPartitioned,cloneIndexModalOnSubmit:n.cloneIndexModalOnSubmit,cloneIndexDesignDocProp:n.cloneIndexDesignDocProp,cloneIndexModalNewIndexName:n.cloneIndexModalNewIndexName,cloneIndexSourceIndexName:n.cloneIndexModalSourceIndexName,cloneIndexSourceDesignDocName:n.cloneIndexModalSourceDesignDocName,cloneIndexModalIndexLabel:n.cloneIndexModalIndexLabel}},m=function(e){return{toggleContent:function(t,n){e(s.default.toggleContent(t,n))},hideCloneIndexModal:function(){e(s.default.hideCloneIndexModal())},hideDeleteIndexModal:function(){e(s.default.hideDeleteIndexModal())},showDeleteIndexModal:function(t,n,a,o){e(s.default.showDeleteIndexModal(t,n,a,o))},showCloneIndexModal:function(t,n,a,o){e(s.default.showCloneIndexModal(t,n,a,o))},selectDesignDoc:function(t){e(s.default.selectDesignDoc(t))},updateNewDesignDocName:function(t){e(s.default.updateNewDesignDocName(t))},updateNewDesignDocPartitioned:function(t){e(s.default.updateNewDesignDocPartitioned(t))},setNewCloneIndexName:function(t){e(s.default.setNewCloneIndexName(t))}}},g=(0,r.connect)(h,m)(l.default.SidebarController);t.default=g},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),s=a(u),c=n(0),d=a(c),f=n(20),p=n(10),h=(a(p),n(2)),m=a(h),_=n(404),g=a(_),b=g.default.DesignDocSelector,y=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.submit=function(){if(n.designDocSelector.validate())return""===n.props.newIndexName?void m.default.addNotification({msg:"Please enter the new index name.",type:"error",clear:!0}):void n.props.submit()},n.close=function(e){e&&e.preventDefault(),n.props.close()},n.setNewIndexName=function(e){n.props.setNewCloneIndexName(e.target.value)},n.props.setNewCloneIndexName(""),n}return i(t,e),l(t,[{key:"render",value:function(){var e=this;return d.default.createElement(f.Modal,{dialogClassName:"clone-index-modal",show:this.props.visible,onHide:this.close},d.default.createElement(f.Modal.Header,{closeButton:!0},d.default.createElement(f.Modal.Title,null,this.props.title)),d.default.createElement(f.Modal.Body,null,d.default.createElement("form",{className:"form",method:"post",onSubmit:this.submit},d.default.createElement("p",null,"Select the design document where the cloned ",this.props.indexLabel," will be created, and then enter a name for the cloned ",this.props.indexLabel,"."),d.default.createElement("div",{className:"row"},d.default.createElement(b,{ref:function(t){return e.designDocSelector=t},designDocList:this.props.designDocArray,isDbPartitioned:this.props.isDbPartitioned,selectedDesignDocName:this.props.selectedDesignDoc,selectedDesignDocPartitioned:this.props.selectedDesignDocPartitioned,newDesignDocName:this.props.newDesignDocName,newDesignDocPartitioned:this.props.newDesignDocPartitioned,onSelectDesignDoc:this.props.selectDesignDoc,onChangeNewDesignDocName:this.props.updateNewDesignDocName,onChangeNewDesignDocPartitioned:this.props.updateNewDesignDocPartitioned})),d.default.createElement("div",{className:"clone-index-name-row"},d.default.createElement("label",{className:"new-index-title-label",htmlFor:"new-index-name"},this.props.indexLabel," Name"),d.default.createElement("input",{type:"text",id:"new-index-name",value:this.props.newIndexName,onChange:this.setNewIndexName,placeholder:"New view name"})))),d.default.createElement(f.Modal.Footer,null,d.default.createElement("a",{href:"#",className:"cancel-link",onClick:this.close,"data-bypass":"true"},"Cancel"),d.default.createElement("button",{onClick:this.submit,"data-bypass":"true",className:"btn btn-primary save"},d.default.createElement("i",{className:"icon fonticon-ok-circled"})," Clone ",this.props.indexLabel)))}}]),t}(d.default.Component);y.propTypes={visible:s.default.bool.isRequired,title:s.default.string,close:s.default.func.isRequired,submit:s.default.func.isRequired,designDocArray:s.default.array.isRequired,selectedDesignDoc:s.default.string.isRequired,newDesignDocName:s.default.string.isRequired,newIndexName:s.default.string.isRequired,indexLabel:s.default.string.isRequired,selectDesignDoc:s.default.func.isRequired,updateNewDesignDocName:s.default.func.isRequired,setNewCloneIndexName:s.default.func.isRequired},y.defaultProps={title:"Clone Index",visible:!1},t.default=y},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(13),r=a(o),i=n(405),l=a(i),u=n(406),s=a(u),c=n(899),d=a(c),f=n(407),p=a(f),h=r.default.StyledSelect;t.default={IndexEditorContainer:d.default,IndexEditor:s.default,ReduceEditor:p.default,DesignDocSelector:l.default,StyledSelect:h}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),s=a(u),c=n(0),d=a(c),f=n(2),p=a(f),h=n(13),m=a(h),_=m.default.StyledSelect,g=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onTogglePartitioned=n.onTogglePartitioned.bind(n),n}return i(t,e),l(t,[{key:"validate",value:function(){return"new-doc"!==this.props.selectedDesignDocName||""!==this.props.newDesignDocName||(p.default.addNotification({msg:"Please name your design doc.",type:"error"}),this.newDesignDocInput.focus(),!1)}},{key:"getDocList",value:function(){return this.props.designDocList?this.props.designDocList.map(function(e){return d.default.createElement("option",{key:e,value:e},e)}):[]}},{key:"selectDesignDoc",value:function(e){this.props.onSelectDesignDoc(e.target.value)}},{key:"updateDesignDocName",value:function(e){this.props.onChangeNewDesignDocName(e.target.value)}},{key:"getNewDDocField",value:function(){var e=this;if("new-doc"===this.props.selectedDesignDocName)return d.default.createElement("div",{id:"new-ddoc-section",className:"span5"},d.default.createElement("label",{className:"control-label",htmlFor:"new-ddoc"},"_design/"),d.default.createElement("div",{className:"controls"},d.default.createElement("input",{type:"text",id:"new-ddoc",placeholder:"newDesignDoc",ref:function(t){e.newDesignDocInput=t},onChange:this.updateDesignDocName.bind(this)})))}},{key:"getDocLink",value:function(){return this.props.docLink?d.default.createElement("a",{className:"help-link","data-bypass":"true",href:this.props.docLink,target:"_blank",rel:"noopener noreferrer"},d.default.createElement("i",{className:"icon-question-sign"})):null}},{key:"onTogglePartitioned",value:function(){this.props.onChangeNewDesignDocPartitioned(!this.props.newDesignDocPartitioned)}},{key:"getPartitionedCheckbox",value:function(){if(!this.props.isDbPartitioned)return null;var e="new-doc"!==this.props.selectedDesignDocName,t=e?this.props.selectedDesignDocPartitioned:this.props.newDesignDocPartitioned,n=e?"check--disabled":"",a=e?this.props.selectedDesignDocPartitioned?"Design document is partitioned":"Design document is not partitioned":this.props.newDesignDocPartitioned?"New document will be partitioned":"New document will not be partitioned";return d.default.createElement("div",{className:"ddoc-selector-partitioned"},d.default.createElement("label",{className:n,title:a},d.default.createElement("input",{id:"js-ddoc-selector-partitioned",type:"checkbox",title:a,checked:t,onChange:this.onTogglePartitioned,style:{margin:"0px 10px 0px 0px"},disabled:e}),"Partitioned"))}},{key:"render",value:function(){var e=d.default.createElement("optgroup",{label:"Select a document"},d.default.createElement("option",{value:"new-doc"},"New document"),this.getDocList());return d.default.createElement("div",{className:"design-doc-group control-group"},d.default.createElement("div",{className:"span3"},d.default.createElement("label",{htmlFor:"ddoc"},this.props.designDocLabel,this.getDocLink()),d.default.createElement(_,{selectChange:this.selectDesignDoc.bind(this),selectValue:this.props.selectedDesignDocName,selectId:"faux__edit-view__design-doc",selectContent:e})),this.getNewDDocField(),this.getPartitionedCheckbox())}}]),t}(c.Component);t.default=g,g.defaultProps={designDocLabel:"Design Document",selectedDesignDocName:"",newDesignDocName:""},g.propTypes={designDocList:s.default.array.isRequired,onSelectDesignDoc:s.default.func.isRequired,onChangeNewDesignDocName:s.default.func.isRequired,selectedDesignDocName:s.default.string.isRequired,selectedDesignDocPartitioned:s.default.bool.isRequired,newDesignDocName:s.default.string.isRequired,newDesignDocPartitioned:s.default.bool.isRequired,designDocLabel:s.default.string,docURL:s.default.string}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),c=a(s),d=n(0),f=a(d),p=n(11),h=a(p),m=n(2),_=a(m),g=n(13),b=a(g),y=n(405),E=a(y),v=n(407),O=a(v),D=h.default.helpers.getDocUrl,N=b.default.CodeEditorPanel,T=b.default.ConfirmButton,S=b.default.LoadLines,w=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.saveView=n.saveView.bind(n),n.viewChange=n.viewChange.bind(n),n.updateMapCode=n.updateMapCode.bind(n),n}return i(t,e),u(t,[{key:"componentDidUpdate",value:function(e){this.props.map!==e.map&&this.mapEditor&&this.mapEditor.update()}},{key:"isPartitionedView",value:function(){return"new-doc"===this.props.designDocId?this.props.newDesignDocPartitioned:this.props.designDocPartitioned}},{key:"isCustomReduceSupported",value:function(){return!(this.props.isDbPartitioned&&this.props.reduce&&!this.props.reduce.startsWith("_"))||!("new-doc"===this.props.designDocId?this.props.newDesignDocPartitioned:this.props.designDocPartitioned)}},{key:"saveView",value:function(e){if(e.preventDefault(),this.designDocSelector.validate()){if(!this.isCustomReduceSupported())return void _.default.addNotification({msg:"Partitioned views do not support custom reduce functions.",type:"error",clear:!0});var t=this.isPartitionedView()&&this.props.partitionKey?encodeURIComponent(this.props.partitionKey):"",n=_.default.urls("view","showView",this.props.database.safeID(),t,this.props.saveDesignDoc.safeID(),encodeURIComponent(this.props.viewName));this.props.saveView({database:this.props.database,isNewView:this.props.isNewView,viewName:this.props.viewName,designDoc:this.props.saveDesignDoc,designDocId:this.props.designDocId,isNewDesignDoc:this.props.isNewDesignDoc,originalViewName:this.props.originalViewName,originalDesignDocName:this.props.originalDesignDocName,map:this.mapEditor.getValue(),reduce:this.reduceEditor.getReduceValue(),designDocs:this.props.designDocs},n)}}},{key:"viewChange",value:function(e){this.props.changeViewName(e.target.value)}},{key:"updateMapCode",value:function(e){this.props.updateMapCode(e)}},{key:"getCancelLink",value:function(){var e=encodeURIComponent(this.props.database.id),t=this.props.partitionKey?encodeURIComponent(this.props.partitionKey):"";if("new-doc"===this.props.designDocId||this.props.isNewView)return"#"+_.default.urls("allDocs","app",e,t);var n=this.props.designDocId.startsWith("_design/")?"_design/"+encodeURIComponent(this.props.designDocId.substring(8)):encodeURIComponent(this.props.designDocId),a=encodeURIComponent(this.props.viewName);return"#"+_.default.urls("view","showView",e,t,n,a)}},{key:"render",value:function(){var e=this;if(this.props.isLoading)return f.default.createElement("div",{className:"define-view"},f.default.createElement(S,null));var t=this.props.isNewView?"New View":"Edit View",n=this.props.isNewView?"Create Document and then Build Index":"Save Document and then Build Index";return f.default.createElement("div",{className:"define-view"},f.default.createElement("form",{className:"form-horizontal view-query-save",onSubmit:this.saveView},f.default.createElement("h3",{className:"simple-header"},t),f.default.createElement("div",{className:"new-ddoc-section"},f.default.createElement(E.default,{ref:function(t){e.designDocSelector=t},designDocList:this.props.designDocList,isDbPartitioned:this.props.isDbPartitioned,selectedDesignDocName:this.props.designDocId,selectedDesignDocPartitioned:this.props.designDocPartitioned,newDesignDocName:this.props.newDesignDocName,newDesignDocPartitioned:this.props.newDesignDocPartitioned,onSelectDesignDoc:this.props.selectDesignDoc,onChangeNewDesignDocName:this.props.updateNewDesignDocName,onChangeNewDesignDocPartitioned:this.props.updateNewDesignDocPartitioned,docLink:D("DESIGN_DOCS")})),f.default.createElement("div",{className:"control-group"},f.default.createElement("label",{htmlFor:"index-name"},f.default.createElement("span",null,"Index name"),f.default.createElement("a",{className:"help-link","data-bypass":"true",href:D("VIEW_FUNCS"),target:"_blank",rel:"noopener noreferrer"},f.default.createElement("i",{className:"icon-question-sign"}))),f.default.createElement("input",{type:"text",id:"index-name",value:this.props.viewName,onChange:this.viewChange,placeholder:"Index name"})),f.default.createElement(N,{id:"map-function",ref:function(t){e.mapEditor=t},title:"Map function",docLink:D("MAP_FUNCS"),blur:this.updateMapCode,allowZenMode:!1,defaultCode:this.props.map}),f.default.createElement(O.default,l({ref:function(t){e.reduceEditor=t},customReducerSupported:this.isCustomReduceSupported()},this.props)),f.default.createElement("div",{className:"padded-box"},f.default.createElement("div",{className:"control-group"},f.default.createElement(T,{id:"save-view",text:n}),f.default.createElement("a",{href:this.getCancelLink(),className:"index-cancel-link"},"Cancel")))))}}]),t}(d.Component);t.default=w,w.propTypes={isLoading:c.default.bool.isRequired,isNewView:c.default.bool.isRequired,database:c.default.object.isRequired,isDbPartitioned:c.default.bool.isRequired,designDocId:c.default.string.isRequired,newDesignDocName:c.default.string.isRequired,viewName:c.default.string.isRequired,isNewDesignDoc:c.default.bool.isRequired,originalViewName:c.default.string,originalDesignDocName:c.default.string,designDocs:c.default.object,saveDesignDoc:c.default.object,partitionKey:c.default.string,updateNewDesignDocName:c.default.func.isRequired,changeViewName:c.default.func.isRequired,updateMapCode:c.default.func.isRequired}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),s=a(u),c=n(0),d=a(c),f=n(11),p=a(f),h=n(13),m=a(h),_=p.default.helpers.getDocUrl,g=m.default.CodeEditorPanel,b=m.default.StyledSelect,y=function(e){function t(e){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"getOptionsList",value:function(){return this.props.reduceOptions.map(function(e,t){return d.default.createElement("option",{key:t,value:e},e)})}},{key:"getReduceValue",value:function(){return this.props.hasReduce?this.props.hasCustomReduce?this.reduceEditor.getValue():this.props.reduce:null}},{key:"getEditor",value:function(){return this.reduceEditor.getEditor()}},{key:"updateReduceCode",value:function(e){this.props.updateReduceCode(e)}},{key:"selectChange",value:function(e){this.props.selectReduceChanged(e.target.value)}},{key:"render",value:function(){var e=this,t=this.getOptionsList(),n=void 0;return this.props.hasCustomReduce&&this.props.customReducerSupported?n=d.default.createElement(g,{ref:function(t){return e.reduceEditor=t},id:"reduce-function",title:"Custom Reduce function",defaultCode:this.props.reduce,allowZenMode:!1,blur:this.updateReduceCode.bind(this)}):this.props.customReducerSupported||(n=d.default.createElement("div",{className:"reduce-editor-warning"},d.default.createElement("label",null,"Partitioned views do not support custom reduce functions."))),d.default.createElement("div",null,d.default.createElement("div",{className:"control-group"},d.default.createElement("label",{htmlFor:"reduce-function-selector"},d.default.createElement("span",null,"Reduce (optional)"),d.default.createElement("a",{className:"help-link","data-bypass":"true",href:_("REDUCE_FUNCS"),target:"_blank",rel:"noopener noreferrer"},d.default.createElement("i",{className:"icon-question-sign"}))),d.default.createElement(b,{selectContent:t,selectChange:this.selectChange.bind(this),selectId:"reduce-function-selector",selectValue:this.props.reduceSelectedOption})),n)}}]),t}(c.Component);t.default=y,y.defaultProps={customReducerSupported:!0},y.propTypes={reduceOptions:s.default.array.isRequired,hasReduce:s.default.bool.isRequired,hasCustomReduce:s.default.bool.isRequired,customReducerSupported:s.default.bool,reduce:s.default.string,reduceSelectedOption:s.default.string.isRequired,updateReduceCode:s.default.func.isRequired,selectReduceChanged:s.default.func.isRequired}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={CLEAR_INDEX:"CLEAR_INDEX",EDIT_INDEX:"EDIT_INDEX",EDIT_NEW_INDEX:"EDIT_NEW_INDEX",SELECT_REDUCE_CHANGE:"SELECT_REDUCE_CHANGE",VIEW_SAVED:"VIEW_SAVED",VIEW_CREATED:"VIEW_CREATED",DESIGN_DOC_CHANGE:"DESIGN_DOC_CHANGE",DESIGN_DOC_NEW_NAME_UPDATED:"DESIGN_DOC_NEW_NAME_UPDATED",DESIGN_DOC_NEW_PARTITIONED_UPDATED:"DESIGN_DOC_NEW_PARTITIONED_UPDATED",NEW_DESIGN_DOC:"NEW_DESIGN_DOC",VIEW_NAME_CHANGE:"VIEW_NAME_CHANGE",VIEW_ADD_DESIGN_DOC:"VIEW_ADD_DESIGN_DOC",VIEW_UPDATE_MAP_CODE:"VIEW_UPDATE_MAP_CODE",VIEW_UPDATE_REDUCE_CODE:"VIEW_UPDATE_REDUCE_CODE"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=f({},e,{isLoading:!1,newDesignDocName:"",isNewView:t.isNewView,viewName:t.viewName||"viewName",isNewDesignDoc:t.isNewDesignDoc||!1,designDocs:t.designDocs,designDocId:t.designDocId,originalDesignDocName:t.designDocId,database:t.database});return n.originalViewName=n.viewName,n.view=r(n),n}function r(e){return e.isNewView||e.isNewDesignDoc?{reduce:"",map:y}:e.designDocs.find(function(t){return e.designDocId==t.id}).dDocModel().get("views")[e.viewName]}function i(e,t){var n=e.designDocs.find(function(t){return e.designDocId===t.id});return!!n&&b.default.isDDocPartitioned(n.get("doc"),t)}function l(e){return e.view.reduce?u(e)?"CUSTOM":e.view.reduce:"NONE"}function u(e){return!(!e.view.reduce||-1!==v.indexOf(e.view.reduce))}function s(e,t){if("new-doc"===e.designDocId){var n={_id:"_design/"+e.newDesignDocName,views:{},language:"javascript"},a=new _.default.Doc(n,{database:e.database});return t&&a.setDDocPartitionedOption(e.newDesignDocPartitioned),a}if(!e.designDocs)return null;var o=e.designDocs.find(function(t){return t.id===e.designDocId});return o?o.dDocModel():null}function c(e){return e.designDocs?e.designDocs.filter(function(e){return!e.isMangoDoc()}).map(function(e){return e.id}):[]}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments[1],n=t.options;switch(t.type){case h.default.CLEAR_INDEX:return f({},D);case h.default.EDIT_INDEX:case h.default.EDIT_NEW_INDEX:return o(e,n);case h.default.VIEW_NAME_CHANGE:return f({},e,{viewName:t.name});case h.default.SELECT_REDUCE_CHANGE:var a=t.reduceSelectedOption;return"NONE"===a&&(a=""),"CUSTOM"===a&&(a=E),f({},e,{view:f({},e.view,{reduce:a})});case h.default.DESIGN_DOC_CHANGE:return f({},e,{designDocId:n.value});case h.default.VIEW_SAVED:case h.default.VIEW_CREATED:return e;case h.default.VIEW_ADD_DESIGN_DOC:return f({},e,{designDocId:t.designDoc._id});case h.default.VIEW_UPDATE_MAP_CODE:return f({},e,{view:f({},e.view,{map:t.code})});case h.default.VIEW_UPDATE_REDUCE_CODE:return f({},e,{view:f({},e.view,{reduce:t.code})});case h.default.DESIGN_DOC_NEW_NAME_UPDATED:return f({},e,{newDesignDocName:n.value});case h.default.DESIGN_DOC_NEW_PARTITIONED_UPDATED:return f({},e,{newDesignDocPartitioned:n.value});default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.getSelectedDesignDocPartitioned=i,t.reduceSelectedOption=l,t.hasCustomReduce=u,t.getSaveDesignDoc=s,t.getDesignDocList=c,t.default=d;var p=n(408),h=a(p),m=n(81),_=a(m),g=n(40),b=a(g),y="function (doc) {\n  emit(doc._id, 1);\n}",E="function (keys, values, rereduce) {\n  if (rereduce) {\n    return sum(values);\n  } else {\n    return values.length;\n  }\n}",v=["_sum","_count","_stats","_approx_count_distinct"],O=v.concat(["CUSTOM","NONE"]),D={designDocs:new Backbone.Collection,isLoading:!0,view:{reduce:"",map:y},database:{id:"0"},designDocId:"",isNewDesignDoc:!1,newDesignDocName:"",newDesignDocPartitioned:!0,isNewView:!1,viewName:"",originalViewName:"",originalDesignDocName:"",reduceOptions:O}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),s=a(u),c=n(0),d=a(c),f=n(20),p=n(2),h=a(p),m=n(13),g=a(m),b=n(249),y=a(b),E=n(900),v=a(E),O=g.default.MenuDropDown,D=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));if(n.indexList=function(){return _.map(n.state.updatedSidebarListTypes,function(e,t){var a=_.has(n.props.toggledSections,e.name)&&n.props.toggledSections[e.name],o="";return n.props.selectedNavInfo.designDocSection===e.name&&(o=n.props.selectedNavInfo.indexName),d.default.createElement(v.default,{icon:e.icon,isExpanded:a,urlNamespace:e.urlNamespace,indexLabel:e.indexLabel,onEdit:e.onEdit,onDelete:e.onDelete,onClone:e.onClone,selectedIndex:o,toggle:n.props.toggle,database:n.props.database,designDocName:n.props.designDocName,key:t,title:e.name,selector:e.selector,items:_.keys(n.props.designDoc[e.selector]),isPartitioned:n.props.isPartitioned,selectedPartitionKey:n.props.selectedPartitionKey,showDeleteIndexModal:n.props.showDeleteIndexModal,showCloneIndexModal:n.props.showCloneIndexModal})})},n.toggle=function(e){e.preventDefault(),n.props.toggle(n.props.designDocName)},n.getNewButtonLinks=function(){var e=n.props.selectedPartitionKey?encodeURIComponent(n.props.selectedPartitionKey):"",t=h.default.urls("databaseBaseURL","app",encodeURIComponent(n.props.database.id))+(e?"/_partition/"+e:""),a=n.props.designDocName;return[{title:"Add New",links:h.default.getExtensions("sidebar:links").reduce(function(e,o){return n.props.isPartitioned&&!o.showForPartitionedDDocs||e.push({title:o.title,url:"#"+t+"/"+o.url+"/"+encodeURIComponent(a),icon:"fonticon-plus-circled"}),e},[{title:"New View",url:"#"+h.default.urls("new","addView",encodeURIComponent(n.props.database.id),e,encodeURIComponent(a)),icon:"fonticon-plus-circled"}])}]},n.state={updatedSidebarListTypes:n.props.sidebarListTypes},_.isEmpty(n.state.updatedSidebarListTypes)||_.has(n.state.updatedSidebarListTypes[0],"selector")&&"views"!==n.state.updatedSidebarListTypes[0].selector){var a=n.state.updatedSidebarListTypes;a.unshift({selector:"views",name:"Views",urlNamespace:"view",indexLabel:"view",onDelete:y.default.deleteView,onClone:y.default.cloneView,onEdit:y.default.gotoEditViewPage}),n.state={updatedSidebarListTypes:a}}return n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.getNewButtonLinks(),t="design-doc-section accordion-header",n="design-doc-body accordion-body collapse";this.props.isExpanded&&(t+=" down",n+=" in");var a=this.props.designDocName,o=this.props.selectedPartitionKey?encodeURIComponent(this.props.selectedPartitionKey):"",r=h.default.urls("designDocs","app",encodeURIComponent(this.props.database.id),o,a),i="metadata"===this.props.selectedNavInfo.designDocSection?"active":"",l=this.props.isPartitioned?"Partitioned design document":"Global design document",u=this.props.isPartitioned?"fonticon-documents":"fonticon-document";return d.default.createElement("li",{className:"nav-header"},d.default.createElement("div",{id:"sidebar-tab-"+a,className:t},d.default.createElement("div",{id:"nav-header-"+a,onClick:this.toggle,className:"accordion-list-item"},d.default.createElement("div",{className:"fonticon-play"}),d.default.createElement("p",{className:"design-doc-name"},d.default.createElement("span",{title:"_design/"+a},d.default.createElement("i",{className:u,title:l}),a))),d.default.createElement("div",{className:"new-button add-dropdown"},d.default.createElement(O,{links:e}))),d.default.createElement(f.Collapse,{in:this.props.isExpanded},d.default.createElement("ul",{className:n,id:this.props.designDocName},d.default.createElement("li",{className:i},d.default.createElement("a",{href:"#/"+r,className:"toggle-view accordion-header"},"Metadata")),this.indexList())))}}]),t}(d.default.Component);D.propTypes={database:s.default.object.isRequired,sidebarListTypes:s.default.array.isRequired,isExpanded:s.default.bool.isRequired,isPartitioned:s.default.bool.isRequired,selectedPartitionKey:s.default.string,selectedNavInfo:s.default.object.isRequired,toggledSections:s.default.object.isRequired,designDocName:s.default.string.isRequired,showDeleteIndexModal:s.default.func.isRequired,showCloneIndexModal:s.default.func.isRequired},t.default=D},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=c({},e,{database:t.database,designDocs:t.designDocs,designDocList:l(t.designDocs),loading:!1});return t.selectedNavItem&&(n.selected={navItem:t.selectedNavItem,designDocName:"",designDocSection:"",indexName:""}),n}function r(e,t,n){var a=c({},e);if(!e.toggledSections[t])return a.toggledSections[t]={visible:!0,indexGroups:{}},a;if(n){var o=e.toggledSections[t].indexGroups[n];return _.isUndefined(o)?a.toggledSections[t].indexGroups[n]=!0:a.toggledSections[t].indexGroups[n]=!o,a}return a.toggledSections[t].visible=!e.toggledSections[t].visible,a}function i(e,t){var n=t.selectedNavItem,a=c({},e);return n.designDocName&&(_.has(e.toggledSections,n.designDocName)||(a.toggledSections[n.designDocName]={visible:!0,indexGroups:{}}),a.toggledSections[n.designDocName].visible=!0,n.designDocSection&&(a.toggledSections[n.designDocName].indexGroups[n.designDocSection]=!0)),a}function l(e){if(!e)return[];var t=e.toJSON();return t=_.filter(t,function(e){return!_.has(e.doc,"language")||"query"!==e.doc.language}),t.map(function(e){return e.safeId=h.default.utils.safeURLName(e._id.replace(/^_design\//,"")),_.extend(e,e.doc)})}function u(e,t){var n=e.designDocs.find(function(t){return e.cloneIndexModalSelectedDesignDoc==t.id});return!!n&&g.default.isDDocPartitioned(n.get("doc"),t)}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments[1],n=t.options;switch(t.type){case y.default.SIDEBAR_EXPAND_SELECTED_ITEM:return i(e,n);case y.default.SIDEBAR_NEW_OPTIONS:return o(e,n);case y.default.SIDEBAR_TOGGLE_CONTENT:return r(e,t.designDoc,t.indexGroup);case y.default.SIDEBAR_FETCHING:return c({},e,{loading:!0});case y.default.SIDEBAR_SHOW_DELETE_INDEX_MODAL:return c({},e,{deleteIndexModalIndexName:n.indexName,deleteIndexModalDesignDocName:n.designDocName,deleteIndexModalVisible:!0,deleteIndexModalText:f.default.createElement("div",null,"Are you sure you want to delete the ",f.default.createElement("code",null,n.indexName)," ",n.indexLabel,"?"),deleteIndexModalOnSubmit:n.onDelete});case y.default.SIDEBAR_HIDE_DELETE_INDEX_MODAL:return c({},e,{deleteIndexModalVisible:!1});case y.default.SIDEBAR_SHOW_CLONE_INDEX_MODAL:return c({},e,{cloneIndexModalIndexLabel:n.indexLabel,cloneIndexModalTitle:n.cloneIndexModalTitle,cloneIndexModalSourceIndexName:n.sourceIndexName,cloneIndexModalSourceDesignDocName:n.sourceDesignDocName,cloneIndexModalSelectedDesignDoc:"_design/"+n.sourceDesignDocName,cloneIndexDesignDocProp:"",cloneIndexModalVisible:!0,cloneIndexModalOnSubmit:n.onSubmit});case y.default.SIDEBAR_HIDE_CLONE_INDEX_MODAL:return c({},e,{cloneIndexModalVisible:!1});case y.default.SIDEBAR_CLONE_MODAL_DESIGN_DOC_CHANGE:return c({},e,{cloneIndexModalSelectedDesignDoc:n.value});case y.default.SIDEBAR_CLONE_MODAL_DESIGN_DOC_NEW_NAME_UPDATED:return c({},e,{cloneIndexModalNewDesignDocName:n.value});case y.default.SIDEBAR_CLONE_MODAL_DESIGN_DOC_NEW_PARTITIONED_UPDATED:return c({},e,{cloneIndexModalNewDesignDocPartitioned:n.value});case y.default.SIDEBAR_CLONE_MODAL_UPDATE_INDEX_NAME:return c({},e,{cloneIndexModalNewIndexName:n.value});case y.default.SIDEBAR_UPDATED_DESIGN_DOCS:return c({},e,{designDocs:n.designDocs,designDocList:l(n.designDocs),loading:!1});default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getDatabase=void 0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.getDesignDocPartitioned=u,t.default=s;var d=n(0),f=a(d),p=n(11),h=a(p),m=n(40),g=a(m),b=n(401),y=a(b),E={designDocs:new Backbone.Collection,designDocList:[],selected:{navItem:"all-docs",designDocName:"",designDocSection:"",indexName:""},loading:!0,toggledSections:{},deleteIndexModalVisible:!1,deleteIndexModalDesignDocName:"",deleteIndexModalText:"",deleteIndexModalIndexName:"",deleteIndexModalOnSubmit:function(){},cloneIndexModalVisible:!1,cloneIndexDesignDocProp:"",cloneIndexModalTitle:"",cloneIndexModalSelectedDesignDoc:"",cloneIndexModalNewDesignDocName:"",cloneIndexModalNewDesignDocPartitioned:!0,cloneIndexModalNewIndexName:"",cloneIndexModalSourceIndexName:"",cloneIndexModalSourceDesignDocName:"",cloneIndexModalIndexLabel:"",cloneIndexModalOnSubmit:function(){}};t.getDatabase=function(e){return e.loading?{}:e.database}},,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(11),r=a(o),i=n(2),l=a(i),u=n(21),s=n(415),c=a(s),d=n(40),f=a(d),p=void 0,h=function(e){return function(t){t({type:c.default.ADD_CHANGES_FILTER_ITEM,filter:e})}},m=function(e){return function(t){t({type:c.default.REMOVE_CHANGES_FILTER_ITEM,filter:e})}},_=function(e){return function(t){p=null,g(t,e)}},g=function(e,t,n){var a={limit:100};p&&(a.since=n,a.timeout=6e4,a.feed="longpoll");var o=r.default.utils.queryParams(a),i=r.default.utils.safeURLName(t),s=l.default.urls("changes","server",i,"?"+o);(0,u.get)(s).then(function(t){if(t.error)throw new Error(t.reason||t.error);b(t,e)}).catch(function(e){l.default.addNotification({msg:"Error loading list of changes. Reason: "+e.message,type:"error",clear:!0})})},b=function(e,t){var n=f.default.getSeqNum(e.last_seq);t({type:c.default.UPDATE_CHANGES,changes:e.results,seqNum:n})};t.default={addFilter:h,removeFilter:m,loadChanges:_}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={UPDATE_CHANGES:"UPDATE_CHANGES",ADD_CHANGES_FILTER_ITEM:"ADD_CHANGES_FILTER_ITEM",REMOVE_CHANGES_FILTER_ITEM:"REMOVE_CHANGES_FILTER_ITEM",UPDATE_CHANGES_FILTER:"UPDATE_CHANGES_FILTER",TOGGLE_CHANGES_CODE_VISIBILITY:"TOGGLE_CHANGES_CODE_VISIBILITY"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={DESIGN_DOC_MONITOR:"DESIGN_DOC_MONITOR",DESIGN_FETCHING:"DESIGN_FETCHING",DESIGN_REFRESH:"DESIGN_REFRESH"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.resetPagination=t.paginatePrevious=t.decrementSkipForPagePrevious=t.paginateNext=t.incrementSkipForPageNext=t.updatePerPageResults=t.resetFetchParamsBeforePerPageChange=t.setPerPage=t.toggleShowAllColumns=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=n(2),i=a(r),l=n(92),u=n(162),s=a(u),c=(t.toggleShowAllColumns=function(){return{type:s.default.INDEX_RESULTS_REDUX_TOGGLE_SHOW_ALL_COLUMNS}},t.setPerPage=function(e){return{type:s.default.INDEX_RESULTS_REDUX_SET_PER_PAGE,perPage:e}}),d=t.resetFetchParamsBeforePerPageChange=function(e,t,n){return o({},e,{limit:n+1,skip:t.skip||0})},f=(t.updatePerPageResults=function(e,t,n,a){return t=d(t,n,a),function(o){o(c(a)),o((0,l.fetchDocs)(e,t,n))}},t.incrementSkipForPageNext=function(e,t){return o({},e,{skip:e.skip+t})}),p=(t.paginateNext=function(e,t,n,a){return t=f(t,a),function(a){a({type:s.default.INDEX_RESULTS_REDUX_PAGINATE_NEXT}),a((0,l.fetchDocs)(e,t,n))}},t.decrementSkipForPagePrevious=function(e,t){return o({},e,{skip:Math.max(e.skip-t,0)})});t.paginatePrevious=function(e,t,n,a){return t=p(t,a),function(a){a({type:s.default.INDEX_RESULTS_REDUX_PAGINATE_PREVIOUS}),a((0,l.fetchDocs)(e,t,n))}},t.resetPagination=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.default.constants.MISC.DEFAULT_PAGE_SIZE;return c(e)}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.postToIndexBulkDelete=t.postToBulkDocs=t.queryMapReduceView=t.queryAllDocs=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};n(419);var r=n(21),i=n(11),l=a(i),u=n(30),s=a(u),c=n(2),d=a(c);t.queryAllDocs=function(e,t,n){o(n,{reduce:void 0,group:void 0,group_level:void 0}),t&&o(n,{inclusive_end:!1,start_key:'"'+t+':"',end_key:'"'+t+':￰"'});var a=l.default.utils.queryString(n),i=e+(-1!==e.indexOf("?")?"&":"?")+a;return(0,r.get)(i).then(function(e){if(e.error)throw new Error("("+e.error+") "+e.reason);return{docs:e.rows,docType:s.default.INDEX_RESULTS_DOC_TYPE.VIEW}})},t.queryMapReduceView=function(e,t){void 0===t.reduce&&(t.reduce=!1),t.include_docs&&t.reduce&&(t.reduce=!1,t.group=void 0,t.group_level=void 0);var n=-1!==e.indexOf("/_partition/");n&&(t.include_docs=void 0,t.stable=void 0,t.conflicts=void 0);var a=l.default.utils.queryString(t),o=e+(-1!==e.indexOf("?")?"&":"?")+a;return(0,r.get)(o).then(function(e){if(e.error)throw new Error("("+e.error+") "+e.reason);return{docs:e.rows,docType:s.default.INDEX_RESULTS_DOC_TYPE.VIEW,layout:n?s.default.LAYOUT_ORIENTATION.METADATA:void 0}})},t.postToBulkDocs=function(e,t){var n=d.default.urls("bulk_docs","server",e);return(0,r.post)(n,t)},t.postToIndexBulkDelete=function(e,t){var n=d.default.urls("mango","index-server-bulk-delete",encodeURIComponent(e));return(0,r.post)(n,t)}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.queryOptionsChangeUpdate=t.queryOptionsToggleStable=t.queryOptionsRemoveFilterOnlyDdocs=t.queryOptionsFilterOnlyDdocs=t.queryOptionsToggleIncludeDocs=t.queryOptionsUpdateLimit=t.queryOptionsUpdateSkip=t.queryOptionsToggleDescending=t.queryOptionsUpdateByKeys=t.queryOptionsUpdateBetweenKeys=t.queryOptionsToggleBetweenKeys=t.queryOptionsToggleByKeys=t.queryOptionsUpdateGroupLevel=t.queryOptionsToggleReduce=t.queryOptionsToggleVisibility=t.queryOptionsExecute=t.resetFetchParamsBeforeExecute=void 0;var a=n(162),o=function(e){return e&&e.__esModule?e:{default:e}}(a),r=n(92),i=function(e){return{type:o.default.INDEX_RESULTS_REDUX_NEW_QUERY_OPTIONS,options:e}},l=t.resetFetchParamsBeforeExecute=function(e){return{limit:e+1,skip:0}};t.queryOptionsExecute=function(e,t,n){var a=l(n);return(0,r.fetchDocs)(e,a,t)},t.queryOptionsToggleVisibility=function(e){return i({isVisible:e})},t.queryOptionsToggleReduce=function(e){return i(e?{reduce:!e}:{reduce:!e,includeDocs:!1})},t.queryOptionsUpdateGroupLevel=function(e){return i({groupLevel:e})},t.queryOptionsToggleByKeys=function(e){return i({showByKeys:!e,showBetweenKeys:!!e})},t.queryOptionsToggleBetweenKeys=function(e){return i({showBetweenKeys:!e,showByKeys:!!e})},t.queryOptionsUpdateBetweenKeys=function(e){return i({betweenKeys:e})},t.queryOptionsUpdateByKeys=function(e){return i({byKeys:e})},t.queryOptionsToggleDescending=function(e){return i({descending:!e})},t.queryOptionsUpdateSkip=function(e){return i({skip:e})},t.queryOptionsUpdateLimit=function(e){return i({limit:e})},t.queryOptionsToggleIncludeDocs=function(e){return i({includeDocs:!e})},t.queryOptionsFilterOnlyDdocs=function(){return i({betweenKeys:{include:!1,startkey:'"_design"',endkey:'"_design0"'},showBetweenKeys:!0,showByKeys:!1})},t.queryOptionsRemoveFilterOnlyDdocs=function(){return i({betweenKeys:{},showBetweenKeys:!1,showByKeys:!1})},t.queryOptionsToggleStable=function(e){return i({stable:!e})},t.queryOptionsChangeUpdate=function(e){return i({update:e.toString()})}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=a(o),i=n(14),l=n(929),u=a(l),s=n(92),c=n(420),d=n(120),f=n(122),p=function(e,t){var n=e.indexResults;return{noResultsWarning:n.noResultsWarning,docs:(0,f.getDocs)(n),selectedDocs:(0,f.getSelectedDocs)(n),isLoading:(0,f.getIsLoading)(n),hasResults:(0,f.getHasResults)(n),results:(0,f.getDataForRendering)(n,t.databaseName,t.deleteEnabled),isEditable:(0,f.getIsEditable)(n),selectedLayout:(0,f.getSelectedLayout)(n),allDocumentsSelected:(0,f.getAllDocsSelected)(n),hasSelectedItem:(0,f.getHasDocsSelected)(n),numDocsSelected:(0,f.getNumDocsSelected)(n),textEmptyIndex:(0,f.getTextEmptyIndex)(n),docType:(0,f.getDocType)(n),fetchParams:(0,f.getFetchParams)(n),queryOptionsParams:(0,f.getQueryOptionsParams)(n),partitionKey:t.partitionKey,resultsStyle:(0,f.getResultsStyle)(n)}},h=function(e,t){return{fetchDocs:function(n,a){e((0,s.fetchDocs)(t.queryDocs,n,a))},selectDoc:function(t,n){e((0,d.selectDoc)(t,n))},bulkDeleteDocs:function(n,a,o){e((0,s.bulkDeleteDocs)(t.databaseName,t.queryDocs,n,t.designDocs,a,o,t.docType))},changeLayout:function(t){e((0,d.changeLayout)(t))},bulkCheckOrUncheck:function(n,a,o){e((0,d.bulkCheckOrUncheck)(n,a,o,t.docType))},changeTableHeaderAttribute:function(t,n){e((0,d.changeTableHeaderAttribute)(t,n))},resetState:function(){e((0,d.resetState)())},queryOptionsToggleIncludeDocs:function(t){e((0,c.queryOptionsToggleIncludeDocs)(t))},updateResultsStyle:function(t){e((0,d.updateResultsStyle)(t))}}},m=(0,i.connect)(p,h)(u.default);t.default=m,m.propTypes={queryDocs:r.default.func.isRequired,docType:r.default.string.isRequired}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=a(o),i=n(14),l=n(938),u=a(l),s=n(417),c=n(122),d=function(e,t){var n=e.indexResults;return{docs:(0,c.getDocs)(n),selectedDocs:(0,c.getSelectedDocs)(n),hasResults:(0,c.getHasResults)(n),pageStart:(0,c.getPageStart)(n),pageEnd:(0,c.getPageEnd)(n),perPage:(0,c.getPerPage)(n),prioritizedEnabled:(0,c.getPrioritizedEnabled)(n),showPrioritizedEnabled:(0,c.getShowPrioritizedEnabled)(n),displayedFields:(0,c.getDisplayedFields)(n,t.databaseName),canShowNext:(0,c.getCanShowNext)(n),canShowPrevious:(0,c.getCanShowPrevious)(n),fetchParams:(0,c.getFetchParams)(n),queryOptionsParams:(0,c.getQueryOptionsParams)(n)}},f=function(e,t){return{toggleShowAllColumns:function(){e((0,s.toggleShowAllColumns)())},updatePerPageResults:function(n,a,o){e((0,s.updatePerPageResults)(t.queryDocs,a,o,n))},paginateNext:function(n,a,o){e((0,s.paginateNext)(t.queryDocs,n,a,o))},paginatePrevious:function(n,a,o){e((0,s.paginatePrevious)(t.queryDocs,n,a,o))}}},p=(0,i.connect)(d,f)(u.default);t.default=p,p.propTypes={queryDocs:r.default.func.isRequired}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=a(o),i=n(14),l=n(11),u=a(l),s=n(43),c=n(122),d=n(2),f=a(d),p=function(e,t){var n=e.indexResults,a=t.docUrl,o=t.endpoint,r=t.endpointAddQueryOptions;if(a||(a=f.default.constants.DOC_URLS.GENERAL),o&&r){var i=u.default.utils.queryString((0,c.getQueryOptionsParams)(n));i&&(o=-1==o.indexOf("?")?o+"?"+i:o+"&"+i)}return{docUrl:a,endpoint:o}},h=(0,i.connect)(p)(s.ApiBarWrapper);t.default=h,h.propTypes={databaseName:r.default.string,docUrl:r.default.string,endpoint:r.default.string,endpointAddQueryOptions:r.default.bool}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=a(o),i=n(14),l=n(941),u=a(l),s=n(942),c=function(e,t){return{selectorVisible:e.partitionKey.selectorVisible,databaseName:t.databaseName,partitionKey:t.partitionKey,onPartitionKeySelected:t.onPartitionKeySelected,globalMode:t.globalMode}},d=function(e){return{checkDbPartitioned:function(t){e((0,s.checkDbPartitioned)(t))}}},f=(0,i.connect)(c,d)(u.default);t.default=f,f.propTypes={databaseName:r.default.string.isRequired,partitionKey:r.default.string.isRequired,onPartitionKeySelected:r.default.func.isRequired,onGlobalModeSelected:r.default.func.isRequired,globalMode:r.default.bool}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={PARTITON_KEY_SHOW_SELECTOR:"PARTITON_KEY_SHOW_SELECTOR",PARTITON_KEY_HIDE_SELECTOR:"PARTITON_KEY_HIDE_SELECTOR"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e){l.default.addNotification({msg:e,type:"error",clear:!0})}Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(2),l=a(i),u=n(21),s=n(427),c=a(s),d=function(e){l.default.reduxDispatch(f(e))},f=function(e){return function(t){var n=e.doc;t({type:c.default.RESET_DOC}),n.fetch().then(function(){t({type:c.default.DOC_LOADED,options:{doc:n}}),e.onLoaded&&e.onLoaded()},function(t){404===t.status&&o("The "+n.id+" document does not exist."),l.default.navigate(l.default.urls("allDocs","app",e.database.id,""))})}},p=function(e,t,n,a){t?(l.default.addNotification({msg:"Saving document.",clear:!0}),e.save().then(function(){n(e.prettyJSON()),a?l.default.navigate(a,{trigger:!0}):l.default.navigate("#/"+l.default.urls("allDocs","app",l.default.url.encode(e.database.id)),{trigger:!0})}).fail(function(e){l.default.addNotification({msg:"Save failed: "+JSON.parse(e.responseText).reason,type:"error",fade:!1,clear:!0})})):e.validationError&&"Cannot change a documents id."===e.validationError?(o("You cannot edit the _id of an existing document. Try this: Click 'Clone Document', then change the _id on the clone before saving."),delete e.validationError):o("Please fix the JSON errors and try saving again.")},h=function(){return function(e){e({type:c.default.SHOW_DELETE_DOC_CONFIRMATION_MODAL})}},m=function(){return function(e){e({type:c.default.HIDE_DELETE_DOC_CONFIRMATION_MODAL})}},_=function(e){var t=e.database.safeID(),n="?rev="+e.get("_rev"),a=l.default.urls("document","server",t,e.safeID(),n);(0,u.deleteRequest)(a).then(function(e){if(e.error)throw new Error(e.reason||e.error);l.default.addNotification({msg:"Your document has been successfully deleted.",type:"success",clear:!0}),l.default.navigate(l.default.urls("allDocs","app",t,""))}).catch(function(e){l.default.addNotification({msg:"Failed to delete your document. Reason: "+e.message,type:"error",clear:!0})})},g=function(){return function(e){e({type:c.default.SHOW_CLONE_DOC_MODAL})}},b=function(){return function(e){e({type:c.default.HIDE_CLONE_DOC_MODAL})}},y=function(e,t,n){b(),t.copy(n).then(function(){var t=l.default.urls("document","app",e.safeID(),encodeURIComponent(n));l.default.navigate(t,{trigger:!0}),l.default.addNotification({msg:"Document has been duplicated."})},function(e){var t="Could not duplicate document, reason: "+e.responseText+".";l.default.addNotification({msg:t,type:"error"})})},E=function(){return function(e){e({type:c.default.SHOW_UPLOAD_MODAL})}},v=function(){return function(e){e({type:c.default.HIDE_UPLOAD_MODAL})}},O=function(e){return function(t){if(0===e.files.length)return void t({type:c.default.FILE_UPLOAD_ERROR,options:{error:"Please select a file to be uploaded."}});t({type:c.default.START_FILE_UPLOAD});var n="?rev="+e.rev,a=e.doc.getDatabase().safeID(),o=e.doc.safeID(),i=e.files[0],u=l.default.urls("document","attachment",a,o,encodeURIComponent(i.name),n),s=function(e){if(e.lengthComputable){var n=e.loaded/e.total*100;t({type:c.default.SET_FILE_UPLOAD_PERCENTAGE,options:{percent:n}})}},d=function(e){t(f({doc:e,onLoaded:function(){t({type:c.default.FILE_UPLOAD_SUCCESS}),l.default.addNotification({msg:"Document saved successfully.",type:"success",clear:!0})}}))},p=function(e){t({type:c.default.FILE_UPLOAD_ERROR,options:{error:e}})},h=new XMLHttpRequest;r=h,h.withCredentials=!0,h.upload&&(h.upload.onprogress=s),h.onloadend=function(){r=void 0},h.onerror=function(){p("Error uploading file")},h.onload=function(t){if(h.status>=200&&h.status<300)d(e.doc);else{var n="Error uploading file. ";if(t.responseText)try{var a=JSON.parse(t.responseText);a.error&&(n+="Reason: "+(a.reason||a.error))}catch(e){}p(n)}},h.open("PUT",u),h.setRequestHeader("X-Requested-With","XMLHttpRequest"),h.setRequestHeader("Content-Type",i.type||"application/octet-stream"),h.setRequestHeader("Accept","application/json"),h.send(i)}},D=function(){r&&r.abort()},N=function(){return function(e){e({type:c.default.RESET_UPLOAD_MODAL})}};t.default={dispatchInitDocEditor:d,initDocEditor:f,saveDoc:p,showCloneDocModal:g,hideCloneDocModal:b,cloneDoc:y,showDeleteDocModal:h,hideDeleteDocModal:m,deleteDoc:_,showUploadModal:E,hideUploadModal:v,uploadAttachment:O,cancelUpload:D,resetUploadModal:N}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={RESET_DOC:"RESET_DOC",DOC_LOADED:"DOC_LOADED",SHOW_CLONE_DOC_MODAL:"SHOW_CLONE_DOC_MODAL",HIDE_CLONE_DOC_MODAL:"HIDE_CLONE_DOC_MODAL",SHOW_DELETE_DOC_CONFIRMATION_MODAL:"SHOW_DELETE_DOC_CONFIRMATION_MODAL",HIDE_DELETE_DOC_CONFIRMATION_MODAL:"HIDE_DELETE_DOC_CONFIRMATION_MODAL",SHOW_UPLOAD_MODAL:"SHOW_UPLOAD_MODAL",HIDE_UPLOAD_MODAL:"HIDE_UPLOAD_MODAL",RESET_UPLOAD_MODAL:"RESET_UPLOAD_MODAL",SHOW_STRING_EDIT_MODAL:"SHOW_STRING_EDIT_MODAL",HIDE_STRING_EDIT_MODAL:"HIDE_STRING_EDIT_MODAL",FILE_UPLOAD_SUCCESS:"FILE_UPLOAD_SUCCESS",FILE_UPLOAD_ERROR:"FILE_UPLOAD_ERROR",START_FILE_UPLOAD:"START_FILE_UPLOAD",SET_FILE_UPLOAD_PERCENTAGE:"SET_FILE_UPLOAD_PERCENTAGE"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDocToWin=t.getIsDiffViewEnabled=t.getDropdownData=t.getShowConfirmModal=t.getTheirs=t.getOurs=t.getDatabaseName=t.getConflictingRev=t.getConflictDoc=t.getDoc=t.getTree=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=n(429),r={tree:[],doc:{},conflictDoc:!1,conflictingRevs:[],databaseName:"",ours:null,theirs:null,isDiffViewEnabled:!0,showConfirmModal:!1,docToWin:null},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,t=arguments[1],n=t.type,i=t.options;switch(n){case o.REV_BROWSER_REV_TREE_LOADED:var l=i.tree,u=i.doc,s=i.conflictDoc,c=i.conflictingRevs,d=i.databaseName;return a({},e,{tree:l,doc:u,conflictDoc:s,conflictingRevs:c,databaseName:d,theirs:s,ours:u});case o.REV_BROWSER_DIFF_DOCS_READY:return a({},e,{theirs:i.theirs});case o.REV_BROWSER_DIFF_ENABLE_DIFF_VIEW:return a({},e,{isDiffViewEnabled:i.enableDiff});case o.REV_BROWSER_SHOW_CONFIRM_MODAL:return a({},e,{showConfirmModal:i.show,docToWin:i.docToWin});default:return e}};t.default=i,t.getTree=function(e){return e.tree},t.getDoc=function(e){return e.doc},t.getConflictDoc=function(e){return e.conflictDoc},t.getConflictingRev=function(e){return e.conflictingRevs},t.getDatabaseName=function(e){return e.databaseName},t.getOurs=function(e){return e.ours},t.getTheirs=function(e){return e.theirs},t.getShowConfirmModal=function(e){return e.showConfirmModal},t.getDropdownData=function(e){return e.conflictingRevs.map(function(e){return{value:e,label:e}})},t.getIsDiffViewEnabled=function(e){return e.isDiffViewEnabled},t.getDocToWin=function(e){return e.docToWin}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=t.REV_BROWSER_REV_TREE_LOADED="REV_TREE_LOADED",o=t.REV_BROWSER_DIFF_DOCS_READY="REV_BROWSER_DIFF_DOCS_READY",r=t.REV_BROWSER_DIFF_ENABLE_DIFF_VIEW="REV_BROWSER_DIFF_ENABLE_DIFF_VIEW",i=t.REV_BROWSER_SHOW_CONFIRM_MODAL="REV_BROWSER_SHOW_CONFIRM_MODAL";t.default={REV_BROWSER_REV_TREE_LOADED:a,REV_BROWSER_DIFF_DOCS_READY:o,REV_BROWSER_DIFF_ENABLE_DIFF_VIEW:r,REV_BROWSER_SHOW_CONFIRM_MODAL:i}},,,,,,,,,,function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),i=o(r),l=n(2),u=o(l),s=n(440),c=o(s),d=n(92),f=a(d),p=n(164),h=a(p);t.default={loadQueryHistory:function(e){return{type:c.default.MANGO_LOAD_QUERY_HISTORY,options:e}},newQueryFindCode:function(e){return{type:c.default.MANGO_NEW_QUERY_FIND_CODE,options:e}},showQueryExplain:function(e){return{type:c.default.MANGO_SHOW_EXPLAIN_RESULTS,options:e}},hideQueryExplain:function(){return{type:c.default.MANGO_HIDE_EXPLAIN_RESULTS}},newQueryCreateIndexTemplate:function(e){return{type:c.default.MANGO_NEW_QUERY_CREATE_INDEX_TEMPLATE,options:e}},loadIndexTemplates:function(e){return{type:c.default.MANGO_LOAD_INDEX_TEMPLATES,options:e}},requestSaveIndex:function(){return{type:c.default.MANGO_SAVE_INDEX_REQUEST}},saveIndex:function(e){var t=this,n=e.databaseName,a=e.indexCode,o=e.fetchParams;return u.default.addNotification({msg:"Saving index for query...",type:"info",clear:!0}),function(e){return e(t.requestSaveIndex()),h.createIndex(n,a).then(function(){var t="#"+u.default.urls("mango","query-app",i.default.utils.safeURLName(n),""),a=function(e){return h.fetchIndexes(n,e)};e(f.fetchDocs(a,o,{})),u.default.addNotification({msg:'Index is ready for querying. <a href="'+t+'">Run a Query.</a>',type:"success",clear:!0,escape:!1})}).catch(function(e){u.default.addNotification({msg:"Failed to create index. "+t.errorReason(e),type:"error",clear:!0})})}},errorReason:function(e){return"Reason: "+(e&&e.message||"n/a")},runExplainQuery:function(e){var t=this,n=e.databaseName,a=e.partitionKey,o=e.queryCode;return function(e){return h.fetchQueryExplain(n,a,o).then(function(n){e(t.showQueryExplain({explainPlan:n}))}).catch(function(){u.default.addNotification({msg:"There was an error fetching the query plan.",type:"error",clear:!0})})}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={MANGO_NEW_QUERY_FIND_CODE:"MANGO_NEW_QUERY_FIND_CODE",MANGO_LOAD_QUERY_HISTORY:"MANGO_LOAD_QUERY_HISTORY",MANGO_LOAD_INDEX_TEMPLATES:"MANGO_LOAD_INDEX_TEMPLATES",MANGO_NEW_QUERY_CREATE_INDEX_TEMPLATE:"MANGO_NEW_QUERY_CREATE_INDEX_TEMPLATE",MANGO_SAVE_INDEX_REQUEST:"MANGO_SAVE_INDEX_REQUEST",MANGO_SHOW_EXPLAIN_RESULTS:"MANGO_SHOW_EXPLAIN_RESULTS",MANGO_HIDE_EXPLAIN_RESULTS:"MANGO_HIDE_EXPLAIN_RESULTS"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={CLUSTER_FETCH_NODES:"CLUSTER_FETCH_NODES"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(0),s=a(u),c=n(1),d=a(c),f=n(11),p=a(f),h=function(e){function t(){var e,n,a,i;o(this,t);for(var l=arguments.length,u=Array(l),s=0;s<l;s++)u[s]=arguments[s];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.getNodeType=function(){var e=a.props.clusterState;return"cluster_finished"===e?"clustered":"single_node_enabled"===e?"single":"unknown state"},i=n,r(a,i)}return i(t,e),l(t,[{key:"render",value:function(){var e=this.getNodeType();return s.default.createElement("div",{className:"setup-screen"},p.default.i18n.en_US["couchdb-productname"]," is configured for production usage as a ",e," node!",s.default.createElement("br",null),s.default.createElement("br",null),"Do you want to ",s.default.createElement("a",{href:"#replication"},"replicate data"),"?")}}]),t}(s.default.Component);t.default=h,h.propTypes={clusterState:d.default.string}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SETUP_SET_CLUSTERSTATUS="SETUP_SET_CLUSTERSTATUS",t.SETUP_SET_USERNAME="SETUP_SET_USERNAME",t.SETUP_SET_PASSWORD="SETUP_SET_PASSWORD",t.SETUP_BIND_ADDRESS_FOR_SINGLE_NODE="SETUP_BIND_ADDRESS_FOR_SINGLE_NODE",t.SETUP_PORT_FOR_SINGLE_NODE="SETUP_PORT_FOR_SINGLE_NODE",t.SETUP_PORT_ADDITIONAL_NODE="SETUP_PORT_ADDITIONAL_NODE",t.SETUP_BIND_ADDRESS_ADDITIONAL_NODE="SETUP_BIND_ADDRESS_ADDITIONAL_NODE",t.SETUP_REMOTE_ADDRESS_ADDITIONAL_NODE="SETUP_REMOTE_ADDRESS_ADDITIONAL_NODE",t.SETUP_RESET_ADDITIONAL_NODE="SETUP_RESET_ADDITIONAL_NODE",t.SETUP_ADD_NODE_TO_LIST="SETUP_ADD_NODE_TO_LIST",t.SETUP_NODE_COUNT="SETUP_NODE_COUNT"},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(0),s=a(u),c=n(1),d=a(c),f=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e="Specify your Admin credentials";return this.props.isAdminParty&&(e="Create Admin credentials."),s.default.createElement("div",{className:"setup-creds"},s.default.createElement("div",null,s.default.createElement("p",null,e)),s.default.createElement("input",{className:"setup-username",onChange:this.props.onAlterUsername,placeholder:"Username",value:this.props.username,type:"text"}),s.default.createElement("input",{className:"setup-password",onChange:this.props.onAlterPassword,placeholder:"Password",value:this.props.password,type:"password"}))}}]),t}(s.default.Component);t.default=f,f.propTypes={onAlterUsername:d.default.func.isRequired,onAlterPassword:d.default.func.isRequired,username:d.default.string.isRequired,password:d.default.string.isRequired,isAdminParty:d.default.bool}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(0),s=a(u),c=n(1),d=a(c),f=function(e){function t(){var e,n,a,i;o(this,t);for(var l=arguments.length,u=Array(l),s=0;s<l;s++)u[s]=arguments[s];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.handleIpChange=function(e){a.props.onAlterBindAddress(e)},a.handlePortChange=function(e){a.props.onAlterPort(e)},i=n,r(a,i)}return i(t,e),l(t,[{key:"render",value:function(){return s.default.createElement("div",{className:"setup-opt-settings"},s.default.createElement("p",null,"Bind address the node will listen on"),s.default.createElement("input",{className:"setup-input-ip",value:this.props.ip,onChange:this.handleIpChange,placeholder:"IP Address",type:"text"}),s.default.createElement("div",{className:"setup-port"},s.default.createElement("p",null,"Port that the node will use"),s.default.createElement("input",{className:"setup-input-port",value:this.props.port,onChange:this.handlePortChange,type:"text"})))}}]),t}(s.default.Component);t.default=f,f.propTypes={ip:d.default.string.isRequired,port:d.default.number.isRequired,onAlterBindAddress:d.default.func.isRequired,onAlterPort:d.default.func.isRequired}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={ACTIVE_TASKS_SWITCH_TAB:"ACTIVE_TASKS_SWITCH_TAB",ACTIVE_TASKS_SET_COLLECTION:"ACTIVE_TASKS_SET_COLLECTION",ACTIVE_TASKS_SET_SEARCH_TERM:"ACTIVE_TASKS_SET_SEARCH_TERM",ACTIVE_TASKS_SORT_BY_COLUMN_HEADER:"ACTIVE_TASKS_SORT_BY_COLUMN_HEADER",ACTIVE_TASKS_FETCH_AND_SET:"ACTIVE_TASKS_FETCH_AND_SET",ACTIVE_TASKS_SET_IS_LOADING:"ACTIVE_TASKS_SET_IS_LOADING",ACTIVE_TASKS_POLLING_COLLECTION:"ACTIVE_TASKS_POLLING_COLLECTION"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSearchTerm=t.getSortByHeader=t.getSelectedRadio=t.getIsLoading=t.getHeaderIsAscending=t.getTasks=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=n(446),r=function(e){return e&&e.__esModule?e:{default:e}}(o),i=n(22),l={isLoading:!1,sortByHeader:"started-on",headerIsAscending:!0,selectedRadio:"All Tasks",searchTerm:"",tasks:[],filteredTasks:[]},u=function(e,t,n){var a=(0,i.sortBy)(t,function(t){var n=e;return(0,i.isUndefined)(t[n])&&(n="source"),t[n]});return n?a:a.reverse()},s=function(e,t){var n=f(t,e.selectedRadio,e.sortbyHeader,e.tasks,e.headerIsAscending);return a({},e,{filteredTasks:n,searchTerm:t})},c=function(e,t){var n=new RegExp(t,"g"),a="";return(0,i.has)(e,"database")&&(a+=e.database),(0,i.has)(e,"source")&&(a+=e.source),(0,i.has)(e,"target")&&(a+=e.target),n.test(a)},d=function(e,t){var n=t.toLowerCase().replace(" ","_");return e.type===n||"all_tasks"===n},f=function(e,t,n,a,o){var r=a.filter(function(n){return d(n,t)&&c(n,e)});return u(n,r,o)},p=function(e,t,n){return e!==t||!n};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1],n=t.type,o=t.options;switch(n){case r.default.ACTIVE_TASKS_FETCH_AND_SET:return a({},e,{tasks:o,filteredTasks:f(e.searchTerm,e.selectedRadio,e.sortByHeader,o,e.headerIsAscending)});case r.default.ACTIVE_TASKS_SWITCH_TAB:var i=f(e.searchTerm,o,e.sortByHeader,e.tasks,d);return a({},e,{selectedRadio:o,filteredTasks:i});case r.default.ACTIVE_TASKS_CHANGE_POLLING_INTERVAL:return a({},e,{pollingIntervalSeconds:o});case r.default.ACTIVE_TASKS_SET_SEARCH_TERM:return s(e,o);case r.default.ACTIVE_TASKS_SORT_BY_COLUMN_HEADER:var u=e.sortByHeader,c=o,d=p(u,c,e.headerIsAscending),h=f(e.searchTerm,e.selectedRadio,c,e.tasks,d);return a({},e,{sortByHeader:c,headerIsAscending:d,filteredTasks:h});case r.default.ACTIVE_TASKS_SET_IS_LOADING:return a({},e,{isLoading:o})}return e},t.getTasks=function(e){return e.filteredTasks},t.getHeaderIsAscending=function(e){return e.headerIsAscending},t.getIsLoading=function(e){return e.isLoading},t.getSelectedRadio=function(e){return e.selectedRadio},t.getSortByHeader=function(e){return e.sortByHeader},t.getSearchTerm=function(e){return e.searchTerm}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deleteConfigOption=t.saveConfigOption=t.optionUrl=t.fetchConfig=t.configUrl=void 0;var a=n(21),o=n(19),r=function(e){return e&&e.__esModule?e:{default:e}}(o),i=t.configUrl=function(e){return r.default.getServerUrl("/_node/"+e+"/_config")},l=(t.fetchConfig=function(e){var t=i(e);return(0,a.get)(t).then(function(e){if(e.error)throw new Error(e.reason);return{sections:e}})},t.optionUrl=function(e,t,n){var a="/_node/"+e+"/_config/"+encodeURIComponent(t)+"/"+encodeURIComponent(n);return r.default.getServerUrl(a)});t.saveConfigOption=function(e,t,n,o){var r=l(e,t,n);return(0,a.put)(r,o).then(function(e){if(e.error)throw new Error(e.reason||e.error);return e})},t.deleteConfigOption=function(e,t,n){var o=l(e,t,n);return(0,a.deleteRequest)(o).then(function(e){if(e.error)throw new Error(e.reason);return e})}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.deleteOption=t.addOption=t.saveOption=t.cancelEdit=t.editOption=t.fetchAndEditConfig=void 0;var o=n(450),r=a(o),i=n(2),l=a(i),u=n(448),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),c=(t.fetchAndEditConfig=function(e){return function(t){t({type:r.default.LOADING_CONFIG}),s.fetchConfig(e).then(function(n){t({type:r.default.EDIT_CONFIG,options:{sections:n.sections,node:e}})}).catch(function(n){l.default.addNotification({msg:"Failed to load the configuration. "+n.message,type:"error",clear:!0}),t({type:r.default.EDIT_CONFIG,options:{sections:[],node:e}})})}},t.editOption=function(e){return function(t){t({type:r.default.EDIT_OPTION,options:e})}},t.cancelEdit=function(e){return function(t){t({type:r.default.CANCEL_EDIT,options:e})}},t.saveOption=function(e,t){return function(n){n({type:r.default.SAVING_OPTION,options:t});var a=t.sectionName,o=t.optionName,i=t.value;return s.saveConfigOption(e,a,o,i).then(function(){return c(t,n)}).catch(function(e){return d(t,e.message,n)})}},function(e,t){t({type:r.default.OPTION_SAVE_SUCCESS,options:e}),l.default.addNotification({msg:"Option "+e.optionName+" saved",type:"success"})}),d=function(e,t,n){n({type:r.default.OPTION_SAVE_FAILURE,options:e}),l.default.addNotification({msg:"Option save failed: "+t,type:"error"})},f=(t.addOption=function(e,t){return function(n){n({type:r.default.ADDING_OPTION});var a=t.sectionName,o=t.optionName,i=t.value;return s.saveConfigOption(e,a,o,i).then(function(){return f(t,n)}).catch(function(e){return p(t,e.message,n)})}},function(e,t){t({type:r.default.OPTION_ADD_SUCCESS,options:e}),l.default.addNotification({msg:"Option "+e.optionName+" added",type:"success"})}),p=function(e,t,n){n({type:r.default.OPTION_ADD_FAILURE,options:e}),l.default.addNotification({msg:"Option add failed: "+t,type:"error"})},h=(t.deleteOption=function(e,t){return function(n){n({type:r.default.DELETING_OPTION,options:t});var a=t.sectionName,o=t.optionName;return s.deleteConfigOption(e,a,o).then(function(){return h(t,n)}).catch(function(e){return m(t,e.message,n)})}},function(e,t){t({type:r.default.OPTION_DELETE_SUCCESS,options:e}),l.default.addNotification({msg:"Option "+e.optionName+" deleted",type:"success"})}),m=function(e,t,n){n({type:r.default.OPTION_DELETE_FAILURE,options:e}),l.default.addNotification({msg:"Option delete failed: "+t,type:"error"})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={EDIT_CONFIG:"EDIT_CONFIG",LOADING_CONFIG:"LOADING_CONFIG",EDIT_OPTION:"EDIT_OPTION",CANCEL_EDIT:"CANCEL_EDIT",SAVING_OPTION:"SAVING_OPTION",OPTION_SAVE_SUCCESS:"OPTION_SAVE_SUCCESS",OPTION_SAVE_FAILURE:"OPTION_SAVE_FAILURE",DELETING_OPTION:"DELETING_OPTION",OPTION_DELETE_SUCCESS:"OPTION_DELETE_SUCCESS",OPTION_DELETE_FAILURE:"OPTION_DELETE_FAILURE",ADDING_OPTION:"ADDING_OPTION",OPTION_ADD_SUCCESS:"OPTION_ADD_SUCCESS",OPTION_ADD_FAILURE:"OPTION_ADD_FAILURE"}},function(e,t,n){"use strict";function a(e,t){var n=t.sectionName,a=t.optionName,o=t.value,r=s({},e.sections);return r[n]||(r[n]={}),r[n][a]=o||!0,r}function o(e,t){var n=t.sectionName,a=t.optionName,o=s({},e.sections);return o[n]&&(o[n]=s({},o[n]),delete o[n][a],0==Object.keys(o[n]).length&&delete o[n]),o}function r(e){return Object.keys(e.sections).map(function(t){return{sectionName:t,options:i(e,t)}}).sort(function(e,t){return e.sectionName<t.sectionName?-1:e.sectionName>t.sectionName?1:0}).map(function(e){return e.options}).reduce(function(e,t){return e.concat(t)},[])}function i(e,t){var n=e.sections[t],a=Object.keys(n).map(function(a){return{editing:l(e,t,a),sectionName:t,optionName:a,value:n[a]}}),o=a.sort(function(e,t){return e.optionName<t.optionName?-1:e.optionName>t.optionName?1:0});return o.length>0&&(o[0].header=!0),o}function l(e,t,n){return t===e.editSectionName&&n===e.editOptionName}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments[1],n=t.options;switch(t.type){case d.default.EDIT_CONFIG:return s({},e,{sections:n.sections,loading:!1,editOptionName:null,editSectionName:null});case d.default.EDIT_OPTION:return s({},e,{editSectionName:n.sectionName,editOptionName:n.optionName});case d.default.LOADING_CONFIG:return s({},e,{loading:!0});case d.default.CANCEL_EDIT:return s({},e,{editOptionName:null,editSectionName:null});case d.default.SAVING_OPTION:return s({},e,{saving:!0});case d.default.OPTION_SAVE_SUCCESS:return s({},e,{editOptionName:null,editSectionName:null,sections:a(e,n),saving:!1});case d.default.OPTION_SAVE_FAILURE:return s({},e,{saving:!1});case d.default.OPTION_ADD_SUCCESS:return s({},e,{sections:a(e,n),saving:!1});case d.default.OPTION_ADD_FAILURE:return s({},e,{saving:!1});case d.default.OPTION_DELETE_SUCCESS:return s({},e,{sections:o(e,n)});default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.options=r,t.default=u;var c=n(450),d=function(e){return e&&e.__esModule?e:{default:e}}(c),f={sections:{},loading:!0,editSectionName:null,editOptionName:null,saving:!1}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),c=a(s),d=n(11),f=a(d),p=n(13),h=a(p),m=n(78),g=a(m),b=n(453),y=a(b),E=n(454),v=a(E),O=n(456),D=a(O),N=h.default.LoadLines,T=g.default.ConfirmationModal,S=function(e){function t(e){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return l(t,e),u(t,[{key:"componentDidMount",value:function(){this.props.fetchAndLoadCORSOptions()}},{key:"enableCorsChange",value:function(){var e=this.props,t=e.corsEnabled,n=e.origins,a=e.node;(!t||_.isEmpty(n)||window.confirm(f.default.i18n.en_US["cors-disable-cors-prompt"]))&&this.props.saveCORS({corsEnabled:!t,origins:n,node:a})}},{key:"save",value:function(){this.props.saveCORS({corsEnabled:this.props.corsEnabled,origins:this.props.origins,node:this.props.node})}},{key:"originChange",value:function(e){(!e||_.isEmpty(this.props.origins)||window.confirm("Are you sure? Switching to all origin domains will overwrite your specific origin domains."))&&this.props.saveCORS({corsEnabled:this.props.corsEnabled,origins:e?["*"]:[],node:this.props.node})}},{key:"addOrigin",value:function(e){this.props.saveCORS({corsEnabled:this.props.corsEnabled,origins:this.props.origins.concat(e),node:this.props.node})}},{key:"updateOrigin",value:function(e,t){var n=this.props.origins.slice(),a=_.indexOf(n,t);-1!==a&&(n[a]=e,this.props.saveCORS({corsEnabled:this.props.corsEnabled,origins:n,node:this.props.node}))}},{key:"deleteOrigin",value:function(){var e=this.props,t=e.corsEnabled,n=e.origins,a=e.node,r=e.domainToDelete,i=this.props.origins.indexOf(r);if(-1!==i){var l=[].concat(o(n.slice(0,i)),o(n.slice(i+1)));this.props.saveCORS({corsEnabled:t,origins:l,node:a})}}},{key:"render",value:function(){var e=[this.props.corsEnabled,!this.props.isAllOrigins].every(function(e){return!0===e}),t=c.default.createElement("div",{id:this.props.corsEnabled?"collapsing-container":""},c.default.createElement(y.default,{corsEnabled:this.props.corsEnabled,originChange:this.originChange.bind(this),isAllOrigins:this.props.isAllOrigins}),c.default.createElement(D.default,{updateOrigin:this.updateOrigin.bind(this),deleteOrigin:this.props.showDeleteDomainConfirmation,isVisible:e,origins:this.props.origins}),c.default.createElement(v.default,{addOrigin:this.addOrigin.bind(this),isVisible:e}));this.props.isLoading&&(t=c.default.createElement(N,null));var n=c.default.createElement("span",null,"Are you sure you want to delete ",c.default.createElement("code",null,_.escape(this.props.domainToDelete)),"?");return c.default.createElement("div",{className:"cors-page flex-body"},c.default.createElement("header",{id:"cors-header"},c.default.createElement("p",null,f.default.i18n.en_US["cors-notice"])),c.default.createElement("form",{id:"corsForm",onSubmit:this.save.bind(this)},c.default.createElement("div",{className:"cors-enable"},this.props.corsEnabled?"CORS is currently enabled.":"CORS is currently disabled.",c.default.createElement("br",null),c.default.createElement("button",{type:"button",className:"enable-disable btn btn-secondary",onClick:this.enableCorsChange.bind(this),disabled:this.props.isLoading?"disabled":null},this.props.corsEnabled?"Disable CORS":"Enable CORS")),t),c.default.createElement(T,{title:"Confirm Deletion",visible:this.props.deleteDomainModalVisible,text:n,buttonClass:"btn-danger",onClose:this.props.hideDeleteDomainConfirmation,onSubmit:this.deleteOrigin.bind(this),successButtonLabel:"Delete Domain"}))}}]),t}(s.Component);t.default=S},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),s=a(u),c=n(0),d=a(c),f=function(e){function t(e){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"onOriginChange",value:function(e){"all"===e.target.value&&this.props.isAllOrigins||("selected"!==e.target.value||this.props.isAllOrigins)&&this.props.originChange("all"===e.target.value)}},{key:"render",value:function(){return this.props.corsEnabled?d.default.createElement("div",null,d.default.createElement("p",null,d.default.createElement("strong",null," Origin Domains ")," "),d.default.createElement("p",null,"Databases will accept requests from these domains: "),d.default.createElement("label",{className:"radio"},d.default.createElement("input",{type:"radio",checked:this.props.isAllOrigins,value:"all",onChange:this.onOriginChange.bind(this),name:"all-domains"})," All domains ( * )"),d.default.createElement("label",{className:"radio"},d.default.createElement("input",{type:"radio",checked:!this.props.isAllOrigins,value:"selected",onChange:this.onOriginChange.bind(this),name:"selected-domains"})," Restrict to specific domains")):null}}]),t}(c.Component);t.default=f,f.propTypes={corsEnabled:s.default.bool,isAllOrigins:s.default.bool,originChange:s.default.func.isRequired}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),s=a(u),c=n(0),d=a(c),f=n(455),p=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={origin:""},n}return i(t,e),l(t,[{key:"onInputChange",value:function(e){this.setState({origin:e.target.value})}},{key:"addOrigin",value:function(e){if(e.preventDefault(),!(0,f.validateDomain)(this.state.origin))return!1;var t=(0,f.normalizeUrls)(this.state.origin);this.props.addOrigin(t),this.setState({origin:""})}},{key:"onKeyUp",value:function(e){if(13==e.keyCode)return this.addOrigin(e)}},{key:"render",value:function(){return this.props.isVisible?d.default.createElement("div",{id:"origin-domains-container"},d.default.createElement("div",{className:"origin-domains"},d.default.createElement("div",{className:"input-append"},d.default.createElement("input",{type:"text",name:"new_origin_domain",placeholder:"https://example.com",onChange:this.onInputChange.bind(this),value:this.state.origin}),d.default.createElement("button",{onClick:this.addOrigin.bind(this),className:"btn btn-secondary add-domain"},d.default.createElement("i",{className:"icon fonticon-ok-circled"})," Add Domain")))):null}}]),t}(c.Component);t.default=p,p.propTypes={isVisible:s.default.bool.isRequired,addOrigin:s.default.func.isRequired}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.normalizeUrls=t.validateCORSDomain=t.validateDomain=void 0;var a=n(2),o=function(e){return e&&e.__esModule?e:{default:e}}(a),r=(t.validateDomain=function(e){return!!r(e)||(o.default.addNotification({msg:"Please enter a valid domain, starting with http/https.",type:"error",clear:!0}),!1)},t.validateCORSDomain=function(e){return/^https?:\/\/(.+)(:\d{2,5})?$/.test(e)});t.normalizeUrls=function(e){var t=document.createElement("a");return t.href=e,/:/.test(e)?t.protocol+"//"+t.host:t.protocol+"//"+t.hostname}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),s=a(u),c=n(0),d=a(c),f=n(457),p=a(f),h=function(e){function t(e){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"createRows",value:function(){var e=this;return this.props.origins.map(function(t,n){return d.default.createElement(p.default,{updateOrigin:e.props.updateOrigin,deleteOrigin:e.props.deleteOrigin,key:n,origin:t})})}},{key:"render",value:function(){var e=this.props,t=e.origins,n=e.isVisible;if(!t)return null;if(!n||0===t.length)return null;var a=this.createRows();return d.default.createElement("table",{id:"origin-domain-table",className:"table table-striped"},d.default.createElement("tbody",null,a))}}]),t}(c.Component);t.default=h,h.propTypes={isVisible:s.default.bool.isRequired,origins:s.default.arrayOf(s.default.string),updateOrigin:s.default.func.isRequired,deleteOrigin:s.default.func.isRequired}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),s=a(u),c=n(0),d=a(c),f=n(455),p=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={edit:!1,updatedOrigin:n.props.origin},n}return i(t,e),l(t,[{key:"editOrigin",value:function(e){e.preventDefault(),this.setState({edit:!this.state.edit})}},{key:"updateOrigin",value:function(e){e.preventDefault(),(0,f.validateDomain)(this.state.updatedOrigin)&&(this.state.updatedOrigin&&this.props.origin!==this.state.updatedOrigin&&this.props.updateOrigin(this.state.updatedOrigin,this.props.origin),this.setState({edit:!1}))}},{key:"deleteOrigin",value:function(e){e.preventDefault(),this.props.deleteOrigin(this.props.origin)}},{key:"onInputChange",value:function(e){this.setState({updatedOrigin:e.target.value})}},{key:"onKeyUp",value:function(e){if(13===e.keyCode)return this.updateOrigin(e)}},{key:"createOriginDisplay",value:function(){return this.state.edit?d.default.createElement("div",{className:"input-append edit-domain-section"},d.default.createElement("input",{type:"text",name:"update_origin_domain",onChange:this.onInputChange.bind(this),onKeyUp:this.onKeyUp.bind(this),value:this.state.updatedOrigin}),d.default.createElement("button",{onClick:this.updateOrigin.bind(this),className:"btn btn-primary update-origin"}," Update ")):d.default.createElement("div",{className:"js-url url-display"},this.props.origin)}},{key:"render",value:function(){var e=this.createOriginDisplay();return d.default.createElement("tr",null,d.default.createElement("td",null,e),d.default.createElement("td",{width:"30"},d.default.createElement("span",null,d.default.createElement("a",{className:"fonticon-pencil",onClick:this.editOrigin.bind(this),title:"Edit domain."}))),d.default.createElement("td",{width:"30"},d.default.createElement("span",null,d.default.createElement("a",{href:"#","data-bypass":"true",className:"fonticon-trash",onClick:this.deleteOrigin.bind(this),title:"Delete domain."}))))}}]),t}(c.Component);t.default=p,p.propTypes={origin:s.default.string.isRequired,updateOrigin:s.default.func.isRequired,deleteOrigin:s.default.func.isRequired}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={EDIT_CORS:"EDIT_CORS",CORS_SET_IS_LOADING:"CORS_SET_IS_LOADING",CORS_SHOW_DELETE_DOMAIN_MODAL:"CORS_SHOW_DELETE_DOMAIN_MODAL",CORS_HIDE_DELETE_DOMAIN_MODAL:"CORS_HIDE_DELETE_DOMAIN_MODAL"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ReplicationTable=t.formatUrl=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),s=a(u),c=n(0),d=a(c),f=n(20),p=n(179),h=a(p),m=n(165),_=n(260),g=n(19),b=a(g),y=function(e,t){try{var n=new URL(t),a=e.pathname.substring(n.pathname.length);return encodeURIComponent(a)}catch(e){return""}},E=t.formatUrl=function(e){var t=void 0,n=void 0;try{t=new URL((0,_.removeCredentialsFromUrl)(e))}catch(e){return""}var a=b.default.getRootUrl();return n=y(t,a),e.indexOf(window.location.hostname)>-1?d.default.createElement("span",null,a,d.default.createElement("a",{href:"#/database/"+n+"/_all_docs"},decodeURIComponent(n))):""+t.origin+t.pathname},v=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={modalVisible:!1},n}return i(t,e),l(t,[{key:"showModal",value:function(){this.setState({modalVisible:!0})}},{key:"closeModal",value:function(){this.setState({modalVisible:!1})}},{key:"getErrorIcon",value:function(){var e=this.props.status;return"error"!==e&&"retrying"!==e?null:d.default.createElement("span",null,d.default.createElement("a",{"data-bypass":"true",className:"replication__row-btn replication__row-btn--warning icon-exclamation-sign",onClick:this.showModal.bind(this),title:"View error message"}),d.default.createElement(m.ErrorModal,{onClick:this.closeModal.bind(this),onClose:this.closeModal.bind(this),errorMsg:this.props.errorMsg,visible:this.state.modalVisible,status:e}))}},{key:"render",value:function(){var e=this.props,t=e.statusTime,n=e.status,a=(0,h.default)(t),o=d.default.createElement("span",null,n);if(a.isValid()){var r=a.format("MMM Do, h:mm a"),i=d.default.createElement(f.Tooltip,{id:""},"Last updated: ",r);o=d.default.createElement(f.OverlayTrigger,{placement:"top",overlay:i},d.default.createElement("span",null,n))}return d.default.createElement("td",{className:"replication__row-status replication__row-status--"+n},o,this.getErrorIcon())}}]),t}(d.default.Component);v.propTypes={statusTime:s.default.any,status:s.default.string,errorMsg:s.default.string.isRequired},v.defaultProps={status:""};var O=function(e){var t=e.onlyDeleteAction,n=e._id,a=e.url,o=e.deleteDocs,r=[];return t||(r.push(d.default.createElement("li",{className:"replication__row-list",key:1},d.default.createElement("a",{href:"#replication/id/"+encodeURIComponent(n),className:"replication__row-btn icon-wrench replication__row-btn--no-left-pad",title:"Edit replication","data-bypass":"true"}))),r.push(d.default.createElement("li",{className:"replication__row-list",key:2},d.default.createElement("a",{className:"replication__row-btn fonticon-document",title:"Edit replication document",href:a,"data-bypass":"true"})))),r.push(d.default.createElement("li",{className:"replication__row-list",key:3},d.default.createElement("a",{className:"replication__row-btn icon-trash "+(t?"replication__row-btn--no-left-pad":"")+" ",title:"Delete "+(t?"job":"document")+" "+n,onClick:function(){return o(n)}}))),d.default.createElement("ul",{className:"replication__row-actions-list"},r)};O.propTypes={_id:s.default.string.isRequired,url:s.default.string,error:s.default.bool.isRequired,errorMsg:s.default.string.isRequired,deleteDocs:s.default.func.isRequired};var D=function(e){var t=e._id,n=e.source,a=e.target,o=e.type,r=e.startTime,i=e.status,l=e.statusTime,u=e.url,s=e.selected,c=e.selectDoc,f=e.errorMsg,p=e.deleteDocs,m=e.onlyDeleteAction,_=e.showStateRow,g=(0,h.default)(r),b=g.isValid()?g.format("MMM Do, h:mm a"):"",y=null;return _&&(y=d.default.createElement(v,{statusTime:l,status:i,errorMsg:f})),d.default.createElement("tr",{className:"replication__table-row"},d.default.createElement("td",{className:"replication__table-col"},d.default.createElement("input",{checked:s,type:"checkbox",onChange:function(){return c(t)}})," "),d.default.createElement("td",{className:"replication__table-col"},E(n)),d.default.createElement("td",{className:"replication__table-col"},E(a)),d.default.createElement("td",{className:"replication__table-col"},b),d.default.createElement("td",{className:"replication__table-col"},o),y,d.default.createElement("td",{className:"replication__table-col"},d.default.createElement(O,{onlyDeleteAction:m,deleteDocs:p,_id:t,url:u,error:"error"===i||"retrying"===i,errorMsg:f})))};D.propTypes={_id:s.default.string.isRequired,source:s.default.string.isRequired,target:s.default.string.isRequired,type:s.default.string.isRequired,status:s.default.string,url:s.default.string,statusTime:s.default.object.isRequired,startTime:s.default.object,selected:s.default.bool.isRequired,selectDoc:s.default.func.isRequired,errorMsg:s.default.string.isRequired,deleteDocs:s.default.func.isRequired,onlyDeleteAction:s.default.bool.isRequired,showStateRow:s.default.bool.isRequired};var N=function(e){var t=e.isSelected,n=e.deleteDocs,a=e.someDocsSelected,o=e.onCheck,r=a?d.default.createElement("button",{onClick:function(){return n()},className:"bulk-select-trash fonticon fonticon-trash",title:"Delete all selected"}):null;return d.default.createElement("div",{className:"replication__bulk-select-wrapper"},d.default.createElement("div",{className:"replication__bulk-select-header"},d.default.createElement("input",{className:"replication__bulk-select-input",checked:t,type:"checkbox",onChange:o})),r)};N.propTypes={isSelected:s.default.bool.isRequired,someDocsSelected:s.default.bool.isRequired,onCheck:s.default.func.isRequired,deleteDocs:s.default.func.isRequired};var T=function(e){var t=e.msg;return d.default.createElement("tr",null,d.default.createElement("td",{colSpan:"7",className:"replication__empty-row"},t))};T.defaultProps={msg:"There is no replicator-db activity or history to display."},(t.ReplicationTable=function(e){function t(e){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"sort",value:function(e,t,n){var a=!1,o=n.sort(function(t,n){return t[e]<n[e]?(a=!0,-1):t[e]>n[e]?(a=!0,1):0});return!t&&a&&o.reverse(),o}},{key:"renderRows",value:function(){var e=this;return 0===this.props.docs.length?d.default.createElement(T,null):this.sort(this.props.column,this.props.descending,this.props.docs).map(function(t,n){return d.default.createElement(D,{key:n,_id:t._id,selected:t.selected,selectDoc:e.props.selectDoc,source:t.source,target:t.target,type:!0===t.continuous?"Continuous":"One time",status:t.status,statusTime:t.statusTime,startTime:t.startTime,url:t.url,deleteDocs:e.props.deleteDocs,errorMsg:t.errorMsg,doc:t,onlyDeleteAction:e.props.onlyDeleteAction,showStateRow:e.props.showStateRow})})}},{key:"iconDirection",value:function(e){return e!==this.props.column||this.props.descending?"fonticon-down-dir":"fonticon-up-dir"}},{key:"onSort",value:function(e){var t=this;return function(){t.props.changeSort({descending:e!==t.props.column||!t.props.descending,column:e})}}},{key:"isSelected",value:function(e){return e===this.props.column?"replication__table--selected":""}},{key:"stateCol",value:function(){return this.props.showStateRow?d.default.createElement("th",{className:"replication__table-header-status",onClick:this.onSort("status")},"State",d.default.createElement("span",{className:"replication__table-header-icon "+this.iconDirection("status")+" "+this.isSelected("status")})):null}},{key:"render",value:function(){return d.default.createElement(f.Table,{striped:!0},d.default.createElement("thead",null,d.default.createElement("tr",null,d.default.createElement("th",{className:"replication__table-bulk-select"},d.default.createElement(N,{isSelected:this.props.allDocsSelected,onCheck:this.props.selectAllDocs,someDocsSelected:this.props.someDocsSelected,deleteDocs:this.props.deleteDocs})),d.default.createElement("th",{className:"replication__table-header-source",onClick:this.onSort("source")},"Source",d.default.createElement("span",{className:"replication__table-header-icon "+this.iconDirection("source")+" "+this.isSelected("source")})),d.default.createElement("th",{className:"replication__table-header-target",onClick:this.onSort("target")},"Target",d.default.createElement("span",{className:"replication__table-header-icon "+this.iconDirection("target")+" "+this.isSelected("target")})),d.default.createElement("th",{className:"replication__table-header-time",onClick:this.onSort("statusTime")},"Start Time",d.default.createElement("span",{className:"replication__table-header-icon "+this.iconDirection("statusTime")+" "+this.isSelected("statusTime")})),d.default.createElement("th",{className:"replication__table-header-type",onClick:this.onSort("continuous")},"Type",d.default.createElement("span",{className:"replication__table-header-icon "+this.iconDirection("continuous")+" "+this.isSelected("continuous")})),this.stateCol(),d.default.createElement("th",{className:"replication__table-header-actions"},"Actions"))),d.default.createElement("tbody",null,this.renderRows()))}}]),t}(d.default.Component)).defaultProps={onlyDeleteAction:!1,showStateRow:!0}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ReplicationHeader=t.ReplicationFilter=void 0;var o=n(1),r=a(o),i=n(0),l=a(i),u=t.ReplicationFilter=function(e){var t=e.value,n=e.onChange;return l.default.createElement("div",{className:"replication__filter"},l.default.createElement("i",{className:"replication__filter-icon fonticon-filter"}),l.default.createElement("input",{type:"text",placeholder:"Filter replications",className:"replication__filter-input",value:t,onChange:function(e){n(e.target.value)}}))};u.propTypes={value:r.default.string.isRequired,onChange:r.default.func.isRequired},(t.ReplicationHeader=function(e){var t=e.filter,n=e.onFilterChange;return l.default.createElement("div",{className:"replication__activity_header"},l.default.createElement("div",null),l.default.createElement(u,{value:t,onChange:n}),l.default.createElement("a",{href:"#/replication/_create",className:"btn save replication__activity_header-btn btn-primary"},l.default.createElement("i",{className:"icon fonticon-plus-circled"}),"New Replication"))}).propTypes={filter:r.default.string.isRequired,onFilterChange:r.default.func.isRequired}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={INIT_REPLICATION:"INIT_REPLICATION",CHANGE_REPLICATION_SOURCE:"CHANGE_REPLICATION_SOURCE",REPLICATION_DATABASES_LOADED:"REPLICATION_DATABASES_LOADED",REPLICATION_UPDATE_FORM_FIELD:"REPLICATION_UPDATE_FORM_FIELD",REPLICATION_CLEAR_FORM:"REPLICATION_CLEAR_FORM",REPLICATION_STARTING:"REPLICATION_STARTING",REPLICATION_STATUS:"REPLICATION_STATUS",REPLICATION_FETCHING_STATUS:"REPLICATION_FETCHING_STATUS",REPLICATION_FILTER_DOCS:"REPLICATION_FILTER_DOCS",REPLICATION_TOGGLE_ALL_DOCS:"REPLICATION_TOGGLE_ALL_DOCS",REPLICATION_TOGGLE_DOC:"REPLICATION_TOGGLE_DOC",REPLICATION_DELETE_DOCS:"REPLICATION_DELETE_DOCS",REPLICATION_SET_STATE_FROM_DOC:"REPLICATION_SET_STATE_FROM_DOC",REPLICATION_SHOW_CONFLICT_MODAL:"REPLICATION_SHOW_CONFLICT_MODAL",REPLICATION_HIDE_CONFLICT_MODAL:"REPLICATION_HIDE_CONFLICT_MODAL",REPLICATION_CHANGE_ACTIVITY_SORT:"REPLICATION_CHANGE_ACTIVITY_SORT",REPLICATION_CLEAR_SELECTED_DOCS:"REPLICATION_CLEAR_SELECTED_DOCS",REPLICATION_CHANGE_TAB_SECTION:"REPLICATION_CHANGE_TAB_SECTION",REPLICATION_FETCHING_REPLICATE_STATUS:"REPLICATION_FETCHING_REPLICATE_STATUS",REPLICATION_REPLICATE_STATUS:"REPLICATION_REPLICATE_STATUS",REPLICATION_SUPPORT_NEW_API:"REPLICATION_SUPPORT_NEW_API",REPLICATION_FILTER_REPLICATE:"REPLICATION_FILTER_REPLICATE",REPLICATION_TOGGLE_ALL_REPLICATE:"REPLICATION_TOGGLE_ALL_REPLICATE",REPLICATION_TOGGLE_REPLICATE:"REPLICATION_TOGGLE_REPLICATE",REPLICATION_CLEAR_SELECTED_REPLICATES:"REPLICATION_CLEAR_SELECTED_REPLICATES",REPLICATION_FETCHING_FORM_STATE:"REPLICATION_FETCHING_FORM_STATE",REPLICATION_HIDE_PASSWORD_MODAL:"REPLICATION_HIDE_PASSWORD_MODAL",REPLICATION_SHOW_PASSWORD_MODAL:"REPLICATION_SHOW_PASSWORD_MODAL"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getReplicateInfo=t.someReplicateSelected=t.getAllReplicateSelected=t.isReplicateInfoLoading=t.supportNewApi=t.getCheckingApi=t.getTabSection=t.getActivitySort=t.getPassword=t.getUsername=t.getSomeDocsSelected=t.getAllDocsSelected=t.getReplicateFilter=t.getStatusFilter=t.getFilteredReplicationStatus=t.getSubmittedNoChange=t.getReplicationDocName=t.getReplicationType=t.isConflictModalVisible=t.getRemoteTarget=t.isLocalTargetKnown=t.getLocalTarget=t.getReplicationTarget=t.getRemoteSource=t.isLocalSourceKnown=t.getLocalSource=t.getReplicationSource=t.getDatabases=t.isActivityLoading=t.isLoading=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=n(2),i=a(r),l=n(461),u=a(l),s=n(63),c=a(s),d=n(11),f=a(d),p=function(e){f.default.utils.localStorageSet("replication-activity-sort",e)},h=function(){var e={descending:!1,column:"statusTime"},t=f.default.utils.localStorageGet("replication-activity-sort");return t||(t=e),p(t),t},m={remoteSource:"remoteSource",remoteTarget:"remoteTarget",localTarget:"localTarget",replicationType:"replicationType",replicationDocName:"replicationDocName",replicationSource:"replicationSource",replicationTarget:"replicationTarget",localSource:"localSource",sourceAuthType:"sourceAuthType",sourceAuth:"sourceAuth",targetAuthType:"targetAuthType",targetAuth:"targetAuth"},g={loading:!1,databases:[],replicationSource:"",localSource:"",remoteSource:"",sourceAuthType:c.default.REPLICATION_AUTH_METHOD.NO_AUTH,sourceAuth:{},replicationTarget:"",localTarget:"",remoteTarget:"",targetAuthType:c.default.REPLICATION_AUTH_METHOD.NO_AUTH,targetAuth:{},isConflictModalVisible:!1,replicationType:c.default.REPLICATION_TYPE.ONE_TIME,replicationDocName:"",submittedNoChange:!1,statusDocs:[],statusFilteredStatusDocs:[],statusFilter:"",replicateFilter:"",allDocsSelected:!1,allReplicateSelected:!1,username:"",password:"",activityLoading:!1,tabSection:"new replication",supportNewApi:!1,fetchingReplicateInfo:!1,replicateInfo:[],checkingAPI:!0,activitySort:h()},b=function(e){var t=o({},e);return Object.values(m).forEach(function(e){t[e]="sourceAuth"===e||"targetAuth"===e?{}:""}),t.sourceAuthType=c.default.REPLICATION_AUTH_METHOD.NO_AUTH,t.targetAuthType=c.default.REPLICATION_AUTH_METHOD.NO_AUTH,t},y=function(e,t,n){var a=o({},e,{submittedNoChange:!1});if(a[m[t]]=n,t===m.sourceAuthType||t===m.replicationSource){var r=a[m.sourceAuthType]===c.default.REPLICATION_AUTH_METHOD.BASIC,l=a[m.replicationSource]===c.default.REPLICATION_SOURCE.LOCAL,u=!a[m.sourceAuth]||!a[m.sourceAuth].username;r&&l&&u&&(a[m.sourceAuth]={username:i.default.session.user().name,password:""})}else if(t===m.targetAuthType||t===m.replicationTarget){var s=a[m.targetAuthType]===c.default.REPLICATION_AUTH_METHOD.BASIC,d=a[m.replicationTarget]===c.default.REPLICATION_TARGET.EXISTING_LOCAL_DATABASE||a[m.replicationTarget]===c.default.REPLICATION_TARGET.NEW_LOCAL_DATABASE,f=!a[m.targetAuth]||!a[m.targetAuth].username;s&&d&&f&&(a[m.targetAuth]={username:i.default.session.user().name,password:""})}return a},E=function(e,t){var n=e.statusDocs.find(function(e){return e._id===t});return n?(n.selected=!n.selected,o({},e,{allDocsSelected:!1})):e},v=function(e){var t=o({},e,{allDocsSelected:!e.allDocsSelected});return S(t).forEach(function(e){return e.selected=t.allDocsSelected}),t},O=function(e,t){var n=o({},e),a=n._replicateInfo.find(function(e){return e._id===t});if(!a)return n;a.selected=!a.selected,n._allReplicateSelected=!1},D=function(e){var t=o({},e,{allReplicateSelected:!e.allReplicateSelected});return w(t).forEach(function(e){return e.selected=t.allReplicateSelected}),t},N=function(e,t){var n=o({},e,{loading:!1});return Object.keys(t).reduce(function(e,n){return y(e,n,t[n])},n)},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments[1],n=t.type,a=t.options;switch(n){case u.default.INIT_REPLICATION:var r=o({},e,{loading:!0});return a.localSource&&(r.localSource=a.localSource,r.replicationSource=c.default.REPLICATION_SOURCE.LOCAL,r.remoteSource="",r.replicationTarget="",r.localTarget="",r.remoteTarget=""),r;case u.default.REPLICATION_DATABASES_LOADED:return o({},e,{loading:!1,databases:a.databases});case u.default.REPLICATION_FETCHING_FORM_STATE:return o({},e,{loading:!0});case u.default.REPLICATION_UPDATE_FORM_FIELD:return y(e,a.fieldName,a.value);case u.default.REPLICATION_CLEAR_FORM:return b(e);case u.default.REPLICATION_STARTING:return o({},e,{submittedNoChange:!0});case u.default.REPLICATION_FETCHING_STATUS:return o({},e,{activityLoading:!0});case u.default.REPLICATION_STATUS:return o({},e,{activityLoading:!1,statusDocs:a});case u.default.REPLICATION_FILTER_DOCS:return o({},e,{statusFilter:a});case u.default.REPLICATION_FILTER_REPLICATE:return o({},e,{replicateFilter:a});case u.default.REPLICATION_TOGGLE_DOC:return E(e,a);case u.default.REPLICATION_TOGGLE_ALL_DOCS:return v(e);case u.default.REPLICATION_TOGGLE_REPLICATE:return O(e,a);case u.default.REPLICATION_TOGGLE_ALL_REPLICATE:return D(e);case u.default.REPLICATION_SET_STATE_FROM_DOC:return N(e,a);case u.default.REPLICATION_SHOW_CONFLICT_MODAL:return o({},e,{isConflictModalVisible:!0});case u.default.REPLICATION_HIDE_CONFLICT_MODAL:return o({},e,{isConflictModalVisible:!1});case u.default.REPLICATION_CHANGE_ACTIVITY_SORT:return p(a),o({},e,{activitySort:h()});case u.default.REPLICATION_CLEAR_SELECTED_DOCS:return o({},e,{allDocsSelected:!1});case u.default.REPLICATION_CHANGE_TAB_SECTION:return o({},e,{tabSection:a});case u.default.REPLICATION_SUPPORT_NEW_API:return o({},e,{checkingApi:!1,supportNewApi:a});case u.default.REPLICATION_FETCHING_REPLICATE_STATUS:return o({},e,{fetchingReplicateInfo:!0});case u.default.REPLICATION_REPLICATE_STATUS:return o({},e,{fetchingReplicateInfo:!1,replicateInfo:a});case u.default.REPLICATION_CLEAR_SELECTED_REPLICATES:return o({},e,{allReplicateSelected:!1});default:return e}},S=(t.isLoading=function(e){return e.isLoading},t.isActivityLoading=function(e){return e.activityLoading},t.getDatabases=function(e){return e.databases},t.getReplicationSource=function(e){return e.replicationSource},t.getLocalSource=function(e){return e.localSource},t.isLocalSourceKnown=function(e){return-1!==_.indexOf(e.databases,e.localSource)},t.getRemoteSource=function(e){return e.remoteSource},t.getReplicationTarget=function(e){return e.replicationTarget},t.getLocalTarget=function(e){return e.localTarget},t.isLocalTargetKnown=function(e){return-1!==_.indexOf(e.databases,e.localTarget)},t.getRemoteTarget=function(e){return e.remoteTarget},t.isConflictModalVisible=function(e){return e.isConflictModalVisible},t.getReplicationType=function(e){return e.replicationType},t.getReplicationDocName=function(e){return e.replicationDocName},t.getSubmittedNoChange=function(e){return e.submittedNoChange},t.getFilteredReplicationStatus=function(e){return e.statusDocs.filter(function(t){return Object.values(t).filter(function(t){return t?t.toString().toLowerCase().match(e.statusFilter):null}).length>0})}),w=(t.getStatusFilter=function(e){return e.statusFilter},t.getReplicateFilter=function(e){return e.replicateFilter},t.getAllDocsSelected=function(e){return e.allDocsSelected},t.getSomeDocsSelected=function(e){return S(e).some(function(e){return e.selected})},t.getUsername=function(e){return e.username},t.getPassword=function(e){return e.password},t.getActivitySort=function(e){return e.activitySort},t.getTabSection=function(e){return e.tabSection},t.getCheckingApi=function(e){return e.checkingAPI},t.supportNewApi=function(e){return e.supportNewApi},t.isReplicateInfoLoading=function(e){return e.fetchingReplicateInfo},t.getAllReplicateSelected=function(e){return e.allReplicateSelected},t.someReplicateSelected=function(e){return w(e).some(function(e){return e.selected})},t.getReplicateInfo=function(e){return e.replicateInfo.filter(function(t){return Object.values(t).filter(function(t){return!!t&&t.toString().toLowerCase().match(e._replicateFilter)}).length>0})});t.default=T},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updatePermissionUnsafe=t.deletePermission=t.updatePermission=t.deletePermissionFromObject=t.setPermissionOnObject=t.fetchPermissions=t.receivedPermissions=void 0;var a=n(2),o=function(e){return e&&e.__esModule?e:{default:e}}(a);n(289);var r=n(464),i=n(465),l=t.receivedPermissions=function(e){return{type:i.PERMISSIONS_UPDATE,permissions:e}},u=(t.fetchPermissions=function(e){return function(t){return fetch(e,{headers:{Accept:"application/json"},credentials:"include"}).then(function(e){return e.json()}).then(function(e){if(e.error&&e.reason)throw t(l({admins:{roles:["_admin"]},members:{roles:["_admin"]}})),new Error(e.reason);t(l(e))}).catch(function(e){o.default.addNotification({msg:"Failed to retrieve permissions. Please try again. Reason:"+e.message,type:"error"})})}},t.setPermissionOnObject=function(e,t,n,a){if((0,r.isValueAlreadySet)(e,t,n,a))throw new Error("Role/Name has already been added");return(0,r.addValueToPermissions)(e,t,n,a)}),s=t.deletePermissionFromObject=function(e,t,n,a){if(!(0,r.isValueAlreadySet)(e,t,n,a))throw new Error("Role/Name does not exist");return e[t][n]=e[t][n].filter(function(e){return e!==a}),e},c=(t.updatePermission=function(e,t,n,a,r){return function(i){u(t,n,a,r),c(e,t,i).catch(function(e){o.default.addNotification({msg:e.message,type:"error"})})}},t.deletePermission=function(e,t,n,a,r){return function(i){s(t,n,a,r),c(e,t,i).catch(function(e){o.default.addNotification({msg:e.message,type:"error"})})}},t.updatePermissionUnsafe=function(e,t,n){return fetch(e,{headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include",method:"PUT",body:JSON.stringify(t)}).then(function(e){return e.json()}).then(function(e){if(!e.ok)throw new Error(e.reason);return e}).then(function(){return o.default.addNotification({msg:"Database permissions has been updated."}),n(l(t))}).catch(function(e){o.default.addNotification({msg:"Could not update permissions - reason: "+e,type:"error"})})})},function(e,t,n){"use strict";function a(e,t,n,a){return!!e[t]&&!!e[t][n]&&-1!==e[t][n].indexOf(a)}function o(e,t,n,a){return e[t]||(e[t]={}),e[t][n]||(e[t][n]=[]),e[t][n].push(a),e}Object.defineProperty(t,"__esModule",{value:!0}),t.isValueAlreadySet=a,t.addValueToPermissions=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PERMISSIONS_UPDATE="PERMISSIONS_UPDATE"},function(e,t,n){"use strict";function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];switch(t.type){case l.PERMISSIONS_UPDATE:var n=t.permissions;return i({},e,{isLoading:!1,security:n,adminRoles:o("admins",n),adminNames:r("admins",n),memberRoles:o("members",n),memberNames:r("members",n)});default:return e}}function o(e,t){return t[e]&&t[e].roles?t[e].roles:[]}function r(e,t){return t[e]&&t[e].names?t[e].names:[]}Object.defineProperty(t,"__esModule",{value:!0}),t.getMemberRoles=t.getMemberNames=t.getAdminNames=t.getAdminRoles=t.getSecurity=t.getIsLoading=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=a;var l=n(465),u={isLoading:!0,security:{},adminRoles:[],adminNames:[],memberNames:[],memberRoles:[]};t.getIsLoading=function(e){return e.isLoading},t.getSecurity=function(e){return e.security},t.getAdminRoles=function(e){return e.adminRoles},t.getAdminNames=function(e){return e.adminNames},t.getMemberNames=function(e){return e.memberNames},t.getMemberRoles=function(e){return e.memberRoles}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.AdminLayout=t.AuthLayout=t.OnePaneHeader=void 0;var o=n(0),r=a(o),i=n(43),l=n(139),u=n(468),s=a(u),c=n(152),d=n(2),f=a(d),p=s.default.CreateAdminForm,h=s.default.ChangePasswordForm,m=t.OnePaneHeader=function(e){var t=e.crumbs;return r.default.createElement("header",null,r.default.createElement("div",{className:"flex-layout flex-row"},r.default.createElement("div",{id:"breadcrumbs",className:"flex-body"},r.default.createElement(l.Breadcrumbs,{crumbs:t}))))},_=t.AuthLayout=function(e){var t=e.crumbs,n=e.component;return r.default.createElement(i.OnePane,null,r.default.createElement(m,{crumbs:t}),r.default.createElement(i.OnePaneContent,null,n))},g=function(e){var t=e.changePassword;return r.default.createElement(c.TabElementWrapper,null,r.default.createElement(c.TabElement,{key:1,selected:t,text:"Change Password",onChange:function(){f.default.navigate("#changePassword")}}),r.default.createElement(c.TabElement,{key:2,selected:!t,text:"Create Server Admin",onChange:function(){f.default.navigate("#addAdmin")}}))};t.AdminLayout=function(e){var t=e.crumbs,n=e.changePassword,a=n?r.default.createElement(h,null):r.default.createElement(p,{loginAfter:!1});return r.default.createElement(i.OnePane,null,r.default.createElement(m,{crumbs:t}),r.default.createElement(i.OnePaneContent,null,r.default.createElement("div",{className:"template-content flex-body flex-layout flex-col"},r.default.createElement(g,{changePassword:n}),r.default.createElement("div",{id:"dashboard-conten1t",className:"flex-layout flex-col"},a))))},t.default=_},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1073),r=a(o),i=n(1075),l=a(i),u=n(1076),s=a(u),c=n(1077),d=a(c);t.default={LoginForm:r.default,PasswordModal:l.default,CreateAdminForm:s.default,ChangePasswordForm:d.default}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),r=a(o),i=n(19),l=a(i),u=n(21),s=n(136),c=a(s),d=n(81),f=a(d),p=r.default.addon(),h=new c.default.Model({id:"verifytestdb",name:"verifytestdb"}),m=new c.default.Model({id:"verifytestdb_replicate",name:"verifytestdb_replicate"}),g=void 0,b=void 0;p.testProcess={saveDoc:function(){return g=new f.default.Doc({_id:"test_doc_1",a:1},{database:h}),g.save()},destroyDoc:function(){return g.destroy()},updateDoc:function(){return g.set({b:"hello"}),g.save()},saveDB:function(){return h.save()},setupDB:function(e){return new r.default.Promise(function(t,n){e.fetch().then(function(){return e.destroy()},function(){t()}).then(function(){t()},function(e,t,a){n(new Error(a))})})},setup:function(){return r.default.Promise.all([this.setupDB(h),this.setupDB(m)])},testView:function(){var e=void 0,t=void 0,n=new r.default.Promise(function(n,a){e=n,t=a});return(0,u.get)(b.url()+"/_view/testview").then(function(e){if(e.error)throw new Error(e.reason||e.error);return e}).then(function(n){n=_.isString(n)?JSON.parse(n):n;var a=n.rows[0];6===a.value&&e(),t(new Error("Values expect 6, got "+a.value))},t),n},setupView:function(){var e=new f.default.Doc({_id:"test_doc_10",a:1},{database:h}),t=new f.default.Doc({_id:"test_doc_20",a:2},{database:h}),n=new f.default.Doc({_id:"test_doc_30",a:3},{database:h});return b=new f.default.Doc({_id:"_design/view_check",views:{testview:{map:"function (doc) { emit(doc._id, doc.a); }",reduce:"_sum"}}},{database:h}),r.default.Promise.all([e.save(),t.save(),n.save(),b.save()])},setupReplicate:function(){var e={create_target:!0,source:"verifytestdb",target:"verifytestdb_replicate"};return(0,u.post)(l.default.getServerUrl("/_replicate"),e).then(function(e){if(e.error)throw new Error(e.reason||e.error);return e})},testReplicate:function(){return new r.default.Promise(function(e,t){m.fetch().then(function(){var n=m.get("doc_count");if(4===n)return void e();var a="Replication Failed, expected 4 docs got "+n;t(new Error(a))},t)})},removeDBs:function(){m.destroy(),h.destroy()}},t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={VERIFY_INSTALL_START:"VERIFY_INSTALL_START",VERIFY_INSTALL_RESET:"VERIFY_INSTALL_RESET",VERIFY_INSTALL_SINGLE_TEST_COMPLETE:"VERIFY_INSTALL_SINGLE_TEST_COMPLETE",VERIFY_INSTALL_ALL_TESTS_COMPLETE:"VERIFY_INSTALL_ALL_TESTS_COMPLETE"}},function(e,t,n){n(472),n(502),n(505),n(507),n(539),n(542),n(552),e.exports=n(553)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var o=n(11),r=a(o),i=n(0),l=a(i),u=n(10),s=a(u),c=n(2),d=a(c),f=n(597),p=a(f),h=n(69),m=a(h),_=n(102),g=a(_),b=n(1094),y=a(b),E=n(305),v=n(1112),O=a(v),D=n(14);d.default.addMiddleware(O.default);var N=(0,E.createStore)((0,E.combineReducers)(d.default.reducers),E.applyMiddleware.apply(void 0,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(d.default.middlewares)));d.default.reduxDispatch=function(e){N.dispatch(e)},d.default.reduxState=function(){return N.getState()},r.default.addons=p.default,d.default.router=r.default.router=new d.default.Router(r.default.addons),m.default.history.start({pushState:!1,root:r.default.root}),"ActiveXObject"in window&&g.default.ajaxSetup({cache:!1});var T=function e(t){return t?"A"===t.tagName?t:e(t.parentNode):null};document.addEventListener("click",function(e){var t=T(e.target);if(t&&!t.getAttribute("data-bypass")){var n={prop:t.href,attr:t.getAttribute("href")};if(n.prop){var a=location.protocol+"//"+location.host;n.prop&&n.prop.slice(0,a.length)===a&&(e.preventDefault(),r.default.router.navigate(n.attr,!0))}}}),s.default.render(l.default.createElement(D.Provider,{store:N},l.default.createElement(y.default,{router:r.default.router})),document.getElementById("app"))},,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(579),r=n(69),i=a(r),l=n(22),u=a(l),s={};t.default=i.default.Router.extend({routes:{},originalPageTitle:window.document.title,beforeUnload:function(e,t){s[e]=t},removeBeforeUnload:function(e){delete s[e]},navigate:function(e,t){var n=!0,a=u.default.find(u.default.map(s,function(e){return e()}),function(e){if(e)return!0});if(a&&(n=window.confirm(a)),t&&t.redirect)return window.location=e;n&&(i.default.Router.prototype.navigate(e,t),this.updateWindowTitle(e))},updateWindowTitle:function(e){e.startsWith("#/")?window.document.title=this.originalPageTitle+" - "+e.substring(2):e.startsWith("/")||e.startsWith("#")?window.document.title=this.originalPageTitle+" - "+e.substring(1):window.document.title=this.originalPageTitle+" - "+e},addModuleRouteObject:function(e){var t=this,n=this;e.prototype.getRouteUrls().forEach(function(a){t.route(a,a.toString(),function(){for(var r=arguments.length,i=Array(r),l=0;l<r;l++)i[l]=arguments[l];var u=e.prototype.getRouteRoles(a);(0,o.checkAccess)(u).then(function(){n.activeRouteObject&&n.activeRouteObject.hasRoute(a)||(n.activeRouteObject=new e(a,i));var o=n.activeRouteObject,r=o.routeCallback(a,i);n.currentRouteOptions={selectedHeader:t.activeRouteObject.selectedHeader,component:r,roles:u,route:a.toString()},n.trigger("new-component",t.currentRouteOptions)},function(){})})})},setModuleRoutes:function(e){var t=this;u.default.each(e,function(e){e&&(e.initialize(),e.RouteObjects&&u.default.each(e.RouteObjects,t.addModuleRouteObject.bind(t)))})},initialize:function(e){this.addons=e,this.setModuleRoutes(e),this.lastPages=[],i.default.history.on("route",function(){this.lastPages.push(i.default.history.fragment),this.lastPages.length>5&&this.lastPages.shift()},this)}})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.checkAccess=t.authenticationDenied=t.authenticate=void 0;var o=n(294),r=a(o),i=n(184),l=a(i),u=t.authenticate=function(e,t){if(e.isAdminParty())return!0;if(e.matchesRoles(t))return!0;throw new Error("Unable to authenticate")},s=t.authenticationDenied=function(){var e=window.location.hash.replace("#","").replace("login?urlback=","");e&&r.default.navigate("/login?urlback="+e,{replace:!0}),r.default.navigate("/login",{replace:!0})};t.checkAccess=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return new l.default(function(t,n){return r.default.session.getSession().then(function(){if(u(r.default.session,e))return void t();n()}).catch(function(e){n(e),s()})})}},,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(10),i=(a(r),n(69)),l=a(i),u=n(22),s=a(u),c=function(e){this._options=e,this.reactComponents={},this._configure(e||{}),this.initialize.apply(this,arguments)};c.extend=l.default.Model.extend;var d=["routes","roles"];s.default.extend(c.prototype,{routes:{},route:function(){},roles:[],initialize:function(){}},{get:function(e){return s.default.isFunction(this[e])?this[e]():this[e]},_configure:function(e){var t=this;s.default.each(s.default.intersection(s.default.keys(e),d),function(n){t[n]=e[n]})},getRouteUrls:function(){return s.default.keys(this.get("routes"))},hasRoute:function(e){return!!this.get("routes")[e]},routeCallback:function(e,t){var n,a=this.get("routes"),r=a[e];return n="object"===(void 0===r?"undefined":o(r))?this[r.route]:this[r],n.apply(this,t)},getRouteRoles:function(e){var t=this.get("routes")[e];return"object"===(void 0===t?"undefined":o(t))&&t.roles?t.roles:this.roles}}),t.default=c},,,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(69),r=a(o),i=n(22),l=a(i),u=function(){this.initialize.apply(this,arguments),l.default.bindAll(this)};u.extend=r.default.Model.extend,l.default.extend(u.prototype,r.default.Events,{triggerChange:function(){this.trigger("change")},initialize:function(){}}),t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unregister=t.dispatch=t.register=void 0;var a=n(22),o=[],r=0,i=t.register=function(e){if("function"!=typeof e)throw new Error("Store dispatch method must be a function");return r+=1,o.push(e),e.dispatchId=r,r},l=t.dispatch=function(e){o.forEach(function(t){t(e)})},u=t.unregister=function(e){var t=(0,a.findIndex)(o,function(t){return t.dispatchId===e});-1!==t&&o.splice(t,1)};t.default={register:i,dispatch:l,unregister:u}},function(e,t){},,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(598),r=a(o),i=n(602),l=a(i),u=n(80),s=a(u),c=n(895),d=a(c),f=n(995),p=a(f),h=n(1008),m=a(h),_=n(1022),g=a(_),b=n(1026),y=a(b),E=n(1043),v=a(E),O=n(1058),D=a(O),N=n(1061),T=a(N),S=n(1070),w=a(S),C=n(1081),R=a(C),I=n(1090),A=a(I);t.default=[r.default,l.default,s.default,d.default,p.default,m.default,g.default,y.default,v.default,D.default,T.default,w.default,R.default,A.default]},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(11),r=a(o),i=n(2),l=a(i),u=n(185),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),c=n(599),d=a(c),f=n(600),p=a(f);n(601);var h=l.default.addon();h.initialize=function(){var e=new h.VersionInfo;e.fetch().then(function(){s.setNavbarVersionInfo(e.get("version"))})},h.VersionInfo=Backbone.Model.extend({url:function(){return r.default.host}}),l.default.addReducers({navigation:d.default,notifications:p.default}),t.default=h},function(e,t,n){"use strict";function a(e,t){var n=s({},e);return t.top&&!t.bottomNav?(n.navLinks=[].concat(n.navLinks),n.navLinks.unshift(t),n):t.top&&t.bottomNav?(n.bottomNavLinks=[].concat(n.bottomNavLinks),n.bottomNavLinks.unshift(t),n):t.bottomNav?(n.bottomNavLinks=[].concat(n.bottomNavLinks),n.bottomNavLinks.push(t),n):t.footerNav?(n.footerNavLinks=[].concat(n.footerNavLinks),n.footerNavLinks.push(t),n):(n.navLinks=[].concat(n.navLinks),n.navLinks.push(t),n)}function o(e,t){var n=l(e,t),a=n.links,o=n.sectionName,r=a.filter(function(e){return e.id!==t.id});if(r.length===a.length)return e;var i=s({},e);return i[o]=r,i}function r(e,t){var n=l(e,t),a=n.links,o=n.sectionName,r=!1,i=a.map(function(e){return e.id===t.id?(r=!0,s({},e,{title:t.title,href:t.href})):e});if(!r)return e;var u=s({},e);return u[o]=i,u}function i(e,t,n){var a=l(e,t),o=a.links,r=a.sectionName,i=!1,u=o.map(function(e){return e.title===t.title?(i=!0,s({},e,{badge:n})):e});if(!i)return e;var c=s({},e);return c[r]=u,c}function l(e,t){var n=e.navLinks,a="navLinks";return t.bottomNav&&(n=e.bottomNavLinks,a="bottomNavLinks"),t.footerNav&&(n=e.footerNavLinks,a="footerNavLinks"),{links:n,sectionName:a}}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments[1];switch(t.type){case d.default.ADD_NAVBAR_LINK:return a(e,t.link);case d.default.TOGGLE_NAVBAR_MENU:return s({},e,{isMinimized:!e.isMinimized});case d.default.UPDATE_NAVBAR_LINK:return r(e,t.link);case d.default.REMOVE_NAVBAR_LINK:return o(e,t.link);case d.default.SHOW_NAVBAR_LINK_BADGE:return i(e,t.link,!0);case d.default.HIDE_NAVBAR_LINK_BADGE:return i(e,t.link,!1);case d.default.NAVBAR_SET_VERSION_INFO:return s({},e,{version:t.version});case d.default.NAVBAR_ACTIVE_LINK:return s({},e,{activeLink:t.name});case d.default.NAVBAR_HIDE:return s({},e,{navBarVisible:!1});case d.default.NAVBAR_SHOW:return s({},e,{navBarVisible:!0});case d.default.NAVBAR_SHOW_HIDE_LOGIN_LOGOUT_SECTION:return s({},e,{loginSectionVisible:t.visible});case d.default.NAVBAR_SHOW_LOGIN_BUTTON:return s({},e,{loginSectionVisible:!0,loginVisibleInsteadOfLogout:!0});case d.default.NAVBAR_SHOW_LOGOUT_BUTTON:return s({},e,{loginSectionVisible:!0,loginVisibleInsteadOfLogout:!1});default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=u;var c=n(299),d=function(e){return e&&e.__esModule?e:{default:e}}(c),f={isMinimized:!0,activeLink:null,version:null,navLinks:[],footerNavLinks:[],bottomNavLinks:[],navBarVisible:!0,loginSectionVisible:!1,loginVisibleInsteadOfLogout:!0}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=e.notifications,a=n.slice();return t=c({},t),t.notificationId=++b,t.cleanMsg=h.default.utils.stripHTML(t.msg),t.time=(0,f.default)(),!0!==t.escape&&!1!==t.escape&&(t.escape=!0),t.visible=!0,t.isHiding=!1,t.clear&&a.forEach(function(e){e.visible&&(e.isHiding=!0)}),a.unshift(t),a}function r(e,t){var n=e.notifications,a=n.findIndex(function(e){return e.notificationId===t});if(-1===a)return n;var o=[].concat(n);return o.splice(a,1),o}function i(e,t){var n=e.notifications,a=n.findIndex(function(e){return e.notificationId===t});if(-1===a)return n;var o=[].concat(n);return o[a].isHiding=!0,o}function l(e,t){var n=e.notifications,a=n.findIndex(function(e){return e.notificationId===t});if(-1===a)return n;var o=[].concat(n);return o[a].visible=!1,o[a].isHiding=!1,o}function u(e){var t=e.notifications,n=[].concat(t);return n.forEach(function(e){e.visible&&(e.isHiding=!0)}),n}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments[1],n=t.options;switch(t.type){case _.default.ADD_NOTIFICATION:return-1===y.indexOf(n.info.type)?e:c({},e,{notifications:o(e,n.info)});case _.default.CLEAR_ALL_NOTIFICATIONS:return c({},e,{notifications:[]});case _.default.CLEAR_SINGLE_NOTIFICATION:return c({},e,{notifications:r(e,n.notificationId)});case _.default.START_HIDING_NOTIFICATION:return c({},e,{notifications:i(e,n.notificationId)});case _.default.HIDE_NOTIFICATION:return c({},e,{notifications:l(e,n.notificationId)});case _.default.HIDE_ALL_NOTIFICATIONS:return c({},e,{notifications:u(e)});case _.default.SHOW_NOTIFICATION_CENTER:return c({},e,{notificationCenterVisible:!0});case _.default.HIDE_NOTIFICATION_CENTER:return c({},e,{notificationCenterVisible:!1});case _.default.SELECT_NOTIFICATION_FILTER:return-1===E.indexOf(n.filter)?e:c({},e,{selectedNotificationFilter:n.filter});case _.default.SHOW_PERMANENT_NOTIFICATION:return c({},e,{permanentNotificationVisible:!0,permanentNotificationMessage:n.msg});case _.default.HIDE_PERMANENT_NOTIFICATION:return c({},e,{permanentNotificationVisible:!1});default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=s;var d=n(179),f=a(d),p=n(11),h=a(p),m=n(300),_=a(m),g={notifications:[],notificationCenterVisible:!1,selectedNotificationFilter:"all",permanentNotificationVisible:!1,permanentNotificationMessage:""},b=0,y=["success","error","info"],E=["all","success","error","info"]},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(603),t.default={initialize:function(){}}},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(11),r=a(o),i=n(0),l=a(i),u=n(2),s=a(u),c=n(70),d=a(c),f=n(136),p=a(f),h=n(606),m=a(h),_=s.default.RouteObject.extend({hideApiBar:!0,hideNotificationCenter:!0,routes:{"":"allDatabases","index.html":"allDatabases","_all_dbs(:extra)":"allDatabases"},roles:["fx_loggedIn"],selectedHeader:"Databases",allDatabases:function(e,t){var n=this.createParams(t),a=n.page,o=n.limit;return d.default.setPage(a),o&&d.default.setLimit(o),l.default.createElement(m.default,null)},createParams:function(e){var t=1,n=void 0;if(e){var a=r.default.getParams(e);isFinite(parseInt(a.page))&&(t=parseInt(a.page)),isFinite(parseInt(a.limit))&&(n=parseInt(a.limit))}return{page:t,limit:n}}});p.default.RouteObjects=[_],t.default=p.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.PagingCollection=void 0;var o=n(22),r=a(o),i=n(102),l=(a(i),n(69)),u=a(l),s=n(11),c=a(s),d=t.PagingCollection=u.default.Collection.extend({constructor:function(){u.default.Collection.apply(this,arguments),this.configure.apply(this,arguments)},configure:function(e,t){var n=r.default.result(this,"url").split("?")[1]||"";this.paging=r.default.defaults(t.paging||{},{defaultParams:r.default.defaults({},t.params,this._parseQueryString(n)),hasNext:!1,hasPrevious:!1,params:{},pageSize:20,direction:void 0}),this.paging.params=r.default.clone(this.paging.defaultParams),this.updateUrlQuery(this.paging.defaultParams)},calculateParams:function(e,t,n){var a=r.default.clone(e);return a.skip=(parseInt(e.skip,10)||0)+t,this.paging.defaultParams.limit&&(a.limit=Math.min(this.paging.defaultParams.limit,a.limit)),a.limit=n+1,a.skip=Math.max(a.skip,0),a},pageSizeReset:function(e,t){var n=r.default.defaults(t||{},{fetch:!0});if(this.paging.direction=void 0,this.paging.pageSize=e,this.paging.params=this.paging.defaultParams,this.paging.params.limit=e,this.updateUrlQuery(this.paging.params),n.fetch)return this.fetch()},_parseQueryString:function(e){var t=decodeURI(e).split(/&/);return r.default.reduce(t,function(e,t){var n=t.split(/=/);return 2===n.length&&(e[n[0]]=n[1]),e},{})},_iterate:function(e,t){var n=r.default.defaults(t||{},{fetch:!0});if(this.paging.params=this.calculateParams(this.paging.params,e,this.paging.pageSize),this.updateUrlQuery(this.paging.params),n.fetch)return this.fetch({reset:!0})},next:function(e){return this.paging.direction="next",this._iterate(this.paging.pageSize,e)},previous:function(e){return this.paging.direction="previous",this._iterate(0-this.paging.pageSize,e)},shouldStringify:function(e){try{return JSON.parse(e),!1}catch(e){return!0}},updateUrlQuery:function(e){var t=this,n=r.default.result(this,"url").split("?")[0];r.default.each(["startkey","endkey","key"],function(n){r.default.has(e,n)&&t.shouldStringify(e[n])&&(e[n]=JSON.stringify(e[n]))}),this.url=n+"?"+c.default.utils.queryParams(e)},fetch:function(){return!this.paging.direction&&this.paging.params.limit>0&&(this.paging.direction="fetch",this.paging.params.limit=this.paging.params.limit+1,this.updateUrlQuery(this.paging.params)),u.default.Collection.prototype.fetch.apply(this,arguments)},parse:function(e){var t=e.rows;return this.paging.hasNext=this.paging.hasPrevious=!1,this.viewMeta={total_rows:e.total_rows,offset:e.offset,update_seq:e.update_seq},this.paging.params.skip>0&&(this.paging.hasPrevious=!0),t.length===this.paging.pageSize+1&&(this.paging.hasNext=!0,t.pop(),this.viewMeta.total_rows=this.viewMeta.total_rows-1),t},hasNext:function(){return this.paging.hasNext},hasPrevious:function(){return this.paging.hasPrevious}});t.default=d},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Layout=void 0;var o=n(0),r=a(o),i=n(2),l=a(i),u=n(43),s=n(634),c=a(s),d=c.default.RightDatabasesHeader,f=c.default.DatabasesController,p=c.default.DatabasePagination,h=t.Layout=function(){return r.default.createElement(u.OnePane,null,r.default.createElement(u.OnePaneHeader,{crumbs:[{name:"Databases"}],endpoint:l.default.urls("allDBs","apiurl"),docURL:l.default.constants.DOC_URLS.ALL_DBS},r.default.createElement(d,null)),r.default.createElement(u.OnePaneContent,null,r.default.createElement(f,null)),r.default.createElement(u.OnePaneFooter,null,r.default.createElement(p,null)))};t.default=h},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(2),s=a(u),c=n(1),d=a(c),f=n(0),p=a(f),h=n(13),m=a(h),g=n(399),b=a(g),y=n(112),E=a(y),v=n(400),O=a(v),D=n(78),N=a(D),T=n(301),S=a(T),w=n(70),C=a(w),R=n(20),I=S.default.databasesStore,A=b.default.deleteDbModalStore,P=m.default.DeleteDatabaseModal,L=m.default.ToggleHeaderButton,M=m.default.TrayContents,k=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getStoreState=function(){return{dbList:I.getDbList(),loading:I.isLoading(),showDeleteDatabaseModal:A.getShowDeleteDatabaseModal(),showPartitionedColumn:I.isPartitionedDatabasesAvailable(),page:I.getPage(),limit:I.getLimit()}},n.onChange=function(){n.setState(n.getStoreState())},n.state=n.getStoreState(),n.reloadAfterDatabaseDeleted=n.reloadAfterDatabaseDeleted.bind(n),n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){I.on("change",this.onChange,this),A.on("change",this.onChange,this),this.loadData()}},{key:"componentDidUpdate",value:function(e,t){t.page===this.state.page&&t.limit===this.state.limit||this.loadData()}},{key:"loadData",value:function(){C.default.init({page:this.state.page,limit:this.state.limit})}},{key:"componentWillUnmount",value:function(){I.off("change",this.onChange,this),A.off("change",this.onChange,this)}},{key:"reloadAfterDatabaseDeleted",value:function(){var e=this.state.page;e>1&&1===this.state.dbList.length&&(e-=1),C.default.init({page:e,limit:this.state.limit})}},{key:"render",value:function(){var e=this.state,t=e.loading,n=e.dbList;return p.default.createElement(x,{showDeleteDatabaseModal:this.state.showDeleteDatabaseModal,dbList:n,loading:t,showPartitionedColumn:this.state.showPartitionedColumn,onDatabaseDeleted:this.reloadAfterDatabaseDeleted})}}]),t}(p.default.Component),x=function(e){function t(){var e,n,a,i;o(this,t);for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.createRows=function(e){return e.map(function(e,t){return p.default.createElement(j,{item:e,key:t,showPartitionedColumn:a.props.showPartitionedColumn})})},a.getExtensionColumns=function(){var e=s.default.getExtensions("DatabaseTable:head");return _.map(e,function(e,t){return p.default.createElement(e,{key:t})})},a.showDeleteDatabaseModal=function(){E.default.showDeleteDatabaseModal({showDeleteModal:!a.props.showDeleteDatabaseModal.showDeleteModal})},i=n,r(a,i)}return i(t,e),l(t,[{key:"render",value:function(){if(this.props.loading)return p.default.createElement("div",{className:"view"},p.default.createElement(m.default.LoadLines,null));var e=this.createRows(this.props.dbList);return p.default.createElement("div",{className:"view"},p.default.createElement(P,{showHide:this.showDeleteDatabaseModal,modalProps:this.props.showDeleteDatabaseModal,onSuccess:this.props.onDatabaseDeleted}),p.default.createElement("table",{className:"table table-striped fauxton-table-list databases"},p.default.createElement("thead",null,p.default.createElement("tr",null,p.default.createElement("th",null,"Name"),p.default.createElement("th",null,"Size"),p.default.createElement("th",null,"# of Docs"),this.props.showPartitionedColumn?p.default.createElement("th",null,"Partitioned"):null,this.getExtensionColumns(),p.default.createElement("th",null,"Actions"))),p.default.createElement("tbody",null,e)))}}]),t}(p.default.Component);x.propTypes={dbList:d.default.array.isRequired,showDeleteDatabaseModal:d.default.object.isRequired,loading:d.default.bool.isRequired,showPartitionedColumn:d.default.bool.isRequired,onDatabaseDeleted:d.default.func};var j=function(e){function t(){var e,n,a,i;o(this,t);for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.getExtensionColumns=function(e){var t=s.default.getExtensions("DatabaseTable:databaseRow");return _.map(t,function(t,n){return p.default.createElement(t,{row:e,key:n})})},a.showDeleteDatabaseModal=function(e){E.default.showDeleteDatabaseModal({showDeleteModal:!0,dbId:e})},i=n,r(a,i)}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.item,t=e.encodedId,n=e.id,a=e.url,o=e.dataSize,r=e.docCount,i=e.docDelCount,l=e.showTombstoneWarning,u=e.failed,s=e.isPartitioned,c=l?p.default.createElement(U,{docCount:r,docDelCount:i}):null;if(u)return p.default.createElement("tr",null,p.default.createElement("td",{"data-name":"database-load-fail-name"},n),p.default.createElement("td",{colSpan:"4",className:"database-load-fail"},"This database failed to load."));var d=this.props.showPartitionedColumn?p.default.createElement("td",null,s?"Yes":"No"):null;return p.default.createElement("tr",null,p.default.createElement("td",null,p.default.createElement("a",{href:a},n)),p.default.createElement("td",null,o),p.default.createElement("td",null,r," ",c),d,this.getExtensionColumns(e),p.default.createElement("td",{className:"database-actions"},p.default.createElement("a",{className:"db-actions btn fonticon-replicate set-replication-start",title:"Replicate "+name,href:"#/replication/_create/"+t}),p.default.createElement("a",{className:"db-actions btn icon-trash",onClick:this.showDeleteDatabaseModal.bind(this,n,t),title:"Delete "+n,"data-bypass":"true"})))}}]),t}(p.default.Component);j.propTypes={item:d.default.shape({id:d.default.string.isRequired,encodedId:d.default.string.isRequired,url:d.default.string.isRequired,failed:d.default.bool.isRequired,dataSize:d.default.string,docCount:d.default.number,docDelCount:d.default.number,isPartitioned:d.default.bool,showTombstoneWarning:d.default.bool}).isRequired,showPartitionedColumn:d.default.bool.isRequired};var U=function(e){var t=e.docCount,n=e.docDelCount,a="This database has just "+t+" docs and "+n+" deleted docs",o=p.default.createElement(R.Tooltip,{id:"graveyard-tooltip"},a);return p.default.createElement(R.OverlayTrigger,{placement:"top",overlay:o},p.default.createElement("i",{className:"js-db-graveyard icon icon-exclamation-sign",title:a}))},q=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state=n.getStoreState(),n}return i(t,e),l(t,[{key:"getStoreState",value:function(){return{showPartitionedOption:I.isPartitionedDatabasesAvailable()}}},{key:"componentDidMount",value:function(){I.on("change",this.onChange,this)}},{key:"componentWillUnmount",value:function(){I.off("change",this.onChange,this)}},{key:"onChange",value:function(){this.setState(this.getStoreState())}},{key:"render",value:function(){return p.default.createElement("div",{className:"header-right right-db-header flex-layout flex-row"},p.default.createElement(B,{loadOptions:C.default.fetchAllDbsWithKey}),p.default.createElement(F,{showPartitionedOption:this.state.showPartitionedOption}))}}]),t}(p.default.Component),F=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isPromptVisible:!1,databaseName:"",partitionedSelected:!1},n.onTrayToggle=n.onTrayToggle.bind(n),n.closeTray=n.closeTray.bind(n),n.focusInput=n.focusInput.bind(n),n.onKeyUpInInput=n.onKeyUpInInput.bind(n),n.onChange=n.onChange.bind(n),n.onAddDatabase=n.onAddDatabase.bind(n),n.onTogglePartitioned=n.onTogglePartitioned.bind(n),n}return i(t,e),l(t,[{key:"onTrayToggle",value:function(){this.setState({isPromptVisible:!this.state.isPromptVisible})}},{key:"closeTray",value:function(){this.setState({isPromptVisible:!1})}},{key:"focusInput",value:function(){this.newDbName.focus()}},{key:"onKeyUpInInput",value:function(e){13===e.which&&this.onAddDatabase()}},{key:"onChange",value:function(e){this.setState({databaseName:e.target.value})}},{key:"onAddDatabase",value:function(){var e=this.props.showPartitionedOption?this.state.partitionedSelected:void 0;C.default.createNewDatabase(this.state.databaseName,e)}},{key:"onTogglePartitioned",value:function(){this.setState({partitionedSelected:!this.state.partitionedSelected})}},{key:"partitionedCheckobx",value:function(){return this.props.showPartitionedOption?p.default.createElement(f.Fragment,null,p.default.createElement("br",null),p.default.createElement("label",{style:{margin:"10px 10px 0px 0px"}},p.default.createElement("input",{id:"js-partitioned-db",type:"checkbox",checked:this.state.partitionedSelected,onChange:this.onTogglePartitioned,style:{margin:"0px 10px 0px 0px"}}),"Partitioned")):null}},{key:"render",value:function(){var e=this;return p.default.createElement("div",null,p.default.createElement(L,{selected:this.state.isPromptVisible,toggleCallback:this.onTrayToggle,containerClasses:"header-control-box add-new-database-btn",title:"Create Database",fonticon:"fonticon-new-database",text:"Create Database"}),p.default.createElement(M,{className:"new-database-tray",contentVisible:this.state.isPromptVisible,closeTray:this.closeTray,onEnter:this.focusInput},p.default.createElement("span",{className:"add-on"},"Create Database"),p.default.createElement("input",{id:"js-new-database-name",ref:function(t){return e.newDbName=t},type:"text",value:this.state.databaseName,onChange:this.onChange,onKeyUp:this.onKeyUpInInput,className:"input-xxlarge",placeholder:"Name of database"}),p.default.createElement("a",{className:"btn",id:"js-create-database",onClick:this.onAddDatabase},"Create"),this.partitionedCheckobx()))}}]),t}(p.default.Component);F.defaultProps={showPartitionedOption:!1},F.propTypes={showPartitionedOption:d.default.bool.isRequired};var B=function(e){var t=e.loadOptions;return p.default.createElement("div",{"data-name":"jump-to-db",className:"faux-header__searchboxwrapper"},p.default.createElement("div",{className:"faux-header__searchboxcontainer"},p.default.createElement(m.default.ThrottledReactSelectAsync,{placeholder:"Database name",loadOptions:t,clearable:!1,onChange:function(e){var t=e.value;C.default.jumpToDatabase(t)}})))};B.propTypes={loadOptions:d.default.func.isRequired};var V=function(e){function t(){var e,n,a,i;o(this,t);for(var l=arguments.length,u=Array(l),s=0;s<l;s++)u[s]=arguments[s];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.getStoreState=function(e){var t=e.store;return{totalAmountOfDatabases:t.getTotalAmountOfDatabases(),page:t.getPage(),limit:t.getLimit()}},a.onChange=function(){a.setState(a.getStoreState(a.props))},a.state=a.getStoreState(a.props),i=n,r(a,i)}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this.props.store.on("change",this.onChange,this)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setState(this.getStoreState(e)),this.props.store&&this.props.store.off("change",this.onChange,this),e.store.on("change",this.onChange,this)}},{key:"componentWillUnmount",value:function(){this.props.store.off("change",this.onChange,this)}},{key:"onPageLinkClick",value:function(e){var t="#/"+this.props.linkPath+"?page="+e+"&limit="+this.state.limit;s.default.navigate(t)}},{key:"onPerPageSelected",value:function(e){var t="#/"+this.props.linkPath+"?page="+this.state.page+"&limit="+e;s.default.navigate(t)}},{key:"render",value:function(){var e=this.state,t=e.limit,n=e.page,a=e.totalAmountOfDatabases,o=1+(n-1)*t,r=Math.min(a,n*t);return p.default.createElement("footer",{className:"all-db-footer pagination-footer"},p.default.createElement("div",{id:"database-pagination"},p.default.createElement(N.default.Pagination,{page:n,total:a,perPage:t,onClick:this.onPageLinkClick.bind(this)})),p.default.createElement(O.default,{label:"Databases per page",perPage:t,perPageChange:this.onPerPageSelected.bind(this)}),p.default.createElement("div",{className:"current-databases"},"Showing ",p.default.createElement("span",{className:"all-db-footer__range"},o,"–",r)," of ",p.default.createElement("span",{className:"all-db-footer__total-db-count"},a)," databases."))}}]),t}(p.default.Component);V.defaultProps={linkPath:"_all_dbs",store:I},t.default={DatabasesController:k,DatabaseTable:x,DatabaseRow:j,RightDatabasesHeader:q,GraveyardInfo:U,AddDatabaseWidget:F,JumpToDatabaseWidget:B,DatabasePagination:V}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Badge=t.BadgeList=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),s=a(u),c=n(0),d=a(c),f=n(10),p=(a(f),t.BadgeList=function(e){function t(){var e,n,a,i;o(this,t);for(var l=arguments.length,u=Array(l),s=0;s<l;s++)u[s]=arguments[s];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.getBadges=function(){return a.props.elements.map(function(e,t){return d.default.createElement(h,{label:this.props.getLabel(e),key:t,id:e,remove:this.removeBadge})}.bind(a))},a.removeBadge=function(e,t){a.props.removeBadge(e,t)},i=n,r(a,i)}return i(t,e),l(t,[{key:"render",value:function(){return d.default.createElement("ul",{className:"component-badgelist"},this.getBadges())}}]),t}(d.default.Component));p.propTypes={elements:s.default.array.isRequired,removeBadge:s.default.func.isRequired},p.defaultProps={getLabel:function(e){return e},getId:function(e){return e}};var h=t.Badge=function(e){function t(){var e,n,a,i;o(this,t);for(var l=arguments.length,u=Array(l),s=0;s<l;s++)u[s]=arguments[s];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.remove=function(e){e.preventDefault(),a.props.remove(a.props.label,a.props.id)},i=n,r(a,i)}return i(t,e),l(t,[{key:"render",value:function(){return d.default.createElement("li",{className:"component-badge"},d.default.createElement("span",{className:"label label-info"},this.props.label),d.default.createElement("a",{href:"#",className:"label label-info remove-filter",onClick:this.remove,"data-bypass":"true"},"×"))}}]),t}(d.default.Component);h.propTypes={label:s.default.string.isRequired,remove:s.default.func.isRequired}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ToggleHeaderButton=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(0),s=a(u);a(n(10)),(t.ToggleHeaderButton=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.iconDefaultClass,n=e.fonticon,a=e.innerClasses,o=e.selected,r=e.containerClasses,i=e.title,l=e.disabled,u=e.text,c=e.toggleCallback,d=e.active,f=o||d?"js-headerbar-togglebutton-selected":"";return s.default.createElement("button",{title:i,disabled:l,onClick:c,className:"button "+r+" "+f},s.default.createElement("i",{className:t+" "+n+" "+a}),s.default.createElement("span",null,u))}}]),t}(s.default.Component)).defaultProps={innerClasses:"",fonticon:"",containerClasses:"",selected:!1,title:"",disabled:!1,toggleCallback:null,text:"",iconDefaultClass:"icon"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.BulkActionComponent=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),s=a(u),c=n(0),d=a(c),f=n(10),p=(a(f),n(20)),h=t.BulkActionComponent=function(e){function t(){var e,n,a,i;o(this,t);for(var l=arguments.length,u=Array(l),s=0;s<l;s++)u[s]=arguments[s];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.getMultiSelectOptions=function(){return a.props.hasSelectedItem?d.default.createElement("button",{onClick:a.props.removeItem,className:"fonticon "+a.props.bulkIcon,title:a.props.buttonTitle}):null},a.getPopupContent=function(){return d.default.createElement("ul",{className:"bulk-action-component-popover-actions"},d.default.createElement("li",{onClick:a.selectAll},d.default.createElement("i",{className:"icon fonticon-cancel"})," ",a.props.dropdownContentText))},a.selectAll=function(){a.bulkActionPopover.hide(),a.props.selectAll()},a.getOverlay=function(){return d.default.createElement(p.OverlayTrigger,{ref:function(e){return a.bulkActionPopover=e},trigger:"click",placement:"bottom",rootClose:!0,overlay:d.default.createElement(p.Popover,{id:"bulk-action-component-popover",title:a.props.title},a.getPopupContent())},d.default.createElement("div",{className:"arrow-button"},d.default.createElement("i",{className:"fonticon fonticon-play"})))},a.getMasterSelector=function(){return d.default.createElement("div",{className:"bulk-action-component-panel"},d.default.createElement("input",{type:"checkbox",checked:a.props.isChecked,onChange:a.props.toggleSelect,disabled:a.props.disabled}),a.props.enableOverlay?d.default.createElement("div",{className:"separator"}):null,a.props.enableOverlay?a.getOverlay():null)},i=n,r(a,i)}return i(t,e),l(t,[{key:"render",value:function(){return d.default.createElement("div",{className:"bulk-action-component"},d.default.createElement("div",{className:"bulk-action-component-selector-group"},this.getMasterSelector(),this.getMultiSelectOptions()))}}]),t}(d.default.Component);h.propTypes={hasSelectedItem:s.default.bool.isRequired,removeItem:s.default.func.isRequired,selectAll:s.default.func,toggleSelect:s.default.func.isRequired,isChecked:s.default.bool.isRequired,disabled:s.default.bool},h.defaultProps={disabled:!1,title:"Select rows that can be...",bulkIcon:"fonticon-trash",buttonTitle:"Delete all selected",dropdownContentText:"Deleted",enableOverlay:!1}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.StyledSelect=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),s=a(u),c=n(0),d=a(c);a(n(10)),(t.StyledSelect=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){return d.default.createElement("div",{className:"styled-select"},d.default.createElement("label",{htmlFor:this.props.selectId},d.default.createElement("i",{className:"fonticon-down-dir styled-select-icon"}),d.default.createElement("i",{className:"fonticon-down-dir styled-select-hover-icon"}),d.default.createElement("select",{value:this.props.selectValue,id:this.props.selectId,className:this.props.selectValue,onChange:this.props.selectChange},this.props.selectContent)))}}]),t}(d.default.Component)).propTypes={selectValue:s.default.string.isRequired,selectId:s.default.string.isRequired,selectChange:s.default.func.isRequired}},,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.CodeEditorPanel=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(0),s=a(u),c=n(10),d=(a(c),n(220)),f=n(363),p=n(364),h=["Missing name in function declaration.","['{a}'] is better written in dot notation."];(t.CodeEditorPanel=function(e){function t(){var e,n,a,i;o(this,t);for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.getStoreState=function(){return{zenModeEnabled:!1,code:a.props.defaultCode}},a.getZenModeIcon=function(){if(a.props.allowZenMode)return s.default.createElement("span",{className:"fonticon fonticon-resize-full zen-editor-icon",title:"Enter Zen mode",onClick:a.enterZenMode})},a.getDocIcon=function(){if(a.props.docLink)return s.default.createElement("a",{className:"help-link","data-bypass":"true",href:a.props.docLink,target:"_blank",rel:"noopener noreferrer"},s.default.createElement("i",{className:"icon-question-sign"}))},a.getZenModeOverlay=function(){if(a.state.zenModeEnabled)return s.default.createElement(p.ZenModeOverlay,{defaultCode:a.state.code,mode:a.props.mode,ignorableErrors:h,onExit:a.exitZenMode})},a.enterZenMode=function(){a.setState({zenModeEnabled:!0,code:a.codeEditor.getValue()})},a.exitZenMode=function(e){a.setState({zenModeEnabled:!1}),a.getEditor().setValue(e)},a.getEditor=function(){return a.codeEditor},a.getValue=function(){return a.getEditor().getValue()},a.beautify=function(e){a.setState({code:e}),a.getEditor().setValue(e)},a.update=function(){a.getEditor().setValue(a.state.code)},a.state=a.getStoreState(),i=n,r(a,i)}return i(t,e),l(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.defaultCode!==this.props.defaultCode&&this.setState({code:e.defaultCode})}},{key:"render",value:function(){var e=this,t="control-group";return this.props.className&&(t+=" "+this.props.className),s.default.createElement("div",{className:t},s.default.createElement("label",null,s.default.createElement("span",null,this.props.title),this.getDocIcon(),this.getZenModeIcon()),s.default.createElement(d.CodeEditor,{id:this.props.id,ref:function(t){return e.codeEditor=t},mode:"javascript",defaultCode:this.state.code,showGutter:!0,ignorableErrors:h,setHeightToLineCount:!0,maxLines:1e4,blur:this.props.blur}),s.default.createElement(f.Beautify,{code:this.state.code,beautifiedCode:this.beautify}),this.getZenModeOverlay())}}]),t}(s.default.Component)).defaultProps={id:"code-editor",className:"",defaultCode:"",title:"",docLink:"",allowZenMode:!0,blur:function(){}}},,function(e,t,n){"use strict";var a,o;!function(){function n(e,t){return new r(e,t).beautify()}function r(e,t){function n(e,t){var n=0;return e&&(n=e.indentation_level,n+=e.var_line&&e.var_line_reindented?1:0,!u()&&e.line_indent_level>n&&(n=e.line_indent_level)),{mode:t,parent:e,last_text:e?e.last_text:"",last_word:e?e.last_word:"",var_line:!1,var_line_tainted:!1,var_line_reindented:!1,in_html_comment:!1,multiline_frame:!1,if_block:!1,do_block:!1,do_while:!1,in_case_statement:!1,in_case:!1,case_body:!1,indentation_level:n,line_indent_level:e?e.line_indent_level:n,start_line_index:X.length,had_comment:!1,ternary_depth:0}}function a(){return{text:[]}}function o(e){if(e=void 0!==e&&e,X.length)for(r(X[X.length-1]);e&&X.length>1&&0===X[X.length-1].text.length;)X.pop(),r(X[X.length-1])}function r(e){for(;e.text.length&&(" "===e.text[e.text.length-1]||e.text[e.text.length-1]===Z||e.text[e.text.length-1]===be);)e.text.pop()}function i(e){return e.replace(/^\s+|\s+$/g,"")}function l(e){e=e.replace(/\x0d/g,"");for(var t=[],n=e.indexOf("\n");-1!==n;)t.push(e.substring(0,n)),e=e.substring(n+1),n=e.indexOf("\n");return e.length&&t.push(e),t}function u(){return 0===X[X.length-1].text.length}function s(){return!!u()&&(1===X.length||0===X[X.length-2].text.length)}function c(e){if(e=void 0!==e&&e,ge.wrap_line_length&&!e){var t=X[X.length-1];t.text.length>0&&t.text.join("").length+z.length+(de?1:0)>=ge.wrap_line_length&&(e=!0)}(ge.preserve_newlines&&se||e)&&!u()&&(d(!1,!0),E($.mode)||v($.mode)||(ce=!0))}function d(e,t){if(ce=!1,de=!1,!t&&";"!==$.last_text)for(;$.mode===_e.Statement&&!$.if_block&&!$.do_block;)O();1===X.length&&u()||!e&&u()||($.multiline_frame=!0,X.push(a()))}function f(){if(u()){var e=X[X.length-1];if(ge.keep_array_indentation&&E($.mode)&&se){e.text.push("");for(var t=0;t<he.length;t+=1)e.text.push(he[t])}else be&&e.text.push(be),p($.indentation_level+($.var_line&&$.var_line_reindented?1:0)+(ce?1:0))}}function p(e){if(X.length>1){var t=X[X.length-1];$.line_indent_level=e;for(var n=0;n<e;n+=1)t.text.push(Z)}}function h(){var e=X[X.length-1];if(de&&e.text.length){var t=e.text[e.text.length-1];" "!==t&&t!==Z&&e.text.push(" ")}}function m(e){e=e||z,f(),ce=!1,h(),de=!1,X[X.length-1].text.push(e)}function _(){$.indentation_level+=1}function g(){$.indentation_level>0&&(!$.parent||$.indentation_level>$.parent.indentation_level)&&($.indentation_level-=1)}function b(e){if(!e.multiline_frame)for(var t,n=e.start_line_index,a=0;n<X.length;)t=X[n],n++,0!==t.text.length&&(a=be&&t.text[0]===be?1:0,t.text[a]===Z&&t.text.splice(a,1))}function y(e){$?(te.push($),ee=$):ee=n(null,e),$=n(ee,e)}function E(e){return e===_e.ArrayLiteral}function v(e){return w(e,[_e.Expression,_e.ForInitializer,_e.Conditional])}function O(){te.length>0&&(ee=$,$=te.pop())}function D(){return $.mode===_e.ObjectLiteral&&":"===$.last_text&&0===$.ternary_depth}function N(){return("do"===$.last_text||"else"===$.last_text&&"if"!==z||"TK_END_EXPR"===Q&&(ee.mode===_e.ForInitializer||ee.mode===_e.Conditional))&&(c(w(z,["do","for","if","while"])),y(_e.Statement),u()&&(_(),ce=!1),!0)}function T(e,t){for(var n=0;n<e.length;n++)if(i(e[n]).charAt(0)!==t)return!1;return!0}function S(e){return w(e,["case","return","do","if","throw","else"])}function w(e,t){for(var n=0;n<t.length;n+=1)if(t[n]===e)return!0;return!1}function C(e){for(var t,n=!1,a="",o=0,r="",i=0;n||o<e.length;)if(t=e.charAt(o),o++,n){if(n=!1,"x"===t)r=e.substr(o,2),o+=2;else{if("u"!==t){a+="\\"+t;continue}r=e.substr(o,4),o+=4}if(!r.match(/^[0123456789abcdefABCDEF]+$/))return e;if((i=parseInt(r,16))>=0&&i<32){a+="x"===t?"\\x"+r:"\\u"+r;continue}if(34===i||39===i||92===i)a+="\\"+String.fromCharCode(i);else{if("x"===t&&i>126&&i<=255)return e;a+=String.fromCharCode(i)}}else"\\"===t?n=!0:a+=t;return a}function R(e){for(var t=re,n=W.charAt(t);w(n,ne)&&n!==e;){if(++t>=fe)return!1;n=W.charAt(t)}return n===e}function I(){var e;if(pe=0,re>=fe)return["","TK_EOF"];se=!1,he=[];var t=W.charAt(re);for(re+=1;w(t,ne);){if("\n"===t?(pe+=1,he=[]):pe&&(t===Z?he.push(Z):"\r"!==t&&he.push(" ")),re>=fe)return["","TK_EOF"];t=W.charAt(re),re+=1}if(w(t,ae)){if(re<fe)for(;w(W.charAt(re),ae)&&(t+=W.charAt(re),(re+=1)!==fe););if(re!==fe&&t.match(/^[0-9]+[Ee]$/)&&("-"===W.charAt(re)||"+"===W.charAt(re))){var n=W.charAt(re);return re+=1,t+=n+I()[0],[t,"TK_WORD"]}return"in"===t?[t,"TK_OPERATOR"]:[t,"TK_WORD"]}if("("===t||"["===t)return[t,"TK_START_EXPR"];if(")"===t||"]"===t)return[t,"TK_END_EXPR"];if("{"===t)return[t,"TK_START_BLOCK"];if("}"===t)return[t,"TK_END_BLOCK"];if(";"===t)return[t,"TK_SEMICOLON"];if("/"===t){var a="",o=!0;if("*"===W.charAt(re)){if((re+=1)<fe)for(;re<fe&&("*"!==W.charAt(re)||!W.charAt(re+1)||"/"!==W.charAt(re+1))&&(t=W.charAt(re),a+=t,"\n"!==t&&"\r"!==t||(o=!1),!((re+=1)>=fe)););return re+=2,o&&0===pe?["/*"+a+"*/","TK_INLINE_COMMENT"]:["/*"+a+"*/","TK_BLOCK_COMMENT"]}if("/"===W.charAt(re)){for(a=t;"\r"!==W.charAt(re)&&"\n"!==W.charAt(re)&&(a+=W.charAt(re),!((re+=1)>=fe)););return[a,"TK_COMMENT"]}}if("'"===t||'"'===t||("/"===t||ge.e4x&&"<"===t&&W.slice(re-1).match(/^<([-a-zA-Z:0-9_.]+|{[^{}]*}|!\[CDATA\[[\s\S]*?\]\])\s*([-a-zA-Z:0-9_.]+=('[^']*'|"[^"]*"|{[^{}]*})\s*)*\/?\s*>/))&&("TK_WORD"===Q&&S($.last_text)||"TK_END_EXPR"===Q&&w(ee.mode,[_e.Conditional,_e.ForInitializer])||w(Q,["TK_COMMENT","TK_START_EXPR","TK_START_BLOCK","TK_END_BLOCK","TK_OPERATOR","TK_EQUALS","TK_EOF","TK_SEMICOLON","TK_COMMA"]))){var r=t,l=!1,u=!1;if(e=t,re<fe)if("/"===r){for(var s=!1;l||s||W.charAt(re)!==r;)if(e+=W.charAt(re),l?l=!1:(l="\\"===W.charAt(re),"["===W.charAt(re)?s=!0:"]"===W.charAt(re)&&(s=!1)),(re+=1)>=fe)return[e,"TK_STRING"]}else if(ge.e4x&&"<"===r){var c=/<(\/?)([-a-zA-Z:0-9_.]+|{[^{}]*}|!\[CDATA\[[\s\S]*?\]\])\s*([-a-zA-Z:0-9_.]+=('[^']*'|"[^"]*"|{[^{}]*})\s*)*(\/?)\s*>/g,d=W.slice(re-1),f=c.exec(d);if(f&&0===f.index){for(var p=f[2],h=0;f;){var m=!!f[1],_=f[2],g=!!f[f.length-1]||"![CDATA["===_.slice(0,8);if(_!==p||g||(m?--h:++h),h<=0)break;f=c.exec(d)}var b=f?f.index+f[0].length:d.length;return re+=b-1,[d.slice(0,b),"TK_STRING"]}}else for(;l||W.charAt(re)!==r;)if(e+=W.charAt(re),l?("x"!==W.charAt(re)&&"u"!==W.charAt(re)||(u=!0),l=!1):l="\\"===W.charAt(re),(re+=1)>=fe)return[e,"TK_STRING"];if(re+=1,e+=r,u&&ge.unescape_strings&&(e=C(e)),"/"===r)for(;re<fe&&w(W.charAt(re),ae);)e+=W.charAt(re),re+=1;return[e,"TK_STRING"]}if("#"===t){if(1===X.length&&0===X[0].text.length&&"!"===W.charAt(re)){for(e=t;re<fe&&"\n"!==t;)t=W.charAt(re),e+=t,re+=1;return[i(e)+"\n","TK_UNKNOWN"]}var y="#";if(re<fe&&w(W.charAt(re),le)){do{t=W.charAt(re),y+=t,re+=1}while(re<fe&&"#"!==t&&"="!==t);return"#"===t||("["===W.charAt(re)&&"]"===W.charAt(re+1)?(y+="[]",re+=2):"{"===W.charAt(re)&&"}"===W.charAt(re+1)&&(y+="{}",re+=2)),[y,"TK_WORD"]}}if("<"===t&&"\x3c!--"===W.substring(re-1,re+3)){for(re+=3,t="\x3c!--";"\n"!==W.charAt(re)&&re<fe;)t+=W.charAt(re),re++;return $.in_html_comment=!0,[t,"TK_COMMENT"]}if("-"===t&&$.in_html_comment&&"--\x3e"===W.substring(re-1,re+2))return $.in_html_comment=!1,re+=2,["--\x3e","TK_COMMENT"];if("."===t)return[t,"TK_DOT"];if(w(t,oe)){for(;re<fe&&w(t+W.charAt(re),oe)&&(t+=W.charAt(re),!((re+=1)>=fe)););return","===t?[t,"TK_COMMA"]:"="===t?[t,"TK_EQUALS"]:[t,"TK_OPERATOR"]}return[t,"TK_UNKNOWN"]}function A(){N();var e=_e.Expression;if("["===z){if("TK_WORD"===Q||")"===$.last_text)return w($.last_text,ie)&&(de=!0),y(e),m(),_(),void(ge.space_in_paren&&(de=!0));e=_e.ArrayLiteral,E($.mode)&&("["!==$.last_text&&(","!==$.last_text||"]"!==J&&"}"!==J)||ge.keep_array_indentation||d())}else"for"===$.last_text?e=_e.ForInitializer:w($.last_text,["if","while"])&&(e=_e.Conditional);";"===$.last_text||"TK_START_BLOCK"===Q?d():"TK_END_EXPR"===Q||"TK_START_EXPR"===Q||"TK_END_BLOCK"===Q||"."===$.last_text?(c(se),ce=!1):"TK_WORD"!==Q&&"TK_OPERATOR"!==Q?de=!0:"function"===$.last_word||"typeof"===$.last_word?ge.jslint_happy&&(de=!0):(w($.last_text,ie)||"catch"===$.last_text)&&ge.space_before_conditional&&(de=!0),"("===z&&("TK_EQUALS"!==Q&&"TK_OPERATOR"!==Q||D()||c()),y(e),m(),ge.space_in_paren&&(de=!0),_()}function P(){for(;$.mode===_e.Statement;)O();"]"===z&&E($.mode)&&$.multiline_frame&&!ge.keep_array_indentation&&d(),$.multiline_frame&&c(),ge.space_in_paren&&("TK_START_EXPR"===Q?(o(),de=!1):de=!0),"]"===z&&ge.keep_array_indentation?(m(),O()):(O(),m()),b(ee),$.do_while&&ee.mode===_e.Conditional&&(ee.mode=_e.Expression,$.do_block=!1,$.do_while=!1)}function L(){y(_e.BlockStatement);var e=R("}"),t=e&&"function"===$.last_word&&"TK_END_EXPR"===Q;"expand"===ge.brace_style?"TK_OPERATOR"!==Q&&(t||"TK_EQUALS"===Q||S($.last_text)&&"else"!==$.last_text)?de=!0:d():"TK_OPERATOR"!==Q&&"TK_START_EXPR"!==Q?"TK_START_BLOCK"===Q?d():de=!0:E(ee.mode)&&","===$.last_text&&("}"===J?de=!0:d()),m(),_()}function M(){for(;$.mode===_e.Statement;)O();var e="TK_START_BLOCK"===Q;"expand"===ge.brace_style?e||d():e||(E($.mode)&&ge.keep_array_indentation?(ge.keep_array_indentation=!1,d(),ge.keep_array_indentation=!0):d()),O(),m()}function k(){if(N()||!se||v($.mode)||"TK_OPERATOR"===Q&&"--"!==$.last_text&&"++"!==$.last_text||"TK_EQUALS"===Q||!ge.preserve_newlines&&"var"===$.last_text||d(),$.do_block&&!$.do_while){if("while"===z)return de=!0,m(),de=!0,void($.do_while=!0);d(),$.do_block=!1}if($.if_block&&"else"!==z){for(;$.mode===_e.Statement;)O();$.if_block=!1}if("case"===z||"default"===z&&$.in_case_statement)return d(),($.case_body||ge.jslint_happy)&&(g(),$.case_body=!1),m(),$.in_case=!0,void($.in_case_statement=!0);if("function"===z&&($.var_line&&"TK_EQUALS"!==Q&&($.var_line_reindented=!0),(w($.last_text,["}",";"])||u()&&!w($.last_text,["{",":","=",","]))&&(s()||$.had_comment||(d(),d(!0))),"TK_WORD"===Q?"get"===$.last_text||"set"===$.last_text||"new"===$.last_text||"return"===$.last_text?de=!0:d():"TK_OPERATOR"===Q||"="===$.last_text?de=!0:v($.mode)||d()),"TK_COMMA"!==Q&&"TK_START_EXPR"!==Q&&"TK_EQUALS"!==Q&&"TK_OPERATOR"!==Q||D()||c(),"function"===z)return m(),void($.last_word=z);if(ue="NONE","TK_END_BLOCK"===Q?w(z,["else","catch","finally"])?"expand"===ge.brace_style||"end-expand"===ge.brace_style?ue="NEWLINE":(ue="SPACE",de=!0):ue="NEWLINE":"TK_SEMICOLON"===Q&&$.mode===_e.BlockStatement?ue="NEWLINE":"TK_SEMICOLON"===Q&&v($.mode)?ue="SPACE":"TK_STRING"===Q?ue="NEWLINE":"TK_WORD"===Q?ue="SPACE":"TK_START_BLOCK"===Q?ue="NEWLINE":"TK_END_EXPR"===Q&&(de=!0,ue="NEWLINE"),w(z,ie)&&")"!==$.last_text&&(ue="else"===$.last_text?"SPACE":"NEWLINE"),w(z,["else","catch","finally"]))if("TK_END_BLOCK"!==Q||"expand"===ge.brace_style||"end-expand"===ge.brace_style)d();else{o(!0);var e=X[X.length-1];"}"!==e.text[e.text.length-1]&&d(),de=!0}else"NEWLINE"===ue?S($.last_text)?de=!0:"TK_END_EXPR"!==Q?"TK_START_EXPR"===Q&&"var"===z||":"===$.last_text||("if"===z&&"else"===$.last_word&&"{"!==$.last_text?de=!0:($.var_line=!1,$.var_line_reindented=!1,d())):w(z,ie)&&")"!==$.last_text&&($.var_line=!1,$.var_line_reindented=!1,d()):E($.mode)&&","===$.last_text&&"}"===J?d():"SPACE"===ue&&(de=!0);m(),$.last_word=z,"var"===z&&($.var_line=!0,$.var_line_reindented=!1,$.var_line_tainted=!1),"do"===z&&($.do_block=!0),"if"===z&&($.if_block=!0)}function x(){for(N()&&(de=!1);$.mode===_e.Statement&&!$.if_block&&!$.do_block;)O();m(),$.var_line=!1,$.var_line_reindented=!1,$.mode===_e.ObjectLiteral&&($.mode=_e.BlockStatement)}function j(){N()?de=!0:"TK_WORD"===Q?de=!0:"TK_COMMA"===Q||"TK_START_EXPR"===Q||"TK_EQUALS"===Q||"TK_OPERATOR"===Q?D()||c():d(),m()}function U(){$.var_line&&($.var_line_tainted=!0),de=!0,m(),de=!0}function q(){if($.var_line)return(v($.mode)||"TK_END_BLOCK"===Q)&&($.var_line_tainted=!1),$.var_line&&($.var_line_reindented=!0),m(),void($.var_line_tainted?($.var_line_tainted=!1,d()):de=!0);"TK_END_BLOCK"===Q&&$.mode!==_e.Expression?(m(),$.mode===_e.ObjectLiteral&&"}"===$.last_text?d():de=!0):$.mode===_e.ObjectLiteral?(m(),d()):(m(),de=!0)}function F(){var e=!0,t=!0;return S($.last_text)?(de=!0,void m()):"*"!==z||"TK_DOT"!==Q||J.match(/^\d+$/)?":"===z&&$.in_case?($.case_body=!0,_(),m(),d(),void($.in_case=!1)):"::"===z?void m():(!se||"--"!==z&&"++"!==z||d(),w(z,["--","++","!"])||w(z,["-","+"])&&(w(Q,["TK_START_BLOCK","TK_START_EXPR","TK_EQUALS","TK_OPERATOR"])||w($.last_text,ie)||","===$.last_text)?(e=!1,t=!1,";"===$.last_text&&v($.mode)&&(e=!0),"TK_WORD"===Q&&w($.last_text,ie)&&(e=!0),$.mode!==_e.BlockStatement&&$.mode!==_e.Statement||"{"!==$.last_text&&";"!==$.last_text||d()):":"===z?0===$.ternary_depth?($.mode===_e.BlockStatement&&($.mode=_e.ObjectLiteral),e=!1):$.ternary_depth-=1:"?"===z&&($.ternary_depth+=1),de=de||e,m(),void(de=t)):void m()}function B(){var e,t=l(z),n=!1;for(d(!1,!0),t.length>1&&T(t.slice(1),"*")&&(n=!0),m(t[0]),e=1;e<t.length;e++)d(!1,!0),n?m(" "+i(t[e])):X[X.length-1].text.push(t[e]);d(!1,!0)}function V(){de=!0,m(),de=!0}function H(){se?d(!1,!0):o(!0),de=!0,m(),d(!1,!0)}function G(){S($.last_text)?de=!0:c(")"===$.last_text&&ge.break_chained_methods),m()}function K(){m(),"\n"===z[z.length-1]&&d()}var W,X,z,Y,Q,J,Z,$,ee,te,ne,ae,oe,re,ie,le,ue,se,ce,de,fe,pe,he,me,_e,ge,be="";for(ne="\n\r\t ".split(""),ae="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_$".split(""),le="0123456789".split(""),oe="+ - * / % & ++ -- = += -= *= /= %= == === != !== > < >= <= >> << >>> >>>= >>= <<= && &= | || ! !! , : ? ^ ^= |= ::",oe+=" <%= <% %> <?= <? ?>",oe=oe.split(" "),ie="continue,try,throw,return,var,if,switch,case,default,for,while,break,function".split(","),_e={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",Expression:"Expression"},me={TK_START_EXPR:A,TK_END_EXPR:P,TK_START_BLOCK:L,TK_END_BLOCK:M,TK_WORD:k,TK_SEMICOLON:x,TK_STRING:j,TK_EQUALS:U,TK_OPERATOR:F,TK_COMMA:q,TK_BLOCK_COMMENT:B,TK_INLINE_COMMENT:V,TK_COMMENT:H,TK_DOT:G,TK_UNKNOWN:K},t=t||{},ge={},void 0!==t.space_after_anon_function&&void 0===t.jslint_happy&&(t.jslint_happy=t.space_after_anon_function),void 0!==t.braces_on_own_line&&(ge.brace_style=t.braces_on_own_line?"expand":"collapse"),ge.brace_style=t.brace_style?t.brace_style:ge.brace_style?ge.brace_style:"collapse","expand-strict"===ge.brace_style&&(ge.brace_style="expand"),ge.indent_size=t.indent_size?parseInt(t.indent_size,10):4,ge.indent_char=t.indent_char?t.indent_char:" ",ge.preserve_newlines=void 0===t.preserve_newlines||t.preserve_newlines,ge.break_chained_methods=void 0!==t.break_chained_methods&&t.break_chained_methods,ge.max_preserve_newlines=void 0===t.max_preserve_newlines?0:parseInt(t.max_preserve_newlines,10),ge.space_in_paren=void 0!==t.space_in_paren&&t.space_in_paren,ge.jslint_happy=void 0!==t.jslint_happy&&t.jslint_happy,ge.keep_array_indentation=void 0!==t.keep_array_indentation&&t.keep_array_indentation,ge.space_before_conditional=void 0===t.space_before_conditional||t.space_before_conditional,ge.unescape_strings=void 0!==t.unescape_strings&&t.unescape_strings,ge.wrap_line_length=void 0===t.wrap_line_length?0:parseInt(t.wrap_line_length,10),ge.e4x=void 0!==t.e4x&&t.e4x,t.indent_with_tabs&&(ge.indent_char="\t",ge.indent_size=1),Z="";ge.indent_size>0;)Z+=ge.indent_char,ge.indent_size-=1;for(;e&&(" "===e.charAt(0)||"\t"===e.charAt(0));)be+=e.charAt(0),e=e.substring(1);W=e,fe=e.length,Q="TK_START_BLOCK",J="",X=[a()],ce=!1,de=!1,he=[],te=[],y(_e.BlockStatement),re=0,this.beautify=function(){for(var e,t,n,a;e=I(),z=e[0],"TK_EOF"!==(Y=e[1]);){if(n=ge.keep_array_indentation&&E($.mode),se=pe>0,n)for(t=0;t<pe;t+=1)d(t>0);else if(ge.max_preserve_newlines&&pe>ge.max_preserve_newlines&&(pe=ge.max_preserve_newlines),ge.preserve_newlines&&pe>1)for(d(),t=1;t<pe;t+=1)d(!0);me[Y](),"TK_INLINE_COMMENT"!==Y&&"TK_COMMENT"!==Y&&"TK_BLOCK_COMMENT"!==Y&&"TK_UNKNOWN"!==Y&&(J=$.last_text,Q=Y,$.last_text=z),$.had_comment="TK_INLINE_COMMENT"===Y||"TK_COMMENT"===Y||"TK_BLOCK_COMMENT"===Y}a=X[0].text.join("");for(var o=1;o<X.length;o++)a+="\n"+X[o].text.join("");return a=a.replace(/[\r\n ]+$/,"")}}a=[],void 0!==(o=function(){return n}.apply(t,a))&&(e.exports=o)}()},,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.PaddedBorderedBox=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(0),s=a(u);a(n(10)),t.PaddedBorderedBox=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){return s.default.createElement("div",{className:"bordered-box"},s.default.createElement("div",{className:"padded-box"},this.props.children))}}]),t}(s.default.Component)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Document=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(6),s=a(u),c=n(1),d=a(c),f=n(0),p=a(f),h=n(2),m=a(h),g=n(30),b=a(g),y=n(40),E=a(y),v=t.Document=function(e){function t(){var e,n,a,i;o(this,t);for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.onChange=function(e){e.preventDefault(),a.props.docChecked(a.props.doc.id,a.props.doc._rev)},a.getUrlFragment=function(){return a.props.children?p.default.createElement("div",{className:"doc-edit-symbol pull-right",title:"Edit document"},a.props.children):""},a.getExtensionIcons=function(){var e=m.default.getExtensions("DocList:icons");return _.map(e,function(e,t){return p.default.createElement(e,{doc:a.props.doc,key:t})})},a.getCheckbox=function(){return a.props.isDeletable?p.default.createElement("div",{className:"checkbox inline"},p.default.createElement("input",{id:"checkbox-"+a.props.docIdentifier,checked:a.props.checked,"data-checked":a.props.checked,type:"checkbox",onChange:a.onChange,className:"js-row-select"}),p.default.createElement("label",{onClick:a.onChange,className:"label-checkbox-doclist",htmlFor:"checkbox-"+a.props.docIdentifier})):p.default.createElement("div",{className:"checkbox-dummy"})},a.onClick=function(e){a.props.onClick(a.props.docIdentifier,a.props.doc,e)},a.getDocContent=function(){if(_.isEmpty(a.props.docContent))return null;var e=a.props.docContent,t=!1;if(a.props.truncate){var n=E.default.truncateDoc(a.props.docContent,a.props.maxRows);t=n.isTruncated,e=n.content}var o=a.props.resultsStyle.fontSize,r=(0,s.default)("prettyprint",{"prettyprint--small":o===b.default.INDEX_RESULTS_STYLE.FONT_SIZE_SMALL,"prettyprint--large":o===b.default.INDEX_RESULTS_STYLE.FONT_SIZE_LARGE});return p.default.createElement("div",{className:"doc-data"},p.default.createElement("pre",{className:r},e),t?p.default.createElement("div",{className:"doc-content-truncated"},"(truncated)"):null)},i=n,r(a,i)}return i(t,e),l(t,[{key:"render",value:function(){return p.default.createElement("div",{"data-id":this.props.docIdentifier,className:"doc-row"},p.default.createElement("div",{className:"custom-inputs"},this.getCheckbox()),p.default.createElement("div",{className:"doc-item"},p.default.createElement("header",{onClick:this.onClick},p.default.createElement("span",{className:"header-keylabel"},this.props.keylabel),p.default.createElement("span",{className:"header-doc-id"},this.props.header?'"'+this.props.header+'"':null),this.getUrlFragment(),p.default.createElement("div",{className:"doc-item-extension-icons pull-right"},this.getExtensionIcons())),this.getDocContent()),p.default.createElement("div",{className:"clearfix"}))}}]),t}(p.default.Component);v.propTypes={docIdentifier:d.default.string.isRequired,docChecked:d.default.func.isRequired,truncate:d.default.bool,maxRows:d.default.number,resultsStyle:d.default.object},v.defaultProps={truncate:!0,maxRows:500,resultsStyle:{fontSize:b.default.INDEX_RESULTS_STYLE.FONT_SIZE_MEDIUM}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ConfirmButton=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),s=a(u),c=n(0),d=a(c),f=n(10),p=(a(f),t.ConfirmButton=function(e){function t(){var e,n,a,i;o(this,t);for(var l=arguments.length,u=Array(l),s=0;s<l;s++)u[s]=arguments[s];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.getIcon=function(){return a.props.showIcon?d.default.createElement("i",{className:"icon "+a.props.customIcon}):null},i=n,r(a,i)}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.onClick,n=e.buttonType,a=e.id,o=e.style,r=e.text,i=e.disabled;return d.default.createElement("button",{onClick:t,type:"submit",disabled:i,"data-id":this.props["data-id"],className:"btn save "+n,id:a,style:o},this.getIcon(),r)}}]),t}(d.default.Component));p.propTypes={showIcon:s.default.bool,id:s.default.string,customIcon:s.default.string,style:s.default.object,buttonType:s.default.string,"data-id":s.default.string,onClick:s.default.func,disabled:s.default.bool},p.defaultProps={disabled:!1,showIcon:!0,customIcon:"fonticon-ok-circled",buttonType:"btn-primary",style:{},"data-id":null,onClick:function(){}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.CustomMenu=t.MenuDropDown=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(6),s=a(u),c=n(1),d=a(c),f=n(0),p=a(f),h=n(20),m=n(212),_=a(m),g=t.MenuDropDown=function(e){function t(){var e,n,a,i;o(this,t);for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.createSectionLinks=function(e){return e?e.map(function(e,t){return a.createEntry(e,t)}):null},a.createEntry=function(e,t){return p.default.createElement("li",{key:t},p.default.createElement("a",{className:(0,s.default)("icon",e.icon,{"fonticon-placeholder":!e.icon}),"data-bypass":e.external?"true":"",href:e.url,onClick:e.onClick,target:e.external?"_blank":""},e.title))},a.createSectionTitle=function(e,t){return e?p.default.createElement("li",{key:t,className:"header-label"},e):null},a.createSection=function(){return a.props.links.map(function(e,t){return e.title&&e.links?[a.createSectionTitle(e.title,"title_"+t),a.createSectionLinks(e.links)]:a.createEntry(e,"el"+t)})},i=n,r(a,i)}return i(t,e),l(t,[{key:"render",value:function(){var e=this.createSection(),t=this.props.hideArrow?"":"arrow",n="button"===this.props.toggleType?b:y;return p.default.createElement(h.Dropdown,{id:"dropdown-menu"},p.default.createElement(n,{bsRole:"toggle",icon:this.props.icon}),p.default.createElement(E,{bsRole:"menu",className:t},e))}}]),t}(p.default.Component);g.defaultProps={icon:"fonticon-plus-circled",hideArrow:!1,toggleType:"link"},g.propTypes={icon:d.default.string,hideArrow:d.default.bool,links:d.default.array.isRequired,toggleType:d.default.string.isRequired};var b=function(e){function t(e,n){o(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.handleClick=a.handleClick.bind(a),a}return i(t,e),l(t,[{key:"handleClick",value:function(e){e.preventDefault(),this.props.onClick(e)}},{key:"render",value:function(){return p.default.createElement(h.Button,{onClick:this.handleClick},p.default.createElement("i",{className:"dropdown-toggle "+this.props.icon,style:{fontSize:"1rem",boxShadow:"0px 0px 0px"}}),this.props.children)}}]),t}(p.default.Component),y=function(e){function t(e,n){o(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.handleClick=a.handleClick.bind(a),a}return i(t,e),l(t,[{key:"handleClick",value:function(e){e.preventDefault(),this.props.onClick(e)}},{key:"render",value:function(){return p.default.createElement("a",{className:"dropdown-toggle icon "+this.props.icon,style:{fontSize:"1rem",boxShadow:"0px 0px 0px"},onClick:this.handleClick},this.props.children)}}]),t}(p.default.Component),E=t.CustomMenu=function(e){function t(e,n){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.open,a=e.onClose,o=e.className;return p.default.createElement(_.default,{disabled:!n,onRootClose:a},p.default.createElement("ul",{className:(0,s.default)("dropdown-menu",o),role:"menu","aria-labelledby":"dLabel"},t))}}]),t}(p.default.Component)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.TrayWrapper=t.connectToStores=t.TrayContents=void 0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),c=a(s),d=n(0),f=a(d),p=n(10),h=(a(p),n(20)),m=n(113),_=t.TrayContents=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getChildren=function(e){var t=e[0].style,a="tray show-tray "+n.props.className;return f.default.createElement("div",{key:"1",id:n.props.id,style:{opacity:t.opacity,top:t.top+"px"},className:a},n.props.children)},n.willEnter=function(){return{opacity:(0,m.spring)(1),top:(0,m.spring)(55)}},n.willLeave=function(){return{opacity:(0,m.spring)(0),top:(0,m.spring)(30)}},n.getDefaultStyles=function(){return[{key:"1",style:{opacity:0,top:30}}]},n.getStyles=function(e){return e?e.map(function(e){return{key:"1",style:e.style}}):[{key:"1",style:n.willEnter()}]},e.container||(n.container=n),n}return i(t,e),u(t,[{key:"render",value:function(){return f.default.createElement(h.Overlay,{show:this.props.contentVisible,onHide:this.props.closeTray,placement:"bottom",container:this.props.container,rootClose:!0,onEnter:this.props.onEnter},f.default.createElement(m.TransitionMotion,{defaultStyles:this.getDefaultStyles(),styles:this.getStyles(),willLeave:this.willLeave,willEnter:this.willEnter},this.getChildren))}}]),t}(f.default.Component);_.propTypes={contentVisible:c.default.bool.isRequired,closeTray:c.default.func.isRequired,onEnter:c.default.func,container:c.default.object},_.defaultProps={onEnter:function(){}},t.connectToStores=function(e,t,n){return function(a){function s(){var e,t,a,i;o(this,s);for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return t=a=r(this,(e=s.__proto__||Object.getPrototypeOf(s)).call.apply(e,[this].concat(u))),a.state=n(a.props),a.onChange=function(){a.setState(n(a.props))},a.handleStoresChanged=function(){a.setState(n(a.props))},i=t,r(a,i)}return i(s,a),u(s,[{key:"componentDidMount",value:function(){var e=this;t.forEach(function(t){t.on("change",e.onChange,e)})}},{key:"componentWillUnmount",value:function(){t.forEach(function(e){e.off("change",this.onChange)}.bind(this))}},{key:"render",value:function(){return f.default.createElement(e,l({},this.state,this.props))}}]),s}(f.default.Component)},(t.TrayWrapper=function(e){function t(){var e,n,a,i;o(this,t);for(var l=arguments.length,u=Array(l),s=0;s<l;s++)u[s]=arguments[s];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.renderChildren=function(){return f.default.Children.map(a.props.children,function(e){var t={};return Object.keys(a.props).filter(function(e){return a.props.hasOwnProperty(e)}).map(function(e){return t[e]=a.props[e]}),f.default.cloneElement(e,t)})},i=n,r(a,i)}return i(t,e),u(t,[{key:"render",value:function(){return f.default.createElement("div",null,this.renderChildren())}}]),t}(f.default.Component)).defaultProps={className:""}},,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.DeleteDatabaseModal=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),s=a(u),c=n(0),d=a(c),f=n(10),p=(a(f),n(20)),h=n(112),m=a(h);(t.DeleteDatabaseModal=function(e){function t(){var e,n,a,i;o(this,t);for(var l=arguments.length,u=Array(l),s=0;s<l;s++)u[s]=arguments[s];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.state={inputValue:"",disableSubmit:!0},a.close=function(e){e&&e.preventDefault(),a.setState({inputValue:"",disableSubmit:!0}),a.props.showHide({showModal:!1})},a.open=function(){a.props.showHide({showModal:!0})},a.getDatabaseName=function(){return a.props.modalProps.dbId.trim()},a.onInputChange=function(e){var t=e.target.value.trim();a.setState({inputValue:t}),a.setState({disableSubmit:t!==a.getDatabaseName()})},a.onDeleteClick=function(e){e.preventDefault(),m.default.deleteDatabase(a.getDatabaseName(),a.props.onSuccess)},a.onInputKeypress=function(e){13===e.keyCode&&!0!==a.state.disableSubmit&&m.default.deleteDatabase(a.getDatabaseName(),a.props.onSuccess)},i=n,r(a,i)}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.modalProps.isSystemDatabase,t=this.props.modalProps.showDeleteModal,n=this.props.modalProps.dbId,a=e?d.default.createElement("p",{style:{color:"#d14"},className:"warning"},d.default.createElement("b",null,"You are about to delete a system database, be careful!")):null;return d.default.createElement(p.Modal,{dialogClassName:"delete-db-modal",show:t,onHide:this.close},d.default.createElement(p.Modal.Header,{closeButton:!0},d.default.createElement(p.Modal.Title,null,"Confirm Deletion")),d.default.createElement(p.Modal.Body,null,a,d.default.createElement("p",null,"Warning: This action will permanently delete ",d.default.createElement("code",null,n),". To confirm the deletion of the database and all of the database's documents, you must enter the database's name."),d.default.createElement("input",{type:"text",className:"input-block-level",onKeyUp:this.onInputKeypress,onChange:this.onInputChange,autoFocus:!0})),d.default.createElement(p.Modal.Footer,null,d.default.createElement("a",{href:"#",onClick:this.close,"data-bypass":"true",className:"cancel-link"},"Cancel"),d.default.createElement("button",{disabled:this.state.disableSubmit,onClick:this.onDeleteClick,className:"btn btn-danger delete"},d.default.createElement("i",{className:"icon icon-trash"})," Delete Database")))}}]),t}(d.default.Component)).propTypes={showHide:s.default.func.isRequired,modalProps:s.default.object,onSuccess:s.default.func}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.RefreshBtn=t.Polling=t.resetPollCounter=t.clearPollCounter=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),s=a(u),c=n(0),d=a(c),f=n(10),p=(a(f),n(811)),h=a(p),m=void 0,_=t.clearPollCounter=function(){m&&window.clearInterval(m)},g=t.resetPollCounter=function(e,t){_(),m=window.setInterval(t,e)},b=function(e,t,n,a){var o=parseInt(e,10);if(0===o||o>n||o<a)return"off";if(o<60&&"minute"===t)return o+" seconds";var r=o;return"minute"===t&&(r=Math.floor(o/60)),r+" "+(1===r?t:t+"s")},y=t.Polling=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={value:n.props.startValue},n.updatePollingFreq=n.updatePollingFreq.bind(n),n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this.setPollingCounter(this.state.value)}},{key:"componentWillUnmount",value:function(){_()}},{key:"setPollingCounter",value:function(e){var t=this.props,n=t.min,a=t.max,o=t.onPoll;if(this.setState({value:e}),0===e||e<n||e>a)return void _();g(1e3*e,function(){return o()})}},{key:"updatePollingFreq",value:function(e){this.setPollingCounter(parseInt(e.target.value,10))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.startValue!==e.startValue&&this.setPollingCounter(e.startValue)}},{key:"render",value:function(){var e=this.props,t=e.stepSize,n=e.min,a=e.max,o=e.valueUnits,r=this.state.value,i=b(r,o,a,n),l="off"===i?"faux__polling-info-value--off":"faux__polling-info-value--active";return d.default.createElement("div",{className:"faux__polling"},d.default.createElement("div",{className:"faux__polling-info"},d.default.createElement("span",{className:"faux__polling-info-text"},"Polling Interval"),d.default.createElement("span",{className:"faux__polling-info-value faux__polling-info-value "+l},i)),d.default.createElement(h.default,{onChange:this.updatePollingFreq,className:"faux__polling-info-slider",type:"range",value:r,min:n,max:a+t,step:t}))}}]),t}(d.default.Component);y.defaultProps={startValue:0,min:0,valueUnits:"minute"},y.propTypes={startValue:s.default.number,valueUnits:s.default.string,min:s.default.number,max:s.default.number.isRequired,stepSize:s.default.number.isRequired,onPoll:s.default.func.isRequired},(t.RefreshBtn=function(e){var t=e.refresh;return d.default.createElement("div",{className:"faux__refresh-btn"},d.default.createElement("a",{className:"faux__refresh-link",href:"#","data-bypass":"true",onClick:function(e){e.preventDefault(),t()}},d.default.createElement("i",{className:"faux__refresh-icon fonticon-arrows-cw"}),"Refresh"))}).propTypes={refresh:s.default.func.isRequired}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Copy=t.destroyClipboard=t.initializeClipboard=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),s=a(u),c=n(0),d=a(c),f=n(10),p=(a(f),n(882)),h=a(p),m=void 0,_=t.initializeClipboard=function(e,t){m=new h.default("#copy-"+e),m.on("success",function(){t()})},g=t.destroyClipboard=function(){m.destroy()},b=t.Copy=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"componentDidMount",value:function(){_(this.props.uniqueKey,this.props.onClipboardClick)}},{key:"componentWillUnmount",value:function(){g()}},{key:"componentDidUpdate",value:function(){_(this.props.uniqueKey,this.props.onClipboardClick)}},{key:"getClipboardElement",value:function(){return"icon"===this.props.displayType?d.default.createElement("i",{className:"fontawesome icon-paste"}):this.props.textDisplay}},{key:"getClipboardButton",value:function(){var e="input"===this.props.displayType?"btn copy-button":"copy clipboard-copy-element";return d.default.createElement("button",{className:e,"data-clipboard-text":this.props.text,title:this.props.title,id:"copy-"+this.props.uniqueKey},this.getClipboardElement())}},{key:"render",value:function(){return"input"===this.props.displayType?d.default.createElement("p",null,d.default.createElement("input",{type:"text",className:"input-xxlarge text-field-to-copy",readOnly:!0,value:this.props.text}),this.getClipboardButton()):this.getClipboardButton()}}]),t}(d.default.Component);b.defaultProps={displayType:"icon",textDisplay:"Copy",title:"Copy to clipboard",onClipboardClick:function(){}},b.propTypes={text:s.default.string.isRequired,displayType:s.default.oneOf(["icon","text","input"]),uniqueKey:s.default.string.isRequired,onClipboardClick:s.default.func.isRequired}},,,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.TabWindowWrapper=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(2),s=a(u),c=n(1),d=a(c),f=n(0),p=a(f),h=n(152);(t.TabWindowWrapper=function(e){function t(e){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.selectedTab,n=e.tabs,a=n.map(function(e,n){return p.default.createElement(h.TabElement,{key:n,selected:e.name===t,text:e.name,badgeText:e.badgeText,onChange:function(){s.default.navigate(e.route,{redirect:!0})},iconClass:""})}),o=n.reduce(function(e,n){return n.name===t?n:e},{});return o.component?p.default.createElement("div",{className:"tab__wrapper"},p.default.createElement(h.TabElementWrapper,null,a),p.default.createElement("div",{className:"tab__container"},p.default.createElement(o.component,null))):null}}]),t}(p.default.Component)).propTypes={tabs:d.default.array.isRequired,selectedTab:d.default.string.isRequired}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ThrottledReactSelectAsync=void 0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),c=a(s),d=n(10),f=(a(d),n(77)),p=a(f);t.ThrottledReactSelectAsync=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.lastCall=void 0;var a=e.loadOptions;return n.throttledLoadOptions=n.wrapThrottler(a).bind(n),n}return i(t,e),u(t,[{key:"wrapThrottler",value:function(e){var t=this;return e?function(n,a){t.lastCall&&clearTimeout(t.lastCall),t.lastCall=setTimeout(function(){e(n,a)},400)}:function(){}}},{key:"render",value:function(){var e=l({},this.props,{loadOptions:this.throttledLoadOptions});return c.default.createElement(p.default.Async,e)}}]),t}(c.default.Component)},,function(e,t,n){"use strict";function a(e){return!(!e||!e.props||!0!==e.props.partitioned)}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];switch(t.type){case l.default.DATABASES_PARTITIONED_DB_AVAILABLE:return r({},e,{partitionedDatabasesAvailable:t.options.available});case l.default.DATABASES_FETCH_SELECTED_DB_METADATA:return r({},e,{isLoadingDbInfo:!0,dbInfo:void 0,isDbPartitioned:!1});case l.default.DATABASES_FETCH_SELECTED_DB_METADATA_SUCCESS:return r({},e,{isLoadingDbInfo:!1,dbInfo:t.options.metadata,isDbPartitioned:a(t.options.metadata)});default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.isPartitioned=a,t.default=o;var i=n(186),l=function(e){return e&&e.__esModule?e:{default:e}}(i),u={partitionedDatabasesAvailable:!1,isLoadingDbInfo:!0,dbInfo:void 0,isDbPartitioned:!1}},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e){return e||(e=""),e}function r(e){return e?"/_partition/"+e:""}Object.defineProperty(t,"__esModule",{value:!0});var i=n(11),l=a(i),u=n(19),s=a(u),c=n(2),d=a(c),f=n(896),p=a(f),h=n(988),m=a(h),g=n(122),b=a(g),y=n(989),E=a(y),v=n(411),O=a(v),D=n(991),N=a(D),T=n(428),S=a(T),w=n(992),C=a(w),R=n(993),I=a(R),A=n(409),P=a(A);n(994),d.default.addReducers({indexResults:b.default,mangoQuery:E.default,sidebar:O.default,revisionBrowser:S.default,partitionKey:N.default,docEditor:C.default,changes:I.default,designDocInfo:m.default,indexEditor:P.default}),d.default.registerUrls("allDocs",{server:function(e,t){return s.default.getServerUrl("/"+e+"/_all_docs"+o(t))},app:function(e,t,n){return"database/"+e+r(t)+"/_all_docs"+o(n)},apiurl:function(e,t){return s.default.getApiUrl("/"+e+"/_all_docs"+o(t))}}),d.default.registerUrls("partitioned_allDocs",{app:function(e,t,n){return"database/"+e+"/_partition/"+t+"/_all_docs"+o(n)}}),d.default.registerUrls("allDocsSanitized",{server:function(e,t){return e=encodeURIComponent(e),s.default.getServerUrl("/"+e+"/_all_docs"+o(t))},app:function(e,t){return"database/"+(e=encodeURIComponent(e))+"/_all_docs"+o(t)},apiurl:function(e,t){return e=encodeURIComponent(e),s.default.getApiUrl("/"+e+"/_all_docs"+o(t))}}),d.default.registerUrls("bulk_docs",{server:function(e,t){return s.default.getServerUrl("/"+encodeURIComponent(e)+"/_bulk_docs"+o(t))},app:function(e,t){return"database/"+e+"/_bulk_docs"+o(t)},apiurl:function(e,t){return s.default.getApiUrl("/"+e+"/_bulk_docs"+o(t))}}),d.default.registerUrls("revision-browser",{app:function(e,t){return"database/"+e+"/"+t+"/conflicts"}}),d.default.registerUrls("designDocs",{server:function(e,t){return s.default.getServerUrl("/"+e+"/"+t+"/_info")},app:function(e,t,n){return"database/"+e+r(t)+"/_design/"+l.default.utils.safeURLName(n)+"/_info"},apiurl:function(e,t){return s.default.getApiUrl("/"+e+"/"+t+"/_info")}}),d.default.registerUrls("view",{server:function(e,t,n,a){return s.default.getServerUrl("/"+e+r(t)+"/_design/"+n+"/_view/"+a)},app:function(e,t){return"database/"+e+"/_design/"+t+"/_view/"},apiurl:function(e,t,n,a){return s.default.getApiUrl("/"+e+r(t)+"/_design/"+n+"/_view/"+a)},edit:function(e,t,n,a){return"database/"+e+r(t)+"/_design/"+n+"/_view/"+a+"/edit"},showView:function(e,t,n,a){return"/database/"+e+r(t)+"/"+n+"/_view/"+a},fragment:function(e,t,n){return"database/"+e+t+"/_view/"+n}}),d.default.registerUrls("partitioned_view",{server:function(e,t,n,a){return s.default.getServerUrl("/"+e+"/_partition/"+t+"/_design/"+n+"/_view/"+a)},app:function(e,t,n){return"database/"+e+"/_partition/"+t+"/_design/"+n+"/_view/"},apiurl:function(e,t,n,a){return s.default.getApiUrl("/"+e+"/_partition/"+t+"/_design/"+n+"/_view/"+a)}}),d.default.registerUrls("document",{server:function(e,t,n){return _.isUndefined(n)&&(n=""),s.default.getServerUrl("/"+e+"/"+t+n)},attachment:function(e,t,n,a){return _.isUndefined(a)&&(a=""),s.default.getServerUrl("/"+e+"/"+t+"/"+n+a)},app:function(e,t){return"/database/"+e+"/"+t},apiurl:function(e,t){return t?s.default.getApiUrl("/"+e+"/"+t):s.default.getApiUrl("/"+e)},"web-index":function(e,t){return"/database/"+e+"/"+t}}),d.default.registerUrls("new",{newDocument:function(e){return"/database/"+e+"/_new"},newView:function(e,t){return"/database/"+e+r(t)+"/new_view"},addView:function(e,t,n){return"/database/"+e+r(t)+"/new_view/"+n}}),d.default.registerUrls("base",{server:function(e){return s.default.getServerUrl("/"+e+"/")},app:function(e){return"/database/"+e+"/"}}),d.default.registerUrls("mango",{"index-server":function(e,t){return t||(t=""),s.default.getServerUrl("/"+e+"/_index"+t)},"index-apiurl":function(e,t,n){return n||(n=""),s.default.getApiUrl("/"+e+r(t)+"/_index"+n)},"index-app":function(e,t,n){return n||(n=""),"database/"+e+r(t)+"/_index"+n},"index-server-bulk-delete":function(e){return s.default.getServerUrl("/"+e+"/_index/_bulk_delete")},"query-server":function(e,t,n){return n||(n=""),s.default.getServerUrl("/"+e+r(t)+"/_find"+n)},"query-apiurl":function(e,t,n){return n||(n=""),s.default.getApiUrl("/"+e+r(t)+"/_find"+n)},"query-app":function(e,t,n){return n||(n=""),"database/"+e+r(t)+"/_find"+n},"explain-server":function(e,t){return s.default.getServerUrl("/"+e+r(t)+"/_explain")},"explain-apiurl":function(e,t){return s.default.getApiUrl("/"+e+r(t)+"/_explain")}}),t.default=p.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(137),r=a(o),i=n(897),l=a(i),u=n(943),s=a(u),c=n(978),d=a(c),f=n(979),p=a(f);r.default.RouteObjects=[s.default.DocEditorRouteObject,l.default,d.default,p.default.MangoIndexEditorAndQueryEditor],t.default=r.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=a(o),i=n(2),l=a(i),u=n(246),s=a(u),c=n(70),d=a(c),f=n(80),p=a(f),h=n(81),m=a(h),_=n(247),g=n(112),b=a(g),y=n(248),E=s.default.extend({routes:{"database/:database/_partition/:partitionkey/_all_docs":{route:"partitionedAllDocs",roles:["fx_loggedIn"]},"database/:database/_all_docs(:extra)":{route:"globalAllDocs",roles:["fx_loggedIn"]},"database/:database/_partition/:partitionkey/_design/:ddoc/_info":{route:"designDocMetadata",roles:["fx_loggedIn"]},"database/:database/_design/:ddoc/_info":{route:"designDocMetadataNoPartition",roles:["fx_loggedIn"]},"database/:database/_partition/:partitionKey/_changes":{route:"changes",roles:["fx_loggedIn"]},"database/:database/_changes":{route:"changes",roles:["fx_loggedIn"]}},initialize:function(e,t){this.initViews(t[0])},initViews:function(e){this.databaseName=e,this.database=new p.default.Model({id:this.databaseName}),this.createDesignDocsCollection(),this.addSidebar()},designDocMetadataNoPartition:function(e,t){return this.designDocMetadata(e,"",t)},designDocMetadata:function(e,t,n){var a=new m.default.DdocInfo({_id:"_design/"+n},{database:this.database}),o=new _.SidebarItemSelection("designDoc",{designDocName:n,designDocSection:"metadata"});d.default.fetchSelectedDatabaseInfo(e);var i=this.getCrumbs(this.database);return r.default.createElement(y.ViewsTabsSidebarLayout,{showEditView:!1,docURL:a.documentation(),endpoint:a.url("apiurl"),dbName:this.database.id,dropDownLinks:i,database:this.database,selectedNavItem:o,designDocInfo:a,partitionKey:t})},globalAllDocs:function(e,t){return this.allDocs(e,"",t)},partitionedAllDocs:function(e,t){return this.allDocs(e,t)},allDocs:function(e,t,n){var a=this.createParams(n),o=a.docParams,i=l.default.urls("allDocsSanitized","server",e);this.database.buildAllDocs(o);var u=!!(o.startkey&&o.startkey.indexOf("_design")>-1),s="all-docs";u&&(s="design-docs");var c=new _.SidebarItemSelection(s);b.default.showDeleteDatabaseModal({showDeleteModal:!1,dbId:""});var f=this.database.allDocs.urlRef("apiurl",{}),p=l.default.constants.DOC_URLS.GENERAL,h=function(t){var n=l.default.urls("partitioned_allDocs","app",encodeURIComponent(e),encodeURIComponent(t));l.default.navigate("#/"+n)},m=function(){var t=l.default.urls("allDocs","app",encodeURIComponent(e));l.default.navigate("#/"+t)},g=this.getCrumbs(this.database);return d.default.fetchSelectedDatabaseInfo(e),r.default.createElement(y.DocsTabsSidebarLayout,{docURL:p,endpoint:f,dbName:this.database.id,dropDownLinks:g,database:this.database,designDocs:this.designDocs,fetchUrl:i,ddocsOnly:u,selectedNavItem:c,partitionKey:t,onPartitionKeySelected:h,onGlobalModeSelected:m,globalMode:""===t})},changes:function(e,t){var n=new _.SidebarItemSelection("changes");return d.default.fetchSelectedDatabaseInfo(e),r.default.createElement(y.ChangesSidebarLayout,{endpoint:l.default.urls("changes","apiurl",this.database.id,""),docURL:this.database.documentation(),dbName:this.database.id,dropDownLinks:this.getCrumbs(this.database),database:this.database,selectedNavItem:n,partitionKey:t})}});t.default=E},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(403),r=a(o),i=n(410),l=a(i),u=n(901),s=a(u);t.default={SidebarController:s.default,DesignDoc:l.default,CloneIndexModal:r.default}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(14),r=n(406),i=a(r),l=n(249),u=a(l),s=n(409),c=function(e,t){var n=e.indexEditor,a=e.databases,o=(0,s.getSelectedDesignDocPartitioned)(n,a.isDbPartitioned);return{database:n.database,isNewView:n.isNewView,viewName:n.viewName,designDocs:n.designDocs,designDocList:(0,s.getDesignDocList)(n),originalViewName:n.originalViewName,originalDesignDocName:n.originalDesignDocName,isNewDesignDoc:n.isNewDesignDoc,designDocId:n.designDocId,designDocPartitioned:o,newDesignDocName:n.newDesignDocName,newDesignDocPartitioned:n.newDesignDocPartitioned,saveDesignDoc:(0,s.getSaveDesignDoc)(n,a.isDbPartitioned),map:n.view.map,isLoading:n.isLoading,reduce:n.view.reduce,reduceOptions:n.reduceOptions,reduceSelectedOption:(0,s.reduceSelectedOption)(n),hasCustomReduce:(0,s.hasCustomReduce)(n),hasReduce:!!n.view.reduce,isDbPartitioned:a.isDbPartitioned,partitionKey:t.partitionKey}},d=function(e){return{saveView:function(t,n){e(u.default.saveView(t,n))},changeViewName:function(t){e(u.default.changeViewName(t))},updateMapCode:function(t){e(u.default.updateMapCode(t))},selectDesignDoc:function(t){e(u.default.selectDesignDoc(t))},updateNewDesignDocName:function(t){e(u.default.updateNewDesignDocName(t))},updateNewDesignDocPartitioned:function(t){e(u.default.updateNewDesignDocPartitioned(t))},updateReduceCode:function(t){e(u.default.updateReduceCode(t))},selectReduceChanged:function(t){e(u.default.selectReduceChanged(t))}}},f=(0,o.connect)(c,d)(i.default);t.default=f},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),s=a(u),c=n(0),d=a(c),f=n(20),p=n(10),h=(a(p),n(2)),m=a(h),g=function(e){function t(){var e,n,a,i;o(this,t);for(var l=arguments.length,u=Array(l),s=0;s<l;s++)u[s]=arguments[s];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.state={placement:"bottom"},a.setPlacement=function(e){var t=document.getElementById(e).getBoundingClientRect().top,n=t+150>window.innerHeight?"top":"bottom";a.setState({placement:n})},a.createItems=function(){var e=a.props.items.sort();return _.map(e,function(e,t){var n=m.default.urls(a.props.urlNamespace,"app",encodeURIComponent(a.props.database.id),encodeURIComponent(a.props.designDocName));a.props.selectedPartitionKey&&(n=m.default.urls("partitioned_"+a.props.urlNamespace,"app",encodeURIComponent(a.props.database.id),encodeURIComponent(a.props.selectedPartitionKey),encodeURIComponent(a.props.designDocName)));var o=a.props.selectedIndex===e?"active":"";return d.default.createElement("li",{className:o,key:t},d.default.createElement("a",{id:a.props.designDocName+"_"+e,href:"#/"+n+encodeURIComponent(e),className:"toggle-view"},e),d.default.createElement(f.OverlayTrigger,{trigger:"click",onEnter:a.setPlacement.bind(a,a.props.designDocName+"_"+e),placement:a.state.placement,rootClose:!0,ref:function(e){return a.itemOverlay=e},overlay:d.default.createElement(f.Popover,{id:"index-menu-component-popover"},d.default.createElement("ul",null,d.default.createElement("li",{onClick:a.indexAction.bind(a,"edit",{indexName:e,onEdit:a.props.onEdit})},d.default.createElement("span",{className:"fonticon fonticon-file-code-o"}),"Edit"),d.default.createElement("li",{onClick:a.indexAction.bind(a,"clone",{indexName:e,onClone:a.props.onClone})},d.default.createElement("span",{className:"fonticon fonticon-files-o"}),"Clone"),d.default.createElement("li",{onClick:a.indexAction.bind(a,"delete",{indexName:e,onDelete:a.props.onDelete})},d.default.createElement("span",{className:"fonticon fonticon-trash"}),"Delete")))},d.default.createElement("span",{className:"index-menu-toggle fonticon fonticon-wrench2"})))})},a.indexAction=function(e,t,n){switch(n.preventDefault(),a.itemOverlay.hide(),e){case"delete":a.props.showDeleteIndexModal(t.indexName,a.props.designDocName,a.props.indexLabel,t.onDelete);break;case"clone":a.props.showCloneIndexModal(t.indexName,a.props.designDocName,a.props.indexLabel,t.onClone);break;case"edit":t.onEdit(a.props.database.id,a.props.selectedPartitionKey,a.props.designDocName,t.indexName)}},a.toggle=function(e){e.preventDefault(),a.props.toggle(a.props.designDocName,a.props.title)},i=n,r(a,i)}return i(t,e),l(t,[{key:"render",value:function(){if(0===this.props.items.length)return null;var e="accordion-header index-group-header",t="index-list accordion-body collapse";this.props.isExpanded&&(e+=" down",t+=" in");var n=this.props.title,a=this.props.designDocName,o="nav-design-function-"+a+this.props.selector;return d.default.createElement("li",{id:o},d.default.createElement("a",{className:e,"data-toggle":"collapse",onClick:this.toggle},d.default.createElement("div",{className:"fonticon-play"}),n),d.default.createElement(f.Collapse,{in:this.props.isExpanded},d.default.createElement("ul",{className:t},this.createItems())))}}]),t}(d.default.Component);g.propTypes={urlNamespace:s.default.string.isRequired,indexLabel:s.default.string.isRequired,database:s.default.object.isRequired,designDocName:s.default.string.isRequired,items:s.default.array.isRequired,isExpanded:s.default.bool.isRequired,selectedIndex:s.default.string.isRequired,onDelete:s.default.func.isRequired,onClone:s.default.func.isRequired,showDeleteIndexModal:s.default.func.isRequired,showCloneIndexModal:s.default.func.isRequired,isPartitioned:s.default.bool.isRequired,selectedPartitionKey:s.default.string},t.default=g},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),s=a(u),c=n(0),d=a(c),f=n(112),p=a(f),h=n(13),m=a(h),_=n(399),g=a(_),b=n(78),y=a(b),E=n(403),v=a(E),O=n(902),D=a(O),N=n(903),T=a(N),S=m.default.DeleteDatabaseModal,w=m.default.LoadLines,C=y.default.ConfirmationModal,R=g.default.deleteDbModalStore,I=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onChange=function(){var e=n.getDeleteDbStoreState();n.setState(e)},n.showDeleteDatabaseModal=function(e){p.default.showDeleteDatabaseModal(e)},n.deleteIndex=function(){var e="designDoc"===n.props.selectedNav.navItem&&"_design/"+n.props.selectedNav.designDocName===n.props.deleteIndexModalDesignDoc.id&&n.props.selectedNav.indexName===n.props.deleteIndexModalIndexName;n.props.deleteIndexModalOnSubmit({isOnIndex:e,indexName:n.props.deleteIndexModalIndexName,designDoc:n.props.deleteIndexModalDesignDoc,designDocs:n.props.designDocs,database:n.props.database})},n.cloneIndex=function(){n.props.cloneIndexModalOnSubmit({sourceIndexName:n.props.cloneIndexSourceIndexName,sourceDesignDocName:n.props.cloneIndexSourceDesignDocName,targetDesignDocName:n.props.cloneIndexModalSelectedDesignDoc,newDesignDocName:n.props.cloneIndexModalNewDesignDocName,newDesignDocPartitioned:n.props.cloneIndexModalNewDesignDocPartitioned,isDbPartitioned:n.props.isDbPartitioned,newIndexName:n.props.cloneIndexModalNewIndexName,designDocs:n.props.designDocs,database:n.props.database,onComplete:n.props.hideCloneIndexModal})},n.state=n.getDeleteDbStoreState(),n.deleteIndex=n.deleteIndex.bind(n),n.cloneIndex=n.cloneIndex.bind(n),n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){R.on("change",this.onChange,this)}},{key:"componentWillUnmount",value:function(){R.off("change",this.onChange,this)}},{key:"getDeleteDbStoreState",value:function(){return{deleteDbModalProperties:R.getShowDeleteDatabaseModal()}}},{key:"render",value:function(){return this.props.isLoading?d.default.createElement(w,null):d.default.createElement("nav",{className:"sidenav"},d.default.createElement(T.default,{selectedNavItem:this.props.selectedNav.navItem,databaseName:this.props.database.id,selectedPartitionKey:this.props.selectedPartitionKey}),d.default.createElement(D.default,{selectedNav:this.props.selectedNav,selectedPartitionKey:this.props.selectedPartitionKey,isDbPartitioned:this.props.isDbPartitioned,toggle:this.props.toggleContent,toggledSections:this.props.toggledSections,designDocs:this.props.designDocList,database:this.props.database,showDeleteIndexModal:this.props.showDeleteIndexModal,showCloneIndexModal:this.props.showCloneIndexModal}),d.default.createElement(S,{showHide:this.showDeleteDatabaseModal,modalProps:this.state.deleteDbModalProperties}),d.default.createElement(C,{title:"Confirm Deletion",visible:this.props.deleteIndexModalVisible,text:this.props.deleteIndexModalText,onClose:this.props.hideDeleteIndexModal,onSubmit:this.deleteIndex}),d.default.createElement(v.default,{visible:this.props.cloneIndexModalVisible,title:this.props.cloneIndexModalTitle,close:this.props.hideCloneIndexModal,submit:this.cloneIndex,designDocArray:this.props.availableDesignDocIds,selectedDesignDoc:this.props.cloneIndexModalSelectedDesignDoc,selectedDesignDocPartitioned:this.props.cloneIndexModalSelectedDesignDocPartitioned,newDesignDocName:this.props.cloneIndexModalNewDesignDocName,newDesignDocPartitioned:this.props.cloneIndexModalNewDesignDocPartitioned,newIndexName:this.props.cloneIndexModalNewIndexName,indexLabel:this.props.cloneIndexModalIndexLabel,selectDesignDoc:this.props.selectDesignDoc,updateNewDesignDocName:this.props.updateNewDesignDocName,updateNewDesignDocPartitioned:this.props.updateNewDesignDocPartitioned,setNewCloneIndexName:this.props.setNewCloneIndexName,isDbPartitioned:this.props.isDbPartitioned}))}}]),t}(d.default.Component);I.propTypes={selectedNav:s.default.shape({designDocName:s.default.string,designDocSection:s.default.string,indexName:s.default.string,navItem:s.default.string}).isRequired},t.default=I},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),s=a(u),c=n(0),d=a(c),f=n(2),p=a(f),h=n(40),m=a(h),g=n(410),b=a(g),y=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.designDocList=function(){return _.map(n.props.designDocs,function(e,t){var a=decodeURIComponent(e.safeId),o=m.default.isDDocPartitioned(e,n.props.isDbPartitioned),r=!1,i={};_.has(n.props.toggledSections,a)&&(r=n.props.toggledSections[a].visible,i=n.props.toggledSections[a].indexGroups);var l={};return"designDoc"===n.props.selectedNav.navItem&&n.props.selectedNav.designDocName===a&&(l=n.props.selectedNav),d.default.createElement(b.default,{toggle:n.props.toggle,sidebarListTypes:n.sidebarListTypes,isExpanded:r,toggledSections:i,selectedNavInfo:l,selectedPartitionKey:n.props.selectedPartitionKey,isPartitioned:o,key:t,designDoc:e,designDocName:a,database:n.props.database,showDeleteIndexModal:n.props.showDeleteIndexModal,showCloneIndexModal:n.props.showCloneIndexModal})})};var a=p.default.getExtensions("sidebar:list");return n.sidebarListTypes=_.isUndefined(a)?[]:a,n}return i(t,e),l(t,[{key:"render",value:function(){return d.default.createElement("ul",{className:"nav nav-list"},this.designDocList())}}]),t}(d.default.Component);y.propTypes={database:s.default.object.isRequired,toggle:s.default.func.isRequired,designDocs:s.default.array,toggledSections:s.default.object,selectedNav:s.default.shape({designDocName:s.default.string,designDocSection:s.default.string,indexName:s.default.string,navItem:s.default.string}).isRequired,isDbPartitioned:s.default.bool.isRequired,selectedPartitionKey:s.default.string,showDeleteIndexModal:s.default.func.isRequired,showCloneIndexModal:s.default.func.isRequired},t.default=y},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),s=a(u),c=n(0),d=a(c),f=n(2),p=a(f),h=n(40),m=a(h),_=n(13),g=a(_),b=g.default.MenuDropDown,y=function(e){function t(){var e,n,a,i;o(this,t);for(var l=arguments.length,u=Array(l),s=0;s<l;s++)u[s]=arguments[s];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.getNewButtonLinks=function(){return m.default.getNewButtonLinks(a.props.databaseName,a.props.selectedPartitionKey)},a.buildDocLinks=function(){var e=p.default.urls("base","app",a.props.databaseName);return p.default.getExtensions("docLinks").map(function(t){return d.default.createElement("li",{key:t.url,className:a.getNavItemClass(t.url)},d.default.createElement("a",{id:t.url,href:e+t.url},t.title))})},a.getNavItemClass=function(e){return e===a.props.selectedNavItem?"active":""},i=n,r(a,i)}return i(t,e),l(t,[{key:"render",value:function(){var e=this.buildDocLinks(),t=p.default.url.encode(this.props.databaseName),n=this.props.selectedPartitionKey?encodeURIComponent(this.props.selectedPartitionKey):"",a="#"+p.default.urls("changes","app",t,n,""),o=p.default.urls("allDocs","app",t,n,""),r=this.getNewButtonLinks();return d.default.createElement("ul",{className:"nav nav-list"},d.default.createElement("li",{className:this.getNavItemClass("all-docs")},d.default.createElement("a",{id:"all-docs",href:"#/"+o,className:"toggle-view"},"All Documents"),d.default.createElement("div",{id:"new-all-docs-button",className:"add-dropdown"},d.default.createElement(b,{links:r}))),d.default.createElement("li",{className:this.getNavItemClass("changes")},d.default.createElement("a",{id:"changes",href:a},"Changes")),e)}}]),t}(d.default.Component);y.propTypes={databaseName:s.default.string.isRequired,selectedNavItem:s.default.string.isRequired,selectedPartitionKey:s.default.string},t.default=y},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e){return f.default.getModifyDatabaseLinks(e)}function r(e,t){var n=f.default.getNewButtonLinks(e,t);return o(e).concat(n)}function i(e){return e.map(function(e,t){if(e.title&&e.links){var n=e.links.map(function(e){return c.default.createElement(_,{key:e.title,onClick:e.onClick,icon:e.icon,url:e.url},e.title)});return[c.default.createElement("li",{key:e.title,className:"header-label"},e.title),n]}return c.default.createElement(_,{icon:e.icon,url:e.url,onClick:e.onClick,key:t},e.title)})}Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),u=a(l),s=n(0),c=a(s),d=n(40),f=a(d),p=n(2),h=a(p),m=n(20),_=function(e){var t=e.url,n=e.icon,a=e.onClick,o=e.children;return c.default.createElement("li",{role:"presentation"},c.default.createElement("a",{className:"faux-header__doc-header-dropdown-item",onClick:a,href:t},c.default.createElement("i",{className:n})," ",o))},g=function(e){var t=e.dbName,n=e.partitionKey,a=r(t,n),o=i(a);return c.default.createElement("div",{className:"faux-header__doc-header-left"},c.default.createElement("button",{type:"button",className:"faux-header__doc-header-backlink",onClick:function(){h.default.navigate("#/_all_dbs")}},c.default.createElement("i",{className:"faux-header__doc-header-backlink__icon fonticon fonticon-left-open"})),c.default.createElement("div",{className:"faux-header__doc-header-title flex-fill",title:t},t),c.default.createElement(m.Dropdown,{id:"faux-header__doc-header-left-1"},c.default.createElement(m.Dropdown.Toggle,{noCaret:!0,className:"faux-header__doc-header-dropdown-toggle"},c.default.createElement("i",{className:"faux-header__doc-header-dropdown-toggle-icon fonticon-vertical-ellipsis"})),c.default.createElement(m.Dropdown.Menu,{className:"faux-header__doc-header-dropdown-itemwrapper"},o)))};g.propTypes={dbName:u.default.string.isRequired,partitionKey:u.default.string},t.default=g},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(14),r=n(906),i=a(r),l=n(414),u=a(l),s=function(e,t){var n=e.changes;return{changes:n.filteredChanges,loaded:n.isLoaded,databaseName:t.databaseName,isShowingSubset:n.showingSubset}},c=function(e){return{loadChanges:function(t){e(u.default.loadChanges(t))}}},d=(0,o.connect)(s,c)(i.default);t.default=d},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),s=a(u),c=n(0),d=a(c),f=n(10),p=(a(f),n(907)),h=a(p),m=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.props.loadChanges(n.props.databaseName),n}return i(t,e),l(t,[{key:"showingSubsetMsg",value:function(){var e=this.props,t=e.isShowingSubset,n=e.changes,a="";if(t){var o=n.length;a=d.default.createElement("p",{className:"changes-result-limit"},"Limiting results to latest ",d.default.createElement("b",null,o)," changes.")}return a}},{key:"getRows",value:function(){var e=this.props,t=e.changes,n=e.loaded,a=e.databaseName;return!t.length&&n?d.default.createElement("p",{className:"no-doc-changes"},"There are no document changes to display."):t.map(function(e,t){return d.default.createElement(h.default,{change:e,key:t,databaseName:a})})}},{key:"render",value:function(){return d.default.createElement("div",null,d.default.createElement("div",{className:"js-changes-view"},this.showingSubsetMsg(),this.getRows()))}}]),t}(d.default.Component);t.default=m,m.propTypes={changes:s.default.array.isRequired,loaded:s.default.bool.isRequired,databaseName:s.default.string.isRequired,isShowingSubset:s.default.bool.isRequired,loadChanges:s.default.func.isRequired}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),s=a(u),c=n(0),d=a(c),f=n(10),p=(a(f),n(91)),h=a(p),m=n(2),_=a(m),g=n(78),b=a(g),y=n(13),E=a(y),v=n(910),O=a(v),D=n(911),N=a(D),T=E.default.Copy,S=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={codeVisible:!1},n}return i(t,e),l(t,[{key:"toggleJSON",value:function(e){e.preventDefault(),this.setState({codeVisible:!this.state.codeVisible})}},{key:"getChangesCode",value:function(){return this.state.codeVisible?d.default.createElement(b.default.CodeFormat,{key:"changesCodeSection",code:this.getChangeCode()}):null}},{key:"getChangeCode",value:function(){return{changes:this.props.change.changes,doc:this.props.change.doc}}},{key:"showCopiedMessage",value:function(e){var t="The document ID has been copied to your clipboard.";"seq"===e&&(t="The document seq number has been copied to your clipboard."),_.default.addNotification({msg:t,type:"info",clear:!0})}},{key:"render",value:function(){var e=this,t=this.state.codeVisible,n=this.props,a=n.change,o=n.databaseName,r="change-wrapper"+(a.isNew?" new-change-row":"");return d.default.createElement("div",{className:r},d.default.createElement("div",{className:"change-box","data-id":a.id},d.default.createElement("div",{className:"row-fluid"},d.default.createElement("div",{className:"span2"},"seq"),d.default.createElement("div",{className:"span8 change-sequence"},a.seq),d.default.createElement("div",{className:"span2 text-right"},d.default.createElement(T,{uniqueKey:h.default.v4(),text:a.seq.toString(),onClipboardClick:function(){return e.showCopiedMessage("seq")}}))),d.default.createElement("div",{className:"row-fluid"},d.default.createElement("div",{className:"span2"},"id"),d.default.createElement("div",{className:"span8"},d.default.createElement(N.default,{id:a.id,deleted:a.deleted,databaseName:o})),d.default.createElement("div",{className:"span2 text-right"},d.default.createElement(T,{uniqueKey:h.default.v4(),text:a.id,onClipboardClick:function(){return e.showCopiedMessage("id")}}))),d.default.createElement("div",{className:"row-fluid"},d.default.createElement("div",{className:"span2"},"deleted"),d.default.createElement("div",{className:"span10"},a.deleted?"True":"False")),d.default.createElement("div",{className:"row-fluid"},d.default.createElement("div",{className:"span2"},"changes"),d.default.createElement("div",{className:"span10"},d.default.createElement("button",{type:"button",className:"btn btn-small btn-secondary",onClick:this.toggleJSON.bind(this)},t?"Close JSON":"View JSON"))),d.default.createElement(O.default,{codeVisible:this.state.codeVisible,code:this.getChangeCode()})))}}]),t}(d.default.Component);t.default=S,S.propTypes={change:s.default.object,databaseName:s.default.string.isRequired}},,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),s=a(u),c=n(0),d=a(c),f=n(10),p=(a(f),n(78)),h=a(p),m=n(113);n(250);var _=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"willEnter",value:function(){return{opacity:(0,m.spring)(1,m.presets.gentle),height:(0,m.spring)(160,m.presets.gentle)}}},{key:"willLeave",value:function(){return{opacity:(0,m.spring)(0,m.presets.gentle),height:(0,m.spring)(0,m.presets.gentle)}}},{key:"getStyles",value:function(e){return!e&&this.props.codeVisible?[{key:"1",style:this.willEnter()}]:e||this.props.codeVisible?e.map(function(e){return{key:"1",style:e.style}}):[{key:"1",style:this.willLeave()}]}},{key:"getChildren",value:function(e){var t=this,n=e.map(function(e){var n=e.style;return!1===t.props.codeVisible&&0===n.opacity?null:d.default.createElement("div",{key:"1",style:{opacity:n.opacity,height:n.height+"px"}},d.default.createElement(h.default.CodeFormat,{code:t.props.code}))});return d.default.createElement("span",null,n)}},{key:"render",value:function(){return d.default.createElement(m.TransitionMotion,{styles:this.getStyles(),willLeave:this.willLeave,willEnter:this.willEnter},this.getChildren.bind(this))}}]),t}(d.default.Component);t.default=_,_.propTypes={code:s.default.object.isRequired,codeVisible:s.default.bool.isRequired}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(0),s=a(u),c=n(2),d=a(c),f=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.deleted,n=e.id,a=e.databaseName;if(t)return s.default.createElement("span",{className:"js-doc-id"},n);var o="#"+d.default.urls("document","app",a,n);return s.default.createElement("a",{href:o,className:"js-doc-link"},n)}}]),t}(s.default.Component);t.default=f},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(14),r=n(913),i=a(r),l=n(414),u=a(l),s=function(e){return{filters:e.changes.filters}},c=function(e){return{addFilter:function(t){e(u.default.addFilter(t))},removeFilter:function(t){e(u.default.removeFilter(t))}}},d=(0,o.connect)(s,c)(i.default);t.default=d},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),s=a(u),c=n(0),d=a(c),f=n(10),p=(a(f),n(13)),h=a(p),m=n(914),g=a(m),b=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.addFilter=n.addFilter.bind(n),n.hasFilter=n.hasFilter.bind(n),n}return i(t,e),l(t,[{key:"addFilter",value:function(e){_.isEmpty(e)||this.props.addFilter(e)}},{key:"hasFilter",value:function(e){return-1!==this.props.filters.indexOf(e)}},{key:"render",value:function(){var e=this;return d.default.createElement("div",{className:"changes-header"},d.default.createElement(g.default,{filter:function(t){return e.props.removeFilter(t)},addFilter:this.addFilter,hasFilter:this.hasFilter}),d.default.createElement(h.default.BadgeList,{elements:this.props.filters,removeBadge:function(t){return e.props.removeFilter(t)}}))}}]),t}(d.default.Component);t.default=b,b.propTypes={filters:s.default.array.isRequired,addFilter:s.default.func.isRequired,removeFilter:s.default.func.isRequired}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),s=a(u),c=n(0),d=a(c),f=n(10),p=(a(f),function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={filter:"",error:!1},n.submitForm=n.submitForm.bind(n),n}return i(t,e),l(t,[{key:"submitForm",value:function(e){if(e.preventDefault(),e.stopPropagation(),this.props.hasFilter(this.state.filter)){this.setState({error:!0});var t=this;setTimeout(function(){t.setState({error:!1})},1e3)}else this.props.addFilter(this.state.filter),this.setState({filter:"",error:!1})}},{key:"componentDidMount",value:function(){this.focusFilterField()}},{key:"componentDidUpdate",value:function(){this.focusFilterField()}},{key:"focusFilterField",value:function(){this.addItem.focus()}},{key:"inputClassNames",value:function(){var e="js-changes-filter-field";return this.state.error&&(e+=" errorHighlight"),e}},{key:"render",value:function(){var e=this;return d.default.createElement("form",{className:"form-inline js-filter-form",onSubmit:this.submitForm},d.default.createElement("fieldset",null,d.default.createElement("i",{className:"fonticon-filter"}),d.default.createElement("input",{type:"text",ref:function(t){return e.addItem=t},className:this.inputClassNames(),placeholder:"Sequence or ID",onChange:function(t){return e.setState({filter:t.target.value})},value:this.state.filter}),d.default.createElement("button",{type:"submit",className:"btn btn-secondary"},"Filter"),d.default.createElement("div",{className:"help-block"})))}}]),t}(d.default.Component));t.default=p,p.propTypes={addFilter:s.default.func.isRequired,hasFilter:s.default.func.isRequired,tooltips:s.default.string},p.defaultProps={tooltip:""}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(14),r=n(916),i=a(r),l=n(917),u=a(l),s=function(e,t){var n=e.designDocInfo;return{isLoading:n.isLoading,viewIndex:n.viewIndex,designDocInfo:t.designDocInfo,designDocName:t.designDocName}},c=function(e){return{fetchDesignDocInfo:function(t){e(u.default.fetchDesignDocInfo(t))},stopRefresh:function(){u.default.stopRefresh()}}},d=(0,o.connect)(s,c)(i.default);t.default=d},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),s=a(u),c=n(0),d=a(c),f=n(91),p=a(f),h=n(2),m=a(h),_=n(13),g=a(_),b=g.default.LoadLines,y=g.default.Copy,E=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.showCopiedMessage=function(){m.default.addNotification({type:"success",msg:"The MD5 sha has been copied to your clipboard.",clear:!0})},n.fetchDDocInfo(),n}return i(t,e),l(t,[{key:"componentDidUpdate",value:function(e){this.props.designDocInfo!==e.designDocInfo&&this.fetchDDocInfo()}},{key:"componentWillUnmount",value:function(){this.props.stopRefresh()}},{key:"fetchDDocInfo",value:function(){this.props.fetchDesignDocInfo({designDocName:this.props.designDocName,designDocInfo:this.props.designDocInfo})}},{key:"render",value:function(){if(this.props.isLoading)return d.default.createElement(b,null);var e=this.props.viewIndex,t=e.data_size?e.data_size.toLocaleString("en"):0,n=e.disk_size?e.disk_size.toLocaleString("en"):0;return d.default.createElement("div",{className:"metadata-page"},d.default.createElement("header",null,d.default.createElement("h2",null,"_design/",this.props.designDocName," Metadata")),d.default.createElement("section",{className:"container"},d.default.createElement("h3",null,"Index Information"),d.default.createElement("ul",null,d.default.createElement("li",null,d.default.createElement("span",{className:"item-title"},"Language:"),d.default.createElement("span",{className:"capitalize"},e.language)),d.default.createElement("li",null,d.default.createElement("span",{className:"item-title"},"Currently being updated?"),e.updater_running?"Yes":"No"),d.default.createElement("li",null,d.default.createElement("span",{className:"item-title"},"Currently running compaction?"),e.compact_running?"Yes":"No"),d.default.createElement("li",null,d.default.createElement("span",{className:"item-title"},"Waiting for a commit?"),e.waiting_commit?"Yes":"No")),d.default.createElement("ul",null,d.default.createElement("li",null,d.default.createElement("span",{className:"item-title"},"Clients waiting for the index:"),e.waiting_clients),d.default.createElement("li",null,d.default.createElement("span",{className:"item-title"},"Update sequence on DB:"),e.update_seq),d.default.createElement("li",null,d.default.createElement("span",{className:"item-title"},"Processed purge sequence:"),e.purge_seq),d.default.createElement("li",null,d.default.createElement("span",{className:"item-title"},"Actual data size (bytes):"),t),d.default.createElement("li",null,d.default.createElement("span",{className:"item-title"},"Data size on disk (bytes):"),n)),d.default.createElement("ul",null,d.default.createElement("li",null,d.default.createElement("span",{className:"item-title"},"MD5 Signature:"),d.default.createElement(y,{uniqueKey:p.default.v4(),text:e.signature,onClipboardClick:this.showCopiedMessage})))))}}]),t}(d.default.Component);t.default=E,E.propTypes={isLoading:s.default.bool.isRequired,viewIndex:s.default.object,designDocName:s.default.string.isRequired,stopRefresh:s.default.func.isRequired,fetchDesignDocInfo:s.default.func.isRequired}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(416),o=function(e){return e&&e.__esModule?e:{default:e}}(a),r=function(e){var t=e.designDocName,n=e.designDocInfo;return function(e){return e({type:o.default.DESIGN_FETCHING}),n.fetch().then(function(){l({designDocName:t,designDocInfo:n},e)})}},i=void 0,l=function(e,t){var n=function(){u(e.designDocInfo,t)};s(),i=window.setInterval(n,5e3),t({type:o.default.DESIGN_DOC_MONITOR,options:e})},u=function(e,t){e.fetch().then(function(){t({type:o.default.DESIGN_REFRESH,designDocInfo:e})})},s=function(){i&&(window.clearInterval(i),i=void 0)};t.default={fetchDesignDocInfo:r,stopRefresh:s}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=a(o),i=n(0),l=a(i),u=n(919),s=a(u),c=n(927),d=a(c),f=n(928),p=a(f),h=function(e){var t=e.database,n=e.hideQueryOptions,a=e.hideJumpToDoc,o=e.queryDocs,r=e.ddocsOnly,i=e.selectedNavItem;return l.default.createElement("div",{className:"header-right right-db-header flex-layout flex-row"},l.default.createElement("div",{className:"faux-header__searchboxwrapper"},l.default.createElement("div",{className:"faux-header__searchboxcontainer"},a?null:l.default.createElement(d.default,{cache:!1,loadOptions:p.default.fetchAllDocsWithKey(t),database:t}))),n?null:l.default.createElement(s.default,{ddocsOnly:r,queryDocs:o,selectedNavItem:i}))};h.propTypes={database:r.default.object.isRequired,hideQueryOptions:r.default.bool,isRedux:r.default.bool,queryDocs:r.default.func,selectedNavItem:r.default.object},h.defaultProps={hideQueryOptions:!1},t.default=h},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=a(o),i=n(14),l=n(40),u=a(l),s=n(920),c=a(s),d=n(120),f=n(417),p=n(420),h=n(122),m=function(e,t){return u.default.selectedViewContainsReduceFunction(e,t)},_=function(e,t){var n=e.indexResults,a=e.sidebar,o=(0,h.getQueryOptionsPanel)(n);return{contentVisible:o.isVisible,includeDocs:o.includeDocs,showReduce:m(a.designDocList,t.selectedNavItem),reduce:o.reduce,groupLevel:o.groupLevel,showByKeys:o.showByKeys,showBetweenKeys:o.showBetweenKeys,betweenKeys:o.betweenKeys,byKeys:o.byKeys,descending:o.descending,skip:o.skip,limit:o.limit,stable:o.stable,update:o.update,fetchParams:(0,h.getFetchParams)(n),queryOptionsParams:(0,h.getQueryOptionsParams)(n),perPage:(0,h.getPerPage)(n),selectedLayout:(0,h.getSelectedLayout)(n),ddocsOnly:t.ddocsOnly}},g=function(e,t){return{resetPagination:function(t){e((0,f.resetPagination)(t))},queryOptionsToggleReduce:function(t){e((0,p.queryOptionsToggleReduce)(t))},queryOptionsUpdateGroupLevel:function(t){e((0,p.queryOptionsUpdateGroupLevel)(t))},queryOptionsToggleByKeys:function(t){e((0,p.queryOptionsToggleByKeys)(t))},queryOptionsToggleBetweenKeys:function(t){e((0,p.queryOptionsToggleBetweenKeys)(t))},queryOptionsUpdateBetweenKeys:function(t){e((0,p.queryOptionsUpdateBetweenKeys)(t))},queryOptionsUpdateByKeys:function(t){e((0,p.queryOptionsUpdateByKeys)(t))},queryOptionsToggleDescending:function(t){e((0,p.queryOptionsToggleDescending)(t))},queryOptionsUpdateSkip:function(t){e((0,p.queryOptionsUpdateSkip)(t))},queryOptionsUpdateLimit:function(t){e((0,p.queryOptionsUpdateLimit)(t))},queryOptionsToggleIncludeDocs:function(t){e((0,p.queryOptionsToggleIncludeDocs)(t))},queryOptionsToggleVisibility:function(t){e((0,p.queryOptionsToggleVisibility)(t))},queryOptionsExecute:function(n,a){e((0,p.queryOptionsExecute)(t.queryDocs,n,a))},queryOptionsApplyFilterOnlyDdocs:function(){e((0,p.queryOptionsFilterOnlyDdocs)())},queryOptionsRemoveFilterOnlyDdocs:function(){e((0,p.queryOptionsRemoveFilterOnlyDdocs)())},queryOptionsToggleStable:function(t){e((0,p.queryOptionsToggleStable)(t))},queryOptionsChangeUpdate:function(t){e((0,p.queryOptionsChangeUpdate)(t))},changeLayout:function(t){e((0,d.changeLayout)(t))},resetState:function(){e((0,d.resetState)())}}},b=(0,i.connect)(_,g)(c.default);t.default=b,b.propTypes={queryDocs:r.default.func.isRequired}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),s=a(u),c=n(0),d=a(c),f=n(2),p=a(f),h=n(13),m=a(h),_=n(30),g=a(_),b=n(921),y=a(b),E=n(922),v=a(E),O=n(923),D=a(O),N=n(924),T=a(N),S=m.default.ToggleHeaderButton,w=m.default.TrayContents,C=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),a=e.ddocsOnly,i=e.queryOptionsApplyFilterOnlyDdocs;return a&&i(),n}return i(t,e),l(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.props,n=t.ddocsOnly,a=t.queryOptionsApplyFilterOnlyDdocs,o=t.queryOptionsRemoveFilterOnlyDdocs;!n&&e.ddocsOnly?a():n&&!e.ddocsOnly&&o()}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.ddocsOnly,n=e.queryOptionsRemoveFilterOnlyDdocs;t&&n()}},{key:"executeQuery",value:function(e){e&&e.preventDefault(),this.closeTray();var t=this.props,n=t.queryOptionsExecute,a=t.queryOptionsParams,o=t.perPage,r=t.resetPagination,i=t.selectedLayout,l=t.changeLayout;r(o);var u=i===g.default.LAYOUT_ORIENTATION.METADATA;u&&a.include_docs?l(g.default.LAYOUT_ORIENTATION.TABLE):u||a.include_docs||l(g.default.LAYOUT_ORIENTATION.METADATA),n(a,o)}},{key:"toggleTrayVisibility",value:function(){this.props.queryOptionsToggleVisibility(!this.props.contentVisible)}},{key:"closeTray",value:function(){this.props.queryOptionsToggleVisibility(!1)}},{key:"getTray",value:function(){return d.default.createElement(w,{closeTray:this.closeTray.bind(this),contentVisible:this.props.contentVisible,className:"query-options",id:"query-options-tray"},d.default.createElement("form",{onSubmit:this.executeQuery.bind(this),className:"js-view-query-update custom-inputs"},d.default.createElement(y.default,{includeDocs:this.props.includeDocs,toggleIncludeDocs:this.props.queryOptionsToggleIncludeDocs,showReduce:this.props.showReduce,reduce:this.props.reduce,toggleReduce:this.props.queryOptionsToggleReduce,groupLevel:this.props.groupLevel,updateGroupLevel:this.props.queryOptionsUpdateGroupLevel,docURL:p.default.constants.DOC_URLS.GENERAL,stable:this.props.stable,toggleStable:this.props.queryOptionsToggleStable,update:this.props.update,changeUpdateField:this.props.queryOptionsChangeUpdate}),d.default.createElement(v.default,{key:1,showByKeys:this.props.showByKeys,showBetweenKeys:this.props.showBetweenKeys,toggleByKeys:this.props.queryOptionsToggleByKeys,toggleBetweenKeys:this.props.queryOptionsToggleBetweenKeys,betweenKeys:this.props.betweenKeys,updateBetweenKeys:this.props.queryOptionsUpdateBetweenKeys,byKeys:this.props.byKeys,updateByKeys:this.props.queryOptionsUpdateByKeys}),d.default.createElement(D.default,{descending:this.props.descending,toggleDescending:this.props.queryOptionsToggleDescending,skip:this.props.skip,updateSkip:this.props.queryOptionsUpdateSkip,updateLimit:this.props.queryOptionsUpdateLimit,limit:this.props.limit}),d.default.createElement(T.default,{onCancel:this.closeTray.bind(this)})))}},{key:"showAsActive",value:function(){var e=this.props,t=e.reduce,n=e.betweenKeys,a=e.byKeys,o=e.descending,r=e.skip,i=e.limit,l=e.stable,u=e.update;return!!(n&&n.startkey||a||i&&"none"!=i||r||t||o||l||"true"!==u)}},{key:"render",value:function(){return d.default.createElement("div",{id:"header-query-options"},d.default.createElement("div",{id:"query-options"},d.default.createElement("div",null,d.default.createElement(S,{toggleCallback:this.toggleTrayVisibility.bind(this),containerClasses:"header-control-box control-toggle-queryoptions",title:"Query Options",fonticon:"fonticon-gears",text:"Options",active:this.showAsActive()}),this.getTray())))}}]),t}(d.default.Component);t.default=C,C.propTypes={contentVisible:s.default.bool.isRequired,queryOptionsApplyFilterOnlyDdocs:s.default.func.isRequired,queryOptionsRemoveFilterOnlyDdocs:s.default.func.isRequired,queryOptionsExecute:s.default.func.isRequired,queryOptionsParams:s.default.object.isRequired,perPage:s.default.number.isRequired,resetPagination:s.default.func.isRequired,selectedLayout:s.default.string.isRequired,changeLayout:s.default.func.isRequired,queryOptionsToggleVisibility:s.default.func.isRequired,queryOptionsToggleStable:s.default.func.isRequired,queryOptionsChangeUpdate:s.default.func.isRequired,stable:s.default.bool.isRequired,update:s.default.string.isRequired}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),s=a(u),c=n(0),d=a(c),f=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggleStable=n.toggleStable.bind(n),n.onUpdateChange=n.onUpdateChange.bind(n),n.updateOptions=[{value:"true",label:"true"},{value:"lazy",label:"lazy"},{value:"false",label:"false"}],n}return i(t,e),l(t,[{key:"toggleIncludeDocs",value:function(){this.props.toggleIncludeDocs(this.props.includeDocs)}},{key:"onUpdateChange",value:function(e){this.props.changeUpdateField(e.target.value)}},{key:"groupLevelChange",value:function(e){this.props.updateGroupLevel(e.target.value)}},{key:"groupLevel",value:function(){return this.props.reduce?d.default.createElement("label",{className:"drop-down inline",id:"qoGroupLevelGroup"},"Group Level",d.default.createElement("select",{onChange:this.groupLevelChange.bind(this),id:"qoGroupLevel",value:this.props.groupLevel,name:"group_level",className:"input-small"},d.default.createElement("option",{value:"0"},"None"),d.default.createElement("option",{value:"1"},"1"),d.default.createElement("option",{value:"2"},"2"),d.default.createElement("option",{value:"3"},"3"),d.default.createElement("option",{value:"4"},"4"),d.default.createElement("option",{value:"5"},"5"),d.default.createElement("option",{value:"6"},"6"),d.default.createElement("option",{value:"7"},"7"),d.default.createElement("option",{value:"8"},"8"),d.default.createElement("option",{value:"9"},"9"),d.default.createElement("option",{value:"exact"},"Exact"))):null}},{key:"toggleReduce",value:function(){this.props.toggleReduce(this.props.reduce)}},{key:"toggleStable",value:function(){this.props.toggleStable(this.props.stable)}},{key:"reduce",value:function(){return this.props.showReduce?d.default.createElement("span",null,d.default.createElement("div",{className:"checkbox inline"},d.default.createElement("input",{id:"qoReduce",name:"reduce",onChange:this.toggleReduce.bind(this),type:"checkbox",checked:this.props.reduce}),d.default.createElement("label",{htmlFor:"qoReduce"},"Reduce")),this.groupLevel()):null}},{key:"getUpdateOptions",value:function(){return this.updateOptions.map(function(e){return d.default.createElement("option",{key:e.value,value:e.value},e.label)})}},{key:"render",value:function(){var e=this.props,t=e.includeDocs,n=e.stable,a=e.update;return d.default.createElement("div",{className:"query-group",id:"query-options-main-fields"},d.default.createElement("span",{className:"add-on"},"Query Options",d.default.createElement("a",{className:"help-link",href:this.props.docURL,target:"_blank",rel:"noopener noreferrer","data-bypass":"true"},d.default.createElement("i",{className:"icon-question-sign"}))),d.default.createElement("div",{className:"controls-group qo-main-fields-row"},d.default.createElement("div",{className:"row-fluid fieldsets"},d.default.createElement("div",{className:"checkbox inline"},d.default.createElement("input",{disabled:this.props.reduce,onChange:this.toggleIncludeDocs.bind(this),id:"qoIncludeDocs",name:"include_docs",type:"checkbox",checked:t}),d.default.createElement("label",{className:this.props.reduce?"disabled":"",htmlFor:"qoIncludeDocs",id:"qoIncludeDocsLabel"},"Include Docs")),this.reduce()),d.default.createElement("div",{className:"row-fluid fieldsets"},d.default.createElement("div",{className:"checkbox inline"},d.default.createElement("input",{onChange:this.toggleStable,id:"qoStable",name:"include_docs",type:"checkbox",checked:n}),d.default.createElement("label",{htmlFor:"qoStable",id:"qoStableLabel"},"Stable")),d.default.createElement("div",{className:"dropdown inline"},d.default.createElement("label",{className:"drop-down"},"Update",d.default.createElement("select",{className:"input-small",id:"qoUpdate",value:a,onChange:this.onUpdateChange},this.getUpdateOptions()))))))}}]),t}(d.default.Component);t.default=f,f.propTypes={toggleIncludeDocs:s.default.func.isRequired,includeDocs:s.default.bool.isRequired,reduce:s.default.bool.isRequired,toggleReduce:s.default.func,updateGroupLevel:s.default.func,docURL:s.default.string.isRequired,stable:s.default.bool.isRequired,toggleStable:s.default.func.isRequired,update:s.default.string.isRequired,changeUpdateField:s.default.func.isRequired}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(0),s=a(u),c=n(10),d=(a(c),function(e){function t(e){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"toggleByKeys",value:function(){this.props.toggleByKeys()}},{key:"toggleBetweenKeys",value:function(){this.props.toggleBetweenKeys()}},{key:"updateBetweenKeys",value:function(){this.props.updateBetweenKeys({startkey:this.startkey.value,endkey:this.endkey.value,include:this.props.betweenKeys.include})}},{key:"updateInclusiveEnd",value:function(){this.props.updateBetweenKeys({include:!this.props.betweenKeys.include,startkey:this.props.betweenKeys.startkey,endkey:this.props.betweenKeys.endkey})}},{key:"updateByKeys",value:function(e){this.props.updateByKeys(e.target.value)}},{key:"render",value:function(){var e=this,t="controls-group well js-query-keys-wrapper ",n="row-fluid js-keys-section ",a=n,o="drop-down btn ",r=o;return this.props.showByKeys||this.props.showBetweenKeys||(t+="hide"),this.props.showByKeys?o+="active":n+="hide",this.props.showBetweenKeys?r+="active":a+="hide",s.default.createElement("div",{className:"query-group",id:"query-options-key-search"},s.default.createElement("div",{className:"add-on"},"Keys"),s.default.createElement("div",{className:"btn-group toggle-btns row-fluid"},s.default.createElement("label",{style:{width:"101px"},id:"byKeys",onClick:this.toggleByKeys.bind(this),className:o},"By Key(s)"),s.default.createElement("label",{style:{width:"101px"},id:"betweenKeys",onClick:this.toggleBetweenKeys.bind(this),className:r},"Between Keys")),s.default.createElement("div",{className:t},s.default.createElement("div",{className:n,id:"js-showKeys"},s.default.createElement("div",{className:"controls controls-row"},s.default.createElement("label",{htmlFor:"keys-input",className:"drop-down"},"A key, or an array of keys."),s.default.createElement("textarea",{value:this.props.byKeys,onChange:this.updateByKeys.bind(this),id:"keys-input",className:"input-xxlarge",rows:"5",type:"text",placeholder:'Enter either a single key ["123"] or an array of keys ["123", "456"]. A key value is the first parameter emitted in a map function. For example emit("123", 1) the key is "123".'}),s.default.createElement("div",{id:"keys-error",className:"inline-block js-keys-error"}))),s.default.createElement("div",{className:a,id:"js-showStartEnd"},s.default.createElement("div",{className:"controls controls-row"},s.default.createElement("div",null,s.default.createElement("label",{htmlFor:"startkey",className:"drop-down"},"Start key"),s.default.createElement("input",{id:"startkey",ref:function(t){return e.startkey=t},type:"text",onChange:this.updateBetweenKeys.bind(this),value:this.props.betweenKeys.startkey,placeholder:'e.g., "1234"'})),s.default.createElement("div",null,s.default.createElement("label",{htmlFor:"endkey",className:"drop-down"},"End key"),s.default.createElement("input",{id:"endkey",ref:function(t){return e.endkey=t},onChange:this.updateBetweenKeys.bind(this),value:this.props.betweenKeys.endkey,type:"text",placeholder:'e.g., "1234"'}),s.default.createElement("div",{className:"controls include-end-key-row checkbox controls-row inline"},s.default.createElement("input",{id:"qoIncludeEndKeyInResults",type:"checkbox",onChange:this.updateInclusiveEnd.bind(this),checked:this.props.betweenKeys.include}),s.default.createElement("label",{htmlFor:"qoIncludeEndKeyInResults"},"Include End Key in results")))))))}}]),t}(s.default.Component));t.default=d},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(0),s=a(u),c=n(2),d=a(c),f=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"updateSkip",value:function(e){e.preventDefault();var t=e.target.value;/^\d*$/.test(t)||(d.default.addNotification({msg:"Skip can only be a number",type:"error"}),t=this.props.skip),this.props.updateSkip(t)}},{key:"updateLimit",value:function(e){e.preventDefault(),this.props.updateLimit(e.target.value)}},{key:"toggleDescending",value:function(){this.props.toggleDescending(this.props.descending)}},{key:"render",value:function(){return s.default.createElement("div",{className:"query-group",id:"query-options-additional-params"},s.default.createElement("div",{className:"add-on additionalParams"},"Additional Parameters"),s.default.createElement("div",{className:"row-fluid fieldsets"},s.default.createElement("div",{className:"dropdown inline"},s.default.createElement("label",{className:"drop-down"},"Limit",s.default.createElement("select",{id:"qoLimit",onChange:this.updateLimit.bind(this),name:"limit",value:this.props.limit,className:"input-small"},s.default.createElement("option",{value:"none"},"None"),s.default.createElement("option",{value:5},"5"),s.default.createElement("option",{value:10},"10"),s.default.createElement("option",{value:20},"20"),s.default.createElement("option",{value:30},"30"),s.default.createElement("option",{value:50},"50"),s.default.createElement("option",{value:100},"100"),s.default.createElement("option",{value:500},"500"))))),s.default.createElement("div",{className:"row-fluid fieldsets"},s.default.createElement("div",{className:"checkbox inline"},s.default.createElement("input",{id:"qoDescending",type:"checkbox",onChange:this.toggleDescending.bind(this),checked:this.props.descending}),s.default.createElement("label",{htmlFor:"qoDescending"},"Descending")),s.default.createElement("div",{className:"dropdown inline"},s.default.createElement("label",{htmlFor:"qoSkip",className:"drop-down"},"Skip",s.default.createElement("input",{value:this.props.skip,onChange:this.updateSkip.bind(this),className:"input-small",type:"number",id:"qoSkip",placeholder:"# of rows"})))))}}]),t}(s.default.Component);t.default=f},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),s=a(u),c=n(0),d=a(c),f=function(e){function t(e){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"hideTray",value:function(){this.props.onCancel()}},{key:"render",value:function(){return d.default.createElement("div",{className:"controls-group query-group"},d.default.createElement("div",{id:"button-options",className:"controls controls-row"},d.default.createElement("button",{type:"submit",className:"btn btn-secondary"},"Run Query"),d.default.createElement("a",{onClick:this.hideTray.bind(this),className:"btn btn-cancelDark"},"Cancel")))}}]),t}(d.default.Component);t.default=f,f.propTypes={onCancel:s.default.func.isRequired}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getJsonViewData=void 0;var a=n(121),o=n(163),r=function(e){return e&&e.__esModule?e:{default:e}}(o);t.getJsonViewData=function(e,t){var n=t.databaseName,o=t.docType,i=t.deleteEnabled,l=void 0===i||i,u=e.map(function(e){if("MangoIndex"===o)return{header:r.default.getIndexName(e),content:r.default.getIndexContent(e),id:"special"===e.type?"_all_docs":e.ddoc,keylabel:"",url:e.id?(0,a.getDocUrl)("app",e.id,n):null,isDeletable:!!l&&"special"!==e.type,isEditable:!1};var t=(0,a.getDocId)(e,o);return{header:t,content:JSON.stringify(e,null," "),id:t||e.key&&e.key.toString(),_rev:(0,a.getDocRev)(e,o),keylabel:"id",url:t?(0,a.getDocUrl)("app",t,n):null,isDeletable:l,isEditable:!0}});return{displayedFields:null,hasBulkDeletableDoc:(0,a.hasBulkDeletableDoc)(e,o),results:u}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTableViewData=t.getMetaDataTableView=t.getFullTableViewData=t.getNotSelectedFields=t.sortByTwoFields=t.getPrioritizedFields=t.getPseudoSchema=void 0;var a=n(30),o=function(e){return e&&e.__esModule?e:{default:e}}(a),r=n(121),i=t.getPseudoSchema=function(e){var t=[];e.forEach(function(e){Object.keys(e).forEach(function(e){t.push(e)})}),t=_.uniq(t);var n=t.indexOf("_id");return-1!==n&&(t.splice(n,1),t.unshift("_id")),t},l=t.getPrioritizedFields=function(e,t){var n=e.reduce(function(e,t){return e=e.concat(Object.keys(t))},[]);return n=_.countBy(n,function(e){return e}),delete n.id,delete n._rev,n=Object.keys(n).reduce(function(e,t){return e.push([n[t],t]),e},[]),n=u(n),n=n.slice(0,t),n.reduce(function(e,t){return e.push(t[1]),e},[])},u=t.sortByTwoFields=function(e){var t=function e(t,n,a){return t[a]===n[a]?a<2?e(t,n,a+1):0:1===a?t[a]<n[a]?-1:1:t[a]<n[a]?1:-1};return e.sort(function(e,n){return t(e,n,0)})},s=t.getNotSelectedFields=function(e,t){return _.without.bind(void 0,t).apply(void 0,e)},c=t.getFullTableViewData=function(e,t){var n=null,a=t.selectedFieldsTableView,o=t.showAllFieldsTableView,r=void 0,u=e.map(function(e){return e.doc||e});r=i(u),a&&0===a.length&&(a=l(u,5));var c=_.without(r,"_attachments");return n=s(a,c),o&&(n=null,a=c),{schema:r,normalizedDocs:u,selectedFieldsTableView:a,notSelectedFieldsTableView:n}},d=t.getMetaDataTableView=function(e){var t=i(e);return{schema:t,normalizedDocs:e,selectedFieldsTableView:t,notSelectedFieldsTableView:null}};t.getTableViewData=function(e,t){var n=o.default.LAYOUT_ORIENTATION.METADATA===t.selectedLayout,a=n?d(e):c(e,t),i=a.schema,l=a.normalizedDocs,u=a.selectedFieldsTableView,s=a.notSelectedFieldsTableView,f=l.map(function(e){return{content:e,id:(0,r.getDocId)(e,t.docType),_rev:(0,r.getDocRev)(e,t.docType),header:"",keylabel:"",url:e._id||e.id?(0,r.getDocUrl)("app",e._id||e.id,t.databaseName):null,isDeletable:!!t.deleteEnabled&&(0,r.isJSONDocBulkDeletable)(e,t.docType),isEditable:(0,r.isJSONDocEditable)(e,t.docType)}});return{notSelectedFields:s,selectedFields:u,hasBulkDeletableDoc:!!t.deleteEnabled&&(0,r.hasBulkDeletableDoc)(l,t.docType),schema:i,results:f,displayedFields:n?null:{shown:_.uniq(u).length,allFieldCount:_.without(i,"_attachments").length}}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(11),r=a(o),i=n(2),l=a(i),u=n(1),s=a(u),c=n(0),d=a(c),f=n(10),p=(a(f),n(13)),h=a(p),m=function(e){var t=e.database,n=e.loadOptions;return d.default.createElement("div",null,d.default.createElement(h.default.ThrottledReactSelectAsync,{className:"jump-to-doc",name:"jump-to-doc",placeholder:"Document ID",loadOptions:n,clearable:!1,ignoreCase:!1,ignoreAccents:!1,cache:!1,onChange:function(e){var n=e.value,a=l.default.urls("document","app",r.default.utils.safeURLName(t.id),r.default.utils.safeURLName(n));setTimeout(function(){return l.default.navigate(a,{trigger:!0})})}}))};m.propTypes={database:s.default.object.isRequired,loadOptions:s.default.func.isRequired},t.default=m},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(11),r=a(o),i=n(2),l=a(i),u=n(21);t.default={fetchAllDocsWithKey:function(e){return function(t,n){var a="?"+r.default.utils.queryParams({startkey:JSON.stringify(t),endkey:JSON.stringify(t+"香"),limit:30}),o=l.default.urls("allDocs","server",e.safeID(),a);(0,u.get)(o).then(function(e){var t=[];e.error||(t=e.rows.map(function(e){return{value:e.id,label:e.id}})),n(null,{options:t})})}}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),c=a(s),d=n(0),f=a(d),p=n(930),h=a(p),m=function(e){function t(e){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),u(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.fetchDocs,n=e.fetchParams,a=e.queryOptionsParams;e.fetchAtStartup&&t(n,a)}},{key:"UNSAFE_componentWillUpdate",value:function(e){var t=e.fetchDocs,n=e.fetchParams,a=e.queryOptionsParams,o=e.ddocsOnly,r=e.fetchUrl,i=e.resetState,u=e.partitionKey;this.props.ddocsOnly===o&&this.props.fetchUrl===r&&this.props.partitionKey===u||(i(),t(l({},n,{skip:0}),l({},a,{reduce:void 0,group:void 0,group_level:void 0})))}},{key:"componentWillUnmount",value:function(){(0,this.props.resetState)()}},{key:"deleteSelectedDocs",value:function(){var e=this.props,t=e.bulkDeleteDocs,n=e.fetchParams;t(e.selectedDocs,n,e.queryOptionsParams)}},{key:"isSelected",value:function(e){return this.props.selectedDocs.findIndex(function(t){return e===t._id})>-1}},{key:"docChecked",value:function(e,t){if(e){var n=this.props;(0,n.selectDoc)({_id:e,_rev:t},n.selectedDocs)}}},{key:"toggleSelectAll",value:function(){var e=this.props,t=e.docs,n=e.selectedDocs,a=e.allDocumentsSelected;(0,e.bulkCheckOrUncheck)(t,n,a)}},{key:"render",value:function(){var e=this.props.results;return f.default.createElement(h.default,l({removeItem:this.deleteSelectedDocs.bind(this),isSelected:this.isSelected.bind(this),docChecked:this.docChecked.bind(this),isListDeletable:e.hasBulkDeletableDoc,toggleSelectAll:this.toggleSelectAll.bind(this)},this.props))}}]),t}(f.default.Component);t.default=m,m.propTypes={fetchAtStartup:c.default.bool.isRequired,fetchDocs:c.default.func.isRequired}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(0),s=a(u),c=n(2),d=a(c),f=n(30),p=a(f),h=n(13),m=a(h),g=n(931),b=n(934),y=a(b),E=n(935),v=a(E),O=m.default.LoadLines,D=m.default.Document,N=function(e){function t(e){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"componentDidMount",value:function(){prettyPrint()}},{key:"componentDidUpdate",value:function(){prettyPrint()}},{key:"onClick",value:function(e,t){t.url&&d.default.navigate(t.url)}},{key:"getUrlFragment",value:function(e){return this.props.isEditable?s.default.createElement("a",{href:e},s.default.createElement("i",{className:"fonticon-pencil"})):null}},{key:"getDocumentList",value:function(){var e=this,t=function(){},n=this.props.results.results;return _.map(n,function(n,a){return s.default.createElement(D,{key:n.id+a,doc:n,onClick:e.props.isEditable?e.onClick:t,keylabel:n.keylabel,docContent:n.content,checked:e.props.isSelected(n.id),header:n.header,docChecked:e.props.docChecked,isDeletable:n.isDeletable,docIdentifier:n.id,resultsStyle:e.props.resultsStyle},n.url?e.getUrlFragment("#"+n.url):n.url)})}},{key:"getDocumentStyleView",value:function(){var e="view";return this.props.isListDeletable&&(e+=" show-select"),s.default.createElement("div",{className:e},s.default.createElement("div",{id:"doc-list"},this.getDocumentList()))}},{key:"getTableStyleView",value:function(){return s.default.createElement("div",null,s.default.createElement(v.default,{onClick:this.onClick,docChecked:this.props.docChecked,isSelected:this.props.isSelected,isListDeletable:this.props.isListDeletable,data:this.props.results,isLoading:this.props.isLoading,removeItem:this.props.removeItem,isChecked:this.props.allDocumentsSelected,hasSelectedItem:this.props.hasSelectedItem,toggleSelect:this.toggleSelectAll,changeField:this.props.changeTableHeaderAttribute,resultsStyle:this.props.resultsStyle,title:"Select all docs that can be..."}))}},{key:"render",value:function(){var e=null;return e=this.props.isLoading?s.default.createElement("div",{className:"loading-lines-wrapper"},s.default.createElement(O,null)):this.props.noResultsWarning?s.default.createElement(y.default,{text:this.props.noResultsWarning,isWarning:!0}):this.props.hasResults?this.props.selectedLayout===p.default.LAYOUT_ORIENTATION.JSON?this.getDocumentStyleView():this.getTableStyleView():s.default.createElement(y.default,{text:this.props.textEmptyIndex}),s.default.createElement("div",{className:"document-result-screen"},s.default.createElement(g.ResultsToolBar,this.props),e)}}]),t}(s.default.Component);t.default=N},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ResultsToolBar=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),s=a(u),c=n(0),d=a(c),f=n(932),p=a(f),h=n(933),m=a(h),_=n(13),g=a(_),b=n(30),y=a(b),E=n(40),v=a(E),O=g.default.BulkActionComponent;(t.ResultsToolBar=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"shouldComponentUpdate",value:function(e){return void 0!=e.isListDeletable}},{key:"render",value:function(){var e=this.props,t=e.hasResults,n=e.isListDeletable,a=e.removeItem,o=e.allDocumentsSelected,r=e.hasSelectedItem,i=e.toggleSelectAll,l=e.isLoading,u=e.databaseName,s=e.partitionKey,c=null;(n&&t||l)&&(c=d.default.createElement(O,{removeItem:a,isChecked:o,hasSelectedItem:r,toggleSelect:i,disabled:l,title:"Select all docs that can be..."}));var f=null,h=this.props.selectedLayout!==y.default.LAYOUT_ORIENTATION.JSON,_=null;(t||l)&&(f=d.default.createElement(p.default,this.props),_=d.default.createElement(m.default,{updateStyle:this.props.updateResultsStyle,resultsStyle:this.props.resultsStyle,showDensity:h}));var g=null;return u&&(g=d.default.createElement("div",{className:"document-result-screen__toolbar-flex-container"},d.default.createElement("a",{href:v.default.getNewDocUrl(u,s),className:"btn save document-result-screen__toolbar-create-btn btn-primary"},"Create Document"))),d.default.createElement("div",{className:"document-result-screen__toolbar"},c,f,_,g)}}]),t}(d.default.Component)).propTypes={removeItem:s.default.func.isRequired,allDocumentsSelected:s.default.bool.isRequired,hasSelectedItem:s.default.bool.isRequired,toggleSelectAll:s.default.func.isRequired,isLoading:s.default.bool.isRequired,hasResults:s.default.bool.isRequired,isListDeletable:s.default.bool,partitionKey:s.default.string,docType:s.default.string,resultsStyle:s.default.object.isRequired,updateResultsStyle:s.default.func.isRequired}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(0),s=a(u),c=n(30),d=a(c),f=n(20),p=function(e){function t(e){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.selectedLayout,n=e.docType,a=e.queryOptionsParams,o=e.partitionKey,r=e.fetchUrl,i=void 0,l=void 0,u=void 0;if(n===d.default.INDEX_RESULTS_DOC_TYPE.VIEW)i=s.default.createElement(f.Button,{className:t===d.default.LAYOUT_ORIENTATION.METADATA?"active":"",onClick:this.toggleLayout.bind(this,d.default.LAYOUT_ORIENTATION.METADATA)},"Metadata");else if(n===d.default.INDEX_RESULTS_DOC_TYPE.MANGO_INDEX)return null;var c=r&&-1!==r.indexOf("/_all_docs"),p=n===d.default.INDEX_RESULTS_DOC_TYPE.MANGO_QUERY;return(c||p||!a.reduce&&!o)&&(u=s.default.createElement(f.Button,{className:t===d.default.LAYOUT_ORIENTATION.TABLE?"active":"",onClick:this.toggleLayout.bind(this,d.default.LAYOUT_ORIENTATION.TABLE)},s.default.createElement("i",{className:"fonticon-table"})," Table"),l=s.default.createElement(f.Button,{className:t===d.default.LAYOUT_ORIENTATION.JSON?"active":"",onClick:this.toggleLayout.bind(this,d.default.LAYOUT_ORIENTATION.JSON)},s.default.createElement("i",{className:"fonticon-json"})," JSON")),s.default.createElement("div",{className:"alternative-header"},s.default.createElement(f.ButtonGroup,{className:"two-sides-toggle-button"},u,i,l))}},{key:"toggleLayout",value:function(e){var t=this.props,n=t.changeLayout,a=t.selectedLayout,o=t.fetchDocs,r=t.fetchParams,i=t.queryOptionsParams,l=t.queryOptionsToggleIncludeDocs;if(e!==a)return n(e),i.include_docs=e!==d.default.LAYOUT_ORIENTATION.METADATA,e===d.default.LAYOUT_ORIENTATION.TABLE?r.conflicts=!0:delete r.conflicts,l(!i.include_docs),void o(r,i)}}]),t}(s.default.Component);t.default=p},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(0),s=a(u),c=n(1),d=a(c),f=n(13),p=a(f),h=n(30),m=a(h),_=p.default.MenuDropDown,g=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggleTextOverflow=n.toggleTextOverflow.bind(n),n.setFontSize=n.setFontSize.bind(n),n}return i(t,e),l(t,[{key:"toggleTextOverflow",value:function(){this.props.resultsStyle.textOverflow===m.default.INDEX_RESULTS_STYLE.TEXT_OVERFLOW_FULL?this.props.updateStyle({textOverflow:m.default.INDEX_RESULTS_STYLE.TEXT_OVERFLOW_TRUNCATED}):this.props.updateStyle({textOverflow:m.default.INDEX_RESULTS_STYLE.TEXT_OVERFLOW_FULL})}},{key:"setFontSize",value:function(e){this.props.updateStyle({fontSize:e})}},{key:"getDensitySection",value:function(){var e="Show full values";return this.props.resultsStyle.textOverflow===m.default.INDEX_RESULTS_STYLE.TEXT_OVERFLOW_FULL&&(e="Truncate values"),{title:"Display density",links:[{title:e,onClick:this.toggleTextOverflow}]}}},{key:"getFontSizeSection",value:function(){var e=this;return{title:"Font size",links:[{title:"Small",onClick:function(){e.setFontSize(m.default.INDEX_RESULTS_STYLE.FONT_SIZE_SMALL)},icon:this.props.resultsStyle.fontSize===m.default.INDEX_RESULTS_STYLE.FONT_SIZE_SMALL?"fonticon-ok":""},{title:"Medium",onClick:function(){e.setFontSize(m.default.INDEX_RESULTS_STYLE.FONT_SIZE_MEDIUM)},icon:this.props.resultsStyle.fontSize===m.default.INDEX_RESULTS_STYLE.FONT_SIZE_MEDIUM?"fonticon-ok":""},{title:"Large",onClick:function(){e.setFontSize(m.default.INDEX_RESULTS_STYLE.FONT_SIZE_LARGE)},icon:this.props.resultsStyle.fontSize===m.default.INDEX_RESULTS_STYLE.FONT_SIZE_LARGE?"fonticon-ok":""}]}}},{key:"render",value:function(){var e=[];return this.props.showDensity&&e.push(this.getDensitySection()),this.props.showFontSize&&e.push(this.getFontSizeSection()),s.default.createElement("div",{className:"toolbar-dropdown"},s.default.createElement(_,{id:"result-style-menu",links:e,icon:"fonticon-mixer",hideArrow:!0,toggleType:"button"}))}}]),t}(s.default.Component);g.defaultProps={showDensity:!0,showFontSize:!0},g.propTypes={resultsStyle:d.default.object.isRequired,updateStyle:d.default.func.isRequired,showDensity:d.default.bool,showFontSize:d.default.bool},t.default=g},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.text,n=e.isWarning,a=u.default.createElement("div",{className:"no-results-screen-warning"},u.default.createElement("i",{className:"fonticon-attention-circled"}),t);return u.default.createElement("div",{className:"no-results-screen"},n?a:null,u.default.createElement("div",{className:"watermark-logo"}),n?null:u.default.createElement("h3",null,t))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=n(1),i=a(r),l=n(0),u=a(l);o.propTypes={text:i.default.string.isRequired}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(0),s=a(u),c=n(936),d=a(c),f=n(937),p=a(f),h=function(e){function t(e){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"getContentRows",value:function(){var e=this.props.data.results,t=this.props.resultsStyle,n=t.textOverflow,a=t.fontSize;return e.map(function(e,t){return s.default.createElement(d.default,{onClick:this.props.onClick,key:"tableview-row-component-"+t,index:t,el:e,docIdentifier:e.id||"tableview-row-component-"+t,docChecked:this.props.docChecked,isSelected:this.props.isSelected(e.id),data:this.props.data,textOverflow:n,fontSize:a})}.bind(this))}},{key:"getOptionFieldRows",value:function(e){return this.props.data.notSelectedFields?e.map(function(e,t){return s.default.createElement("th",{key:"header-el-"+t},this.getDropdown(e,this.props.data.schema,t,this.props.changeField,this.props.data.selectedFields))}.bind(this)):e.map(function(e,t){return s.default.createElement("th",{key:"header-el-"+t},e)})}},{key:"getDropdown",value:function(e,t,n,a,o){return s.default.createElement(p.default,{selectedField:e,notSelectedFields:t,index:n,changeField:a,selectedFields:o})}},{key:"getHeader",value:function(){var e=this.props.data.selectedFields,t=this.getOptionFieldRows(e);return s.default.createElement("tr",{key:"tableview-content-row-header"},s.default.createElement("th",{className:"tableview-header-el-checkbox"}),s.default.createElement("th",{className:"tableview-el-copy"}),t,s.default.createElement("th",{className:"tableview-el-last"}))}},{key:"render",value:function(){return s.default.createElement("div",{className:"table-view-docs"},s.default.createElement("table",{className:"table table-striped"},s.default.createElement("thead",null,this.getHeader()),s.default.createElement("tbody",null,this.getContentRows())))}}]),t}(s.default.Component);t.default=h},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(6),c=a(s),d=n(1),f=a(d),p=n(0),h=a(p),m=n(2),_=a(m),g=n(13),b=a(g),y=n(30),E=a(y),v=n(91),O=a(v),D=b.default.Copy,N=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={checked:n.props.isSelected},n}return i(t,e),u(t,[{key:"onChange",value:function(){this.props.docChecked(this.props.el.id,this.props.el._rev)}},{key:"getRowContents",value:function(e,t){var n=e.content;return this.props.data.selectedFields.map(function(e,a){var o="tableview-data-cell-"+t+e+a+n[e],r=-1!==["object","boolean"].indexOf(l(n[e]))?JSON.stringify(n[e],null,"  "):n[e],i=(0,c.default)({showall:this.props.textOverflow===E.default.INDEX_RESULTS_STYLE.TEXT_OVERFLOW_FULL,"small-font":this.props.fontSize===E.default.INDEX_RESULTS_STYLE.FONT_SIZE_SMALL,"large-font":this.props.fontSize===E.default.INDEX_RESULTS_STYLE.FONT_SIZE_LARGE});return h.default.createElement("td",{key:o,title:r,className:i,onClick:this.onClick.bind(this)},r)}.bind(this))}},{key:"maybeGetCheckboxCell",value:function(e,t){return h.default.createElement("td",{className:"tableview-checkbox-cell",key:"tableview-checkbox-cell-"+t},e.isDeletable?h.default.createElement("input",{id:"checkbox-"+this.props.docIdentifier,checked:this.props.isSelected,type:"checkbox",onChange:this.onChange.bind(this)}):null)}},{key:"getAdditionalInfoRow",value:function(e){var t=Object.keys(e._attachments||{}).length,n=null,a=null,o=Object.keys(e._conflicts||{}).length,r=null,i=null;return t&&(a=1===t?t+" Attachment":t+" Attachments",n=h.default.createElement("div",{style:{display:"inline",marginLeft:"5px"},title:a},h.default.createElement("i",{className:"icon fonticon-paperclip"}),t)),o&&(i=1===o?o+" Conflict":o+" Conflicts",r=h.default.createElement("div",{className:"tableview-conflict","data-conflicts-indicator":!0,style:{display:"inline"},title:i},h.default.createElement("i",{style:{fontSize:"17px"},className:"icon icon-code-fork"}),o)),h.default.createElement("td",{className:"tableview-el-last",onClick:this.onClick.bind(this)},r,n)}},{key:"getCopyButton",value:function(e){var t=JSON.stringify(e,null,"  ");return h.default.createElement("td",{title:t,className:"tableview-el-copy"},h.default.createElement(D,{title:t,text:t,uniqueKey:O.default.v4(),onClipboardClick:this.showCopiedMessage}))}},{key:"showCopiedMessage",value:function(){_.default.addNotification({msg:"The document content has been copied to the clipboard.",type:"success",clear:!0})}},{key:"onClick",value:function(e){this.props.onClick(this.props.el._id,this.props.el,e)}},{key:"render",value:function(){var e=this.props.index,t=this.props.el.content,n=this.props.el;return h.default.createElement("tr",{key:"tableview-content-row-"+e},this.maybeGetCheckboxCell(n,e),this.getCopyButton(t),this.getRowContents(n,e),this.getAdditionalInfoRow(t))}}]),t}(h.default.Component);N.defaultProps={textOverflow:E.default.INDEX_RESULTS_STYLE.TEXT_OVERFLOW_TRUNCATED},t.default=N,N.propTypes={docIdentifier:f.default.string.isRequired,docChecked:f.default.func.isRequired,isSelected:f.default.bool.isRequired,index:f.default.number.isRequired,data:f.default.object.isRequired,onClick:f.default.func.isRequired,textOverflow:f.default.string}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.selectedField,n=e.notSelectedFields,a=e.index,o=e.changeField,r=e.selectedFields,l=n.map(function(e){return{value:e,label:e}});return i.default.createElement("div",{className:"table-container-autocomplete"},i.default.createElement("div",{className:"table-select-wrapper"},i.default.createElement(u.default,{value:t,options:l,clearable:!1,onChange:function(e){o({newSelectedRow:e.value,index:a},r)}})))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=n(0),i=a(r),l=n(77),u=a(l)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(0),s=a(u),c=n(939),d=a(c),f=n(400),p=a(f),h=n(940),m=a(h),_=function(e){function t(e){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"getPageNumberText",value:function(){var e=this.props,t=e.docs,n=e.pageStart,a=e.pageEnd;return 0===t.length?s.default.createElement("span",null,"Showing 0 documents."):s.default.createElement("span",null,"Showing document ",n," - ",a,".")}},{key:"perPageChange",value:function(e){var t=this.props;(0,t.updatePerPageResults)(e,t.fetchParams,t.queryOptionsParams)}},{key:"nextClicked",value:function(e){e.preventDefault();var t=this.props,n=t.canShowNext,a=t.fetchParams,o=t.queryOptionsParams,r=t.paginateNext,i=t.perPage;n&&r(a,o,i)}},{key:"previousClicked",value:function(e){e.preventDefault();var t=this.props,n=t.canShowPrevious,a=t.fetchParams,o=t.queryOptionsParams,r=t.paginatePrevious,i=t.perPage;n&&r(a,o,i)}},{key:"render",value:function(){var e=this.props,t=e.showPrioritizedEnabled,n=e.hasResults,a=e.prioritizedEnabled,o=e.displayedFields,r=e.perPage,i=e.canShowNext,l=e.canShowPrevious,u=e.toggleShowAllColumns;return s.default.createElement("footer",{className:"index-pagination pagination-footer"},s.default.createElement(d.default,{nextClicked:this.nextClicked.bind(this),previousClicked:this.previousClicked.bind(this),canShowNext:i,canShowPrevious:l}),s.default.createElement("div",{className:"footer-controls"},s.default.createElement("div",{className:"page-controls"},t&&n?s.default.createElement(m.default,{prioritizedEnabled:a,displayedFields:o,toggleShowAllColumns:u}):null),s.default.createElement(p.default,{perPageChange:this.perPageChange.bind(this),perPage:r}),s.default.createElement("div",{className:"current-docs"},this.getPageNumberText())))}}]),t}(s.default.Component);t.default=_},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.nextClicked,n=e.previousClicked,a=e.canShowPrevious,o=e.canShowNext,r="",i="";return a||(r="disabled"),o||(i="disabled"),u.default.createElement("div",{className:"documents-pagination"},u.default.createElement("ul",{className:"pagination"},u.default.createElement("li",{className:r},u.default.createElement("a",{id:"previous",onClick:n,className:"icon fonticon-left-open",href:"#","data-bypass":"true"})),u.default.createElement("li",{className:i},u.default.createElement("a",{id:"next",onClick:t,className:"icon fonticon-right-open",href:"#","data-bypass":"true"}))))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=n(1),i=a(r),l=n(0),u=a(l);o.propTypes={nextClicked:i.default.func.isRequired,previousClicked:i.default.func.isRequired,canShowPrevious:i.default.bool.isRequired,canShowNext:i.default.bool.isRequired}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),s=a(u),c=n(0),d=a(c),f=function(e){function t(e){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"getAmountShownFields",value:function(){var e=this.props.displayedFields;return e.shown===e.allFieldCount?d.default.createElement("div",{className:"pull-left shown-fields"},"Showing ",e.shown," columns."):d.default.createElement("div",{className:"pull-left shown-fields"},"Showing ",e.shown," of ",e.allFieldCount," columns.")}},{key:"render",value:function(){var e=this.props,t=e.prioritizedEnabled,n=e.toggleShowAllColumns;return d.default.createElement("div",{className:"footer-table-control"},this.getAmountShownFields(),d.default.createElement("div",{className:"footer-doc-control-prioritized-wrapper pull-left"},d.default.createElement("label",{htmlFor:"footer-doc-control-prioritized"},d.default.createElement("input",{id:"footer-doc-control-prioritized",checked:t,onChange:n,type:"checkbox"}),"Show all columns.")))}}]),t}(d.default.Component);t.default=f,f.propTypes={prioritizedEnabled:s.default.bool.isRequired,displayedFields:s.default.object.isRequired,toggleShowAllColumns:s.default.func.isRequired}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),s=a(u),c=n(0),d=a(c),f=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={editorValue:"",editMode:!1},n.onModeSwitchClick=n.onModeSwitchClick.bind(n),n.onBlur=n.onBlur.bind(n),n.startEdit=n.startEdit.bind(n),n.onKeyPress=n.onKeyPress.bind(n),n.onChange=n.onChange.bind(n),n.props.checkDbPartitioned(n.props.databaseName),n}return i(t,e),l(t,[{key:"onModeSwitchClick",value:function(e){e&&e.preventDefault&&e.preventDefault(),!this.props.globalMode&&this.props.onGlobalModeSelected?this.props.onGlobalModeSelected():this.props.partitionKey?this.props.onPartitionKeySelected(this.state.editorValue):this.startEdit()}},{key:"startEdit",value:function(){var e=this;this.setState({editMode:!0,editorValue:this.props.partitionKey}),setTimeout(function(){return e.textInput.focus()})}},{key:"updatePartitionKey",value:function(){this.setState({editMode:!1});var e=this.state.editorValue.trim();e?this.props.onPartitionKeySelected(e):this.props.onGlobalModeSelected()}},{key:"onBlur",value:function(e){e&&e.preventDefault&&e.preventDefault(),this.updatePartitionKey()}},{key:"onKeyPress",value:function(e){"Enter"===e.key&&this.updatePartitionKey()}},{key:"onChange",value:function(e){this.setState({editorValue:e.target.value})}},{key:"globalHeader",value:function(){return d.default.createElement("button",{onClick:this.onModeSwitchClick,title:"Partition Key Selector",className:"button partition-selector__switch"},d.default.createElement("i",{className:"fonticon-filter"}),"No partition selected")}},{key:"partitionHeader",value:function(){var e=this,t=d.default.createElement("input",{type:"text",style:{padding:2,fontSize:16,margin:0,display:this.state.editMode?"block":"none"},onKeyPress:this.onKeyPress,onChange:this.onChange,onBlur:this.onBlur,value:this.state.editorValue,ref:function(t){e.textInput=t}}),n="Click to select a partition",a="partition-selector__key";return""!==this.props.partitionKey&&(n=this.props.partitionKey,a+=" partition-selector__key--active"),d.default.createElement(d.default.Fragment,null,d.default.createElement("button",{onClick:this.onModeSwitchClick,title:"Partition Key Selector",className:"button partition-selector__switch button partition-selector__switch--active"},d.default.createElement("i",{className:"fonticon-filter"})),d.default.createElement("div",{className:a},d.default.createElement("span",{onClick:this.startEdit,style:{display:this.state.editMode?"none":"block"}},n),t))}},{key:"render",value:function(){if(!this.props.selectorVisible)return null;var e=this.props.globalMode&&!this.state.editMode;return d.default.createElement("div",{className:"partition-selector"},e?this.globalHeader():this.partitionHeader())}}]),t}(d.default.Component);t.default=f,f.defaultProps={partitionKey:"",globalMode:!0},f.propTypes={selectorVisible:s.default.bool.isRequired,partitionKey:s.default.string.isRequired,checkDbPartitioned:s.default.func.isRequired,onPartitionKeySelected:s.default.func.isRequired,onGlobalModeSelected:s.default.func,globalMode:s.default.bool}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkDbPartitioned=void 0;var a=n(302),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(a),r=n(425),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.checkDbPartitioned=function(e){return function(t){t({type:i.default.PARTITON_KEY_HIDE_SELECTOR}),o.fetchDatabaseInfo(e).then(function(e){e.props&&!0===e.props.partitioned&&t({type:i.default.PARTITON_KEY_SHOW_SELECTOR})})}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=a(o),i=n(11),l=a(i),u=n(2),s=a(u),c=n(81),d=a(c),f=n(80),p=a(f),h=n(70),m=a(h),_=n(426),g=a(_),b=n(944),y=a(b),E=n(950),v=a(E),O=n(43),D=s.default.RouteObject.extend({selectedHeader:"Databases",roles:["fx_loggedIn"],initialize:function(e,t){this.databaseName=t[0],this.docId=t[1],this.database=this.database||new p.default.Model({id:this.databaseName}),this.doc=new d.default.NewDoc(null,{database:this.database})},routes:{"database/:database/:doc/conflicts":"revisionBrowser","database/:database/:doc/code_editor":"codeEditor","database/:database/_design/:ddoc/conflicts":"revBrowserForDesignDoc","database/:database/_design/:ddoc":"showDesignDoc","database/:database/_local/:doc":"showLocalDoc","database/:database/:doc":"codeEditor","database/:database/_new":"codeEditor","database/:database/_new?(:extra)":"codeEditor"},revisionBrowser:function(e,t){var n=s.default.urls("allDocs","app",s.default.url.encode(this.database.safeID())),a=s.default.urls("document","app",this.database.safeID(),this.docId),o=[{name:this.database.safeID(),link:n},{name:this.docId+" > Conflicts"}];return r.default.createElement(O.DocEditorLayout,{crumbs:o,endpoint:this.doc.url("apiurl"),docURL:a,component:r.default.createElement(v.default,{docId:t,databaseName:e})})},revBrowserForDesignDoc:function(e,t){return this.revisionBrowser(e,"_design/"+t)},codeEditor:function(e,t,n){var a=l.default.getParams(n),o=s.default.urls("allDocs","app",s.default.url.encode(e)),i=[{name:e,link:o},{name:t||"New Document"}];if(this.database=new p.default.Model({id:e}),t)this.doc=new d.default.Doc({_id:t},{database:this.database,fetchConflicts:!0});else{var u=a?a.partitionKey:void 0;this.doc=new d.default.NewDoc(null,{database:this.database,partitionKey:u})}m.default.fetchSelectedDatabaseInfo(e),g.default.dispatchInitDocEditor({doc:this.doc,database:this.database});var c=void 0,f=s.default.router.lastPages.filter(function(e){return-1!==e.indexOf("/_all_docs")||e.match(/_design\/(\S)*\/_/)||-1!==e.indexOf("/_find")});return f.length>0&&(c=f[f.length-1]),r.default.createElement(O.DocEditorLayout,{crumbs:i,endpoint:this.doc.url("apiurl"),docURL:this.doc.documentation(),partitionKey:a.partitionKey,component:r.default.createElement(y.default,{database:this.database,isNewDoc:!t,previousUrl:c})})},showLocalDoc:function(e,t){return this.codeEditor(e,"_local/"+t)},showDesignDoc:function(e,t){return this.codeEditor(e,"_design/"+t)}});t.default={DocEditorRouteObject:D}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(14),r=n(426),i=a(r),l=n(945),u=a(l),s=function(e,t){var n=e.docEditor,a=e.databases;return{isLoading:n.isLoading||a.isLoadingDbInfo,isNewDoc:t.isNewDoc,isDbPartitioned:a.isDbPartitioned,doc:n.doc,database:t.database,conflictCount:n.docConflictCount,previousUrl:t.previousUrl,isCloneDocModalVisible:n.cloneDocModalVisible,isDeleteDocModalVisible:n.deleteDocModalVisible,isUploadModalVisible:n.uploadModalVisible,uploadInProgress:n.uploadInProgress,uploadPercentage:n.uploadPercentage,uploadErrorMessage:n.uploadErrorMessage,numFilesUploaded:n.numFilesUploaded}},c=function(e){return{saveDoc:function(e,t,n,a){i.default.saveDoc(e,t,n,a)},showCloneDocModal:function(){e(i.default.showCloneDocModal())},hideCloneDocModal:function(){e(i.default.hideCloneDocModal())},cloneDoc:function(e,t,n){i.default.cloneDoc(e,t,n)},showDeleteDocModal:function(){e(i.default.showDeleteDocModal())},hideDeleteDocModal:function(){e(i.default.hideDeleteDocModal())},deleteDoc:function(e){i.default.deleteDoc(e)},showUploadModal:function(){e(i.default.showUploadModal())},hideUploadModal:function(){e(i.default.hideUploadModal())},cancelUpload:function(){i.default.cancelUpload()},resetUploadModal:function(){e(i.default.resetUploadModal())},uploadAttachment:function(t){e(i.default.uploadAttachment(t))}}},d=(0,o.connect)(s,c)(u.default);t.default=d},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),s=a(u),c=n(0),d=a(c),f=n(10),p=(a(f),n(2)),h=a(p),m=n(78),g=a(m),b=n(13),y=a(b),E=n(946),v=a(E),O=n(947),D=a(O),N=n(948),T=a(N),S=n(949),w=a(S),C=function(e){function t(){var e,n,a,i;o(this,t);for(var l=arguments.length,u=Array(l),s=0;s<l;s++)u[s]=arguments[s];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.getCodeEditor=function(){if(a.props.isLoading)return d.default.createElement(y.default.LoadLines,null);var e=a.props.doc.attributes;a.props.isDbPartitioned&&(-1!==e._id.indexOf(":")||e._id.startsWith("_design")||(e._id=":"+e._id));var t=JSON.stringify(e,null,"  "),n=[{name:"save",bindKey:{win:"Ctrl-S",mac:"Ctrl-S"},exec:a.saveDoc}];return d.default.createElement(y.default.CodeEditor,{id:"doc-editor",ref:function(e){return a.docEditor=e},defaultCode:t,mode:"json",autoFocus:!0,editorCommands:n,notifyUnsavedChanges:!0,stringEditModalEnabled:!0})},a.saveDoc=function(){a.props.saveDoc(a.props.doc,a.checkDocIsValid(),a.onSaveComplete,a.props.previousUrl)},a.onSaveComplete=function(){a.getEditor().clearChanges()},a.hideDeleteDocModal=function(){a.props.hideDeleteDocModal()},a.deleteDoc=function(){a.props.hideDeleteDocModal(),a.props.deleteDoc(a.props.doc)},a.getEditor=function(){return a.docEditor?a.docEditor.getEditor():null},a.checkDocIsValid=function(){if(a.getEditor().hasErrors())return!1;var e=JSON.parse(a.getEditor().getValue());return a.props.doc.clear().set(e,{validate:!0}),!a.props.doc.validationError},a.clearChanges=function(){a.docEditor.clearChanges()},a.getExtensionIcons=function(){var e=h.default.getExtensions("DocEditor:icons");return _.map(e,function(e,t){return d.default.createElement(e,{doc:a.props.doc,key:t,database:a.props.database})})},a.getButtonRow=function(){return!a.props.isNewDoc&&d.default.createElement("div",null,d.default.createElement(v.default,{doc:a.props.doc,isLoading:a.props.isLoading}),d.default.createElement("div",{className:"doc-editor-extension-icons"},a.getExtensionIcons()),a.props.conflictCount?d.default.createElement(T.default,{title:"Conflicts ("+a.props.conflictCount+")",iconClass:"icon-columns",className:"conflicts",onClick:function(){h.default.navigate(h.default.urls("revision-browser","app",a.props.database.safeID(),a.props.doc.id))}}):null,d.default.createElement(T.default,{title:"Delete",iconClass:"icon-trash",onClick:a.props.showDeleteDocModal}))},i=n,r(a,i)}return i(t,e),l(t,[{key:"UNSAFE_componentWillUpdate",value:function(e){(this.props.numFilesUploaded!==e.numFilesUploaded||this.props.doc&&this.props.doc.hasChanged()||this.props.doc&&e.doc&&this.props.doc.id!==e.doc.id)&&(this.getEditor().setValue(JSON.stringify(e.doc.attributes,null,"  ")),this.onSaveComplete())}},{key:"render",value:function(){var e=this,t=this.props.isNewDoc?"Create Document":"Save Changes",n=this.props.previousUrl?this.props.previousUrl:h.default.urls("allDocs","app",h.default.url.encode(this.props.database.id));return d.default.createElement("div",null,d.default.createElement("div",{id:"doc-editor-actions-panel"},d.default.createElement("div",{className:"doc-actions-left"},d.default.createElement("button",{className:"save-doc btn btn-primary save",type:"button",onClick:this.saveDoc},d.default.createElement("i",{className:"icon fonticon-ok-circled"})," ",t),d.default.createElement("div",null,d.default.createElement("a",{href:"#/"+n,className:"js-back cancel-button"},"Cancel"))),d.default.createElement("div",{className:"alignRight"},this.getButtonRow())),d.default.createElement("div",{className:"code-region"},d.default.createElement("div",{className:"bgEditorGutter"}),d.default.createElement("div",{id:"editor-container",className:"doc-code"},this.getCodeEditor())),d.default.createElement(w.default,{ref:function(t){return e.uploadModal=t},visible:this.props.isUploadModalVisible,doc:this.props.doc,inProgress:this.props.uploadInProgress,uploadPercentage:this.props.uploadPercentage,errorMessage:this.props.uploadErrorMessage,cancelUpload:this.props.cancelUpload,hideUploadModal:this.props.hideUploadModal,resetUploadModal:this.props.resetUploadModal,uploadAttachment:this.props.uploadAttachment}),d.default.createElement(D.default,{doc:this.props.doc,database:this.props.database,visible:this.props.isCloneDocModalVisible,onSubmit:this.clearChanges,hideCloneDocModal:this.props.hideCloneDocModal,cloneDoc:this.props.cloneDoc}),d.default.createElement("span",{id:"hey"},"bb"),d.default.createElement(g.default.ConfirmationModal,{title:"Confirm Deletion",visible:this.props.isDeleteDocModalVisible,text:"Are you sure you want to delete this document?",onClose:this.hideDeleteDocModal,onSubmit:this.deleteDoc,successButtonLabel:"Delete Document"}))}}]),t}(d.default.Component);C.defaultProps={database:{},isNewDoc:!1},C.propTypes={isLoading:s.default.bool.isRequired,isNewDoc:s.default.bool.isRequired,isDbPartitioned:s.default.bool.isRequired,doc:s.default.object,conflictCount:s.default.number.isRequired,previousUrl:s.default.string,saveDoc:s.default.func.isRequired,isCloneDocModalVisible:s.default.bool.isRequired,database:s.default.object,showCloneDocModal:s.default.func.isRequired,hideCloneDocModal:s.default.func.isRequired,cloneDoc:s.default.func.isRequired,isDeleteDocModalVisible:s.default.bool.isRequired,showDeleteDocModal:s.default.func.isRequired,hideDeleteDocModal:s.default.func.isRequired,deleteDoc:s.default.func.isRequired,isUploadModalVisible:s.default.bool.isRequired,uploadInProgress:s.default.bool.isRequired,uploadPercentage:s.default.number.isRequired,uploadErrorMessage:s.default.string,numFilesUploaded:s.default.number.isRequired,showUploadModal:s.default.func.isRequired,hideUploadModal:s.default.func.isRequired,cancelUpload:s.default.func.isRequired,resetUploadModal:s.default.func.isRequired,uploadAttachment:s.default.func.isRequired},t.default=C},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(2),s=a(u),c=n(1),d=a(c),f=n(0),p=a(f),h=n(10),m=(a(h),n(20)),g=n(19),b=a(g),y=function(e){function t(){var e,n,a,i;o(this,t);for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.getAttachmentList=function(){var e=encodeURIComponent(a.props.doc.database.get("id")),t=encodeURIComponent(a.props.doc.get("_id"));return _.map(a.props.doc.get("_attachments"),function(n,a){var o=s.default.urls("document","attachment",e,t,encodeURIComponent(a));return p.default.createElement(m.MenuItem,{key:a,href:o,target:"_blank","data-bypass":"true"},p.default.createElement("strong",null,a),p.default.createElement("span",{className:"attachment-delimiter"},"-"),p.default.createElement("span",null,n.content_type,n.content_type?", ":"",b.default.formatSize(n.length)))})},i=n,r(a,i)}return i(t,e),l(t,[{key:"render",value:function(){return!(this.props.isLoading||!this.props.doc.get("_attachments"))&&p.default.createElement("div",{className:"panel-section view-attachments-section btn-group"},p.default.createElement(m.Dropdown,{id:"view-attachments-menu"},p.default.createElement(m.Dropdown.Toggle,{noCaret:!0,className:"panel-button dropdown-toggle btn","data-bypass":"true"},p.default.createElement("i",{className:"icon icon-paper-clip"}),p.default.createElement("span",{className:"button-text"},"View Attachments"),p.default.createElement("span",{className:"caret"})),p.default.createElement(m.Dropdown.Menu,null,this.getAttachmentList())))}}]),t}(p.default.Component);y.propTypes={isLoading:d.default.bool.isRequired,doc:d.default.object},y.defaultProps={isLoading:!0,doc:{}},t.default=y},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),s=a(u),c=n(0),d=a(c),f=n(10),p=(a(f),n(20)),h=n(19),m=a(h),_=function(e){function t(){var e,n,a,i;o(this,t);for(var l=arguments.length,u=Array(l),s=0;s<l;s++)u[s]=arguments[s];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.state={uuid:null},a.cloneDoc=function(){a.props.onSubmit&&a.props.onSubmit(),a.props.cloneDoc(a.props.database,a.props.doc,a.state.uuid)},a.closeModal=function(e){e&&e.preventDefault(),a.props.hideCloneDocModal()},a.docIDChange=function(e){a.setState({uuid:e.target.value})},i=n,r(a,i)}return i(t,e),l(t,[{key:"componentDidUpdate",value:function(){var e=this;null===this.state.uuid&&m.default.getUUID().then(function(t){if(t.uuids){var n={uuid:t.uuids[0]},a=e.props.doc?e.props.doc.attributes._id.indexOf(":"):-1;if(a>=0){var o=e.props.doc.attributes._id.substring(0,a);n.uuid=o+":"+n.uuid}e.setState(n)}}).catch(function(){})}},{key:"render",value:function(){var e=this;return null!==this.state.uuid&&d.default.createElement(p.Modal,{dialogClassName:"clone-doc-modal",show:this.props.visible,onHide:this.closeModal},d.default.createElement(p.Modal.Header,{closeButton:!0},d.default.createElement(p.Modal.Title,null,"Clone Document")),d.default.createElement(p.Modal.Body,null,d.default.createElement("form",{className:"form",onSubmit:function(t){t.preventDefault(),e.cloneDoc()}},d.default.createElement("p",null,"Document cloning copies the saved version of the document. Unsaved document changes will be discarded."),d.default.createElement("p",null,"You can modify the following generated ID for your new document."),d.default.createElement("input",{ref:function(t){return e.newDocId=t},type:"text",autoFocus:!0,className:"input-block-level",onChange:this.docIDChange,value:this.state.uuid}))),d.default.createElement(p.Modal.Footer,null,d.default.createElement("a",{href:"#","data-bypass":"true",className:"cancel-link",onClick:this.closeModal},"Cancel"),d.default.createElement("button",{className:"btn btn-primary save",onClick:this.cloneDoc},d.default.createElement("i",{className:"icon-repeat"})," Clone Document")))}}]),t}(d.default.Component);_.propTypes={visible:s.default.bool.isRequired,doc:s.default.object,database:s.default.object.isRequired,onSubmit:s.default.func.isRequired,hideCloneDocModal:s.default.func.isRequired,cloneDoc:s.default.func.isRequired},t.default=_},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),s=a(u),c=n(0),d=a(c),f=n(10),p=(a(f),function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e="icon "+this.props.iconClass;return d.default.createElement("div",{className:"panel-section"},d.default.createElement("button",{className:"panel-button "+this.props.className,title:this.props.title,onClick:this.props.onClick},d.default.createElement("i",{className:e}),d.default.createElement("span",null,this.props.title)))}}]),t}(d.default.Component));p.propTypes={title:s.default.string.isRequired,onClick:s.default.func.isRequired,className:s.default.string},p.defaultProps={title:"",iconClass:"",onClick:function(){},className:""},t.default=p},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),c=a(s),d=n(0),f=a(d),p=n(10),h=(a(p),n(20)),m=function(e){function t(){var e,n,a,i;o(this,t);for(var l=arguments.length,u=Array(l),s=0;s<l;s++)u[s]=arguments[s];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.closeModal=function(e){e&&e.preventDefault(),a.props.inProgress&&a.props.cancelUpload(),a.props.hideUploadModal(),a.props.resetUploadModal()},a.upload=function(){a.props.uploadAttachment({doc:a.props.doc,rev:a.props.doc.get("_rev"),files:a.attachments.files})},i=n,r(a,i)}return i(t,e),u(t,[{key:"render",value:function(){var e=this,t="alert alert-error";""===this.props.errorMessage&&(t+=" hide");var n="progress progress-info",a={disabled:"disabled"};return this.props.inProgress||(n+=" hide",a={}),f.default.createElement(h.Modal,{dialogClassName:"upload-file-modal",show:this.props.visible,onHide:this.closeModal},f.default.createElement(h.Modal.Header,{closeButton:!0},f.default.createElement(h.Modal.Title,null,"Upload Attachment")),f.default.createElement(h.Modal.Body,null,f.default.createElement("div",{className:t},this.props.errorMessage),f.default.createElement("div",null,f.default.createElement("form",{ref:function(t){return e.uploadForm=t},className:"form"},f.default.createElement("p",null,"Select a file to upload as an attachment to this document. Uploading a file saves the document as a new revision."),f.default.createElement("input",l({ref:function(t){return e.attachments=t},type:"file",name:"_attachments"},a)),f.default.createElement("br",null)),f.default.createElement("div",{className:n},f.default.createElement("div",{className:"bar",style:{width:this.props.uploadPercentage+"%"}})))),f.default.createElement(h.Modal.Footer,null,f.default.createElement("a",{href:"#","data-bypass":"true",className:"cancel-link",onClick:this.closeModal},"Cancel"),f.default.createElement("button",l({href:"#",id:"upload-btn","data-bypass":"true",className:"btn btn-primary save",onClick:this.upload},a),f.default.createElement("i",{className:"icon icon-upload"})," Upload Attachment")))}}]),t}(f.default.Component);m.propTypes={visible:c.default.bool.isRequired,doc:c.default.object,inProgress:c.default.bool.isRequired,uploadPercentage:c.default.number.isRequired,errorMessage:c.default.string,cancelUpload:c.default.func.isRequired,hideUploadModal:c.default.func.isRequired,resetUploadModal:c.default.func.isRequired,uploadAttachment:c.default.func.isRequired},t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),o=n(951),r=function(e){return e&&e.__esModule?e:{default:e}}(o),i=n(428),l=n(962),u=function(e,t){var n=e.revisionBrowser;return{docId:t.docId,tree:(0,i.getTree)(n),doc:(0,i.getDoc)(n),conflictDoc:(0,i.getConflictDoc)(n),conflictingRevs:(0,i.getConflictingRev)(n),databaseName:(0,i.getDatabaseName)(n),ours:(0,i.getOurs)(n),theirs:(0,i.getTheirs)(n),showConfirmModal:(0,i.getShowConfirmModal)(n),dropdownData:(0,i.getDropdownData)(n),isDiffViewEnabled:(0,i.getIsDiffViewEnabled)(n),docToWin:(0,i.getDocToWin)(n)}},s=function(e,t){return{toggleConfirmModal:function(t,n){e((0,l.toggleConfirmModal)(t,n))},initDiffEditor:function(){e((0,l.initDiffEditor)(t.databaseName,t.docId))},chooseLeaves:function(t,n){e((0,l.chooseLeaves)(t,n))},selectRevAsWinner:function(n,a,o){e((0,l.selectRevAsWinner)(t.databaseName,n,o.paths,a))},toggleDiffView:function(t){e((0,l.toggleDiffView)(t))}}},c=(0,a.connect)(u,s)(r.default);t.default=c},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(0),s=a(u),c=n(10),d=(a(c),n(952)),f=a(d),p=n(955),h=a(p),m=n(957),_=a(m),g=n(20),b=n(221),y=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggleDiffViewFalse=n.toggleDiffView.bind(n,!1),n.toggleDiffViewTrue=n.toggleDiffView.bind(n,!0),n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this.props.toggleConfirmModal(!1,null),this.props.initDiffEditor()}},{key:"toggleDiffView",value:function(e){this.props.toggleDiffView(e)}},{key:"render",value:function(){var e=this.props,t=e.tree,n=e.ours,a=e.theirs,o=e.conflictingRevs,r=e.isDiffViewEnabled;return t.length||a?a&&o.length?s.default.createElement("div",{className:"revision-wrapper scrollable"},s.default.createElement(f.default,this.props),s.default.createElement("div",{className:"revision-view-controls"},s.default.createElement(g.ButtonGroup,{className:"two-sides-toggle-button"},s.default.createElement(g.Button,{style:{width:"120px"},className:r?"active":"",onClick:this.toggleDiffViewTrue},s.default.createElement("i",{className:"icon-columns"})," Diff"),s.default.createElement(g.Button,{style:{width:"120px"},className:r?"":"active",onClick:this.toggleDiffViewFalse},s.default.createElement("i",{className:"icon-file-text"})," Document"))),r?s.default.createElement(_.default,{ours:n,theirs:a}):s.default.createElement(h.default,{ours:n,theirs:a})):s.default.createElement("div",{style:{textAlign:"center",color:"#fff"}},s.default.createElement("h2",null,"No conflicts")):s.default.createElement(b.LoadLines,null)}}]),t}(s.default.Component);t.default=y},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(0),s=a(u),c=n(10),d=(a(c),n(1)),f=a(d),p=n(11),h=a(p),m=n(13),_=a(m),g=n(953),b=a(g),y=n(954),E=a(y),v=_.default.ConfirmButton,O=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={showModal:!1},n.selectAsWinner=n.selectAsWinner.bind(n),n.onSelectAsWinnerClickOurs=n.onSelectAsWinnerClick.bind(n,n.props.ours),n.onSelectAsWinnerClickTheirs=n.onSelectAsWinnerClick.bind(n,n.props.theirs),n.onRevisionClick=n.onRevisionClick.bind(n),n.onForwardClick=n.onForwardClick.bind(n),n.onBackwardClick=n.onBackwardClick.bind(n),n}return i(t,e),l(t,[{key:"onRevisionClick",value:function(e){this.props.chooseLeaves(this.props.ours,e.value)}},{key:"onForwardClick",value:function(){var e=this.props.conflictingRevs,t=e.indexOf(this.props.theirs._rev),n=e[t+1];n&&this.props.chooseLeaves(this.props.ours,n)}},{key:"onBackwardClick",value:function(){var e=this.props.conflictingRevs,t=e.indexOf(this.props.theirs._rev),n=e[t-1];n&&this.props.chooseLeaves(this.props.ours,n)}},{key:"selectAsWinner",value:function(e,t){t&&h.default.utils.localStorageSet("deleteConflictsHideModal",!0),this.props.selectRevAsWinner(e._id,e._rev,this.props.tree)}},{key:"onSelectAsWinnerClick",value:function(e){if(!0!==h.default.utils.localStorageGet("deleteConflictsHideModal"))return void this.props.toggleConfirmModal(!0,e);this.selectAsWinner(e)}},{key:"render",value:function(){var e=this.props.tree,t={paddingRight:"30px"};return s.default.createElement("div",{className:"revision-browser-controls"},s.default.createElement(E.default,{toggleConfirmModal:this.props.toggleConfirmModal,onConfirm:this.selectAsWinner,docToWin:this.props.docToWin,show:this.props.showConfirmModal}),s.default.createElement("table",{style:{margin:"10px 60px",width:"100%"}},s.default.createElement("tbody",null,s.default.createElement("tr",{style:{height:"60px"}},s.default.createElement("td",{style:t},"Server-Selected Rev: "),s.default.createElement("td",{style:t},s.default.createElement("div",{style:{lineHeight:"36px",height:"36px",width:"337px",color:"#000",backgroundColor:"#ffbbbb"}},s.default.createElement("b",{style:{paddingLeft:"10px"}},e.winner))),s.default.createElement("td",null,s.default.createElement(v,{onClick:this.onSelectAsWinnerClickOurs,style:{marginRight:"10px",width:"220px"},text:"Delete Other Conflicts",buttonType:"btn-secondary",customIcon:"icon-trophy"}))),s.default.createElement("tr",{style:{height:"60px"}},s.default.createElement("td",{style:t},"Conflicting Revisions: "),s.default.createElement("td",{style:t},s.default.createElement(b.default,{onRevisionClick:this.onRevisionClick,onForwardClick:this.onForwardClick,onBackwardClick:this.onBackwardClick,options:this.props.dropdownData,selected:this.props.theirs._rev})),s.default.createElement("td",null,s.default.createElement(v,{"data-id":"button-select-theirs",onClick:this.onSelectAsWinnerClickTheirs,style:{marginRight:"10px",width:"220px"},text:"Select as Winner",buttonType:"btn-secondary",customIcon:"icon-trophy"}))))))}}]),t}(s.default.Component);t.default=O,O.propTypes={tree:f.default.object.isRequired,ours:f.default.object.isRequired,conflictingRevs:f.default.array.isRequired}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=a(o),i=n(10),l=(a(i),n(1)),u=a(l),s=n(77),c=a(s),d=function(e){var t=e.onClick,n=e.forward,a=n?"fonticon-right-open":"fonticon-left-open",o={height:"20px",width:"11px",marginTop:"7px"};return r.default.createElement("div",{style:o,className:a,onClick:t})};d.propTypes={onClick:u.default.func.isRequired};var f=function(e){var t=e.options,n=e.selected,a=e.onRevisionClick,o=e.onBackwardClick,i=e.onForwardClick;return r.default.createElement("div",{className:"conflicting-revs-dropdown"},r.default.createElement(d,{backward:!0,onClick:o}),r.default.createElement("div",{style:{width:"345px",margin:"0 5px"}},r.default.createElement(c.default,{name:"form-field-name",value:n,options:t,clearable:!1,onChange:a})),r.default.createElement(d,{forward:!0,onClick:i}))};f.propTypes={options:u.default.array.isRequired,selected:u.default.string.isRequired,onRevisionClick:u.default.func.isRequired,onBackwardClick:u.default.func.isRequired,onForwardClick:u.default.func.isRequired},t.default=f},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),s=a(u),c=n(0),d=a(c),f=n(10),p=(a(f),n(13)),h=a(p),m=n(20),_=h.default.ConfirmButton,g=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={checked:!1},n.close=n.close.bind(n),n.onDeleteConflicts=n.onDeleteConflicts.bind(n),n}return i(t,e),l(t,[{key:"close",value:function(){this.props.toggleConfirmModal(!1,null)}},{key:"onDeleteConflicts",value:function(){var e=this.state.checked;this.props.onConfirm(this.props.docToWin,e)}},{key:"render",value:function(){var e=this;return d.default.createElement(m.Modal,{dialogClassName:"delete-conflicts-modal",show:this.props.show,onHide:this.close},d.default.createElement(m.Modal.Header,{closeButton:!1},d.default.createElement(m.Modal.Title,null,"Solve Conflicts")),d.default.createElement(m.Modal.Body,null,d.default.createElement("p",null,d.default.createElement("i",{className:"icon-warning-sign"})," Do you want to delete all conflicting revisions for this document?")),d.default.createElement(m.Modal.Footer,null,d.default.createElement("div",{style:{float:"left",marginTop:"10px"}},d.default.createElement("label",null,d.default.createElement("input",{style:{margin:"0 5px 3px 0"},onChange:function(){e.setState({checked:!e.state.checked})},type:"checkbox"}),"Do not show this warning message again")),d.default.createElement("a",{style:{marginRight:"10px",cursor:"pointer"},onClick:this.close,"data-bypass":"true"},"Cancel"),d.default.createElement(_,{onClick:this.onDeleteConflicts,text:"Delete Revisions",buttonType:"btn-danger"})))}}]),t}(d.default.Component);t.default=g,g.propTypes={onConfirm:s.default.func.isRequired,toggleConfirmModal:s.default.func.isRequired}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(0),s=a(u),c=n(10),d=(a(c),n(217)),f=a(d);n(956);var p=f.default.acequire("ace/ext/static_highlight");n(218);var h=f.default.acequire("ace/mode/json").Mode;n(219);var m=f.default.acequire("ace/theme/idle_fingers"),_=function(e){function t(e){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"componentDidUpdate",value:function(){this.hightlightAfterRender()}},{key:"componentDidMount",value:function(){this.hightlightAfterRender()}},{key:"hightlightAfterRender",value:function(){var e=function(e){return JSON.stringify(e,null,"  ")},t=new h,n=this.revLeftOurs,a=this.revRightTheirs,o=p.render(e(this.props.ours),t,m,0,!0);n.innerHTML=o.html;var r=p.render(e(this.props.theirs),t,m,0,!0);a.innerHTML=r.html}},{key:"render",value:function(){var e=this,t=this.props,n=t.ours,a=t.theirs;return n&&a?s.default.createElement("div",{className:"revision-split-area"},s.default.createElement("div",{"data-id":"ours",style:{width:"50%"}},s.default.createElement("div",{style:{marginBottom:"20px"}},n._rev," (Server-Selected Rev)"),s.default.createElement("pre",{ref:function(t){return e.revLeftOurs=t}})),s.default.createElement("div",{"data-id":"theirs",style:{width:"50%"}},s.default.createElement("div",{style:{marginBottom:"20px"}},a._rev),s.default.createElement("pre",{ref:function(t){return e.revRightTheirs=t}}))):s.default.createElement("div",null)}}]),t}(s.default.Component);t.default=_},,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=a(o),i=n(10),l=(a(i),n(1)),u=a(l),s=n(958),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s);n(960);var d=function(e){var t=e.ours,n=e.theirs;if(!t||!n)return r.default.createElement("div",null);var a=c.diff(t,n),o=c.formatters.html.format(a,t);return r.default.createElement("div",{className:"revision-diff-area"},r.default.createElement("div",{style:{marginTop:"30px"},dangerouslySetInnerHTML:{__html:o}}))};d.propTypes={ours:u.default.object,theirs:u.default.object,currentRev:u.default.string},t.default=d},,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return e.reduce(function(e,n){return n[0]!==t&&e.push(n[0]),e},[]).filter(function(e){return-1===n.indexOf(e)})}function r(e,t){return{docs:t.map(function(t){return{_id:e,_rev:t,_deleted:!0}})}}Object.defineProperty(t,"__esModule",{value:!0}),t.selectRevAsWinner=t.toggleConfirmModal=t.chooseLeaves=t.toggleDiffView=t.initDiffEditor=void 0;var i=function(){function e(e,t){var n=[],a=!0,o=!1,r=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){o=!0,r=e}finally{try{!a&&l.return&&l.return()}finally{if(o)throw r}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=n(2),u=a(l),s=n(21),c=n(429),d=a(c),f=n(963),p=a(f),h=n(964),m=a(h),_=n(974),g=a(_);m.default.plugin(g.default);var b=void 0,y=(t.initDiffEditor=function(e,t){return function(n){var a=u.default.urls("databaseBaseURL","apiurl",e);b=(0,m.default)(a),Promise.all([b.get(t),(0,p.default)(b,t)]).then(function(t){var a=i(t,2),r=a[0],l=a[1],u=o(l.paths,l.winner,Object.keys(l.deleted)),s=u[0];if(!s)return n(y(l,r,u,null,e));b.get(r._id,{rev:s}).then(function(t){n(y(l,r,u,t,e))})})}},function(e,t,n,a,o){return{type:d.default.REV_BROWSER_REV_TREE_LOADED,options:{tree:e,doc:t,conflictDoc:a,conflictingRevs:n,databaseName:o}}}),E=(t.toggleDiffView=function(e){return{type:d.default.REV_BROWSER_DIFF_ENABLE_DIFF_VIEW,options:{enableDiff:e}}},t.chooseLeaves=function(e,t){return function(n){b.get(e._id,{rev:t}).then(function(t){n(E(e,t))})}},function(e,t){return{type:d.default.REV_BROWSER_DIFF_DOCS_READY,options:{theirs:t,ours:e}}}),v=t.toggleConfirmModal=function(e,t){return{type:d.default.REV_BROWSER_SHOW_CONFIRM_MODAL,options:{show:e,docToWin:t}}};t.selectRevAsWinner=function(e,t,n,a){return function(i){var l=o(n,a,[]),c=r(t,l);(0,s.post)(u.default.urls("bulk_docs","server",e,""),c).then(function(t){if(t.error)return u.default.addNotification({msg:"Failed to delete clean up conflicts!",type:"error",clear:!0});u.default.addNotification({msg:"Conflicts successfully solved.",clear:!0}),i(v(!1,null)),u.default.navigate(u.default.urls("allDocs","app",e,""))})}}},,,,,,,,,,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=a(o),i=n(2),l=a(i),u=n(246),s=a(u),c=n(249),d=a(c),f=n(70),p=a(f),h=n(80),m=a(h),_=n(119),g=a(_),b=n(247),y=n(248),E=s.default.extend({routes:{"database/:database/_partition/:partitionkey/new_view":{route:"createView",roles:["fx_loggedIn"]},"database/:database/_partition/:partitionkey/new_view/:designDoc":{route:"createView",roles:["fx_loggedIn"]},"database/:database/new_view":{route:"createViewNoPartition",roles:["fx_loggedIn"]},"database/:database/new_view/:designDoc":{route:"createViewNoPartition",roles:["fx_loggedIn"]},"database/:database/_partition/:partitionkey/_design/:ddoc/_view/:view":{route:"showPartitionedView",roles:["fx_loggedIn"]},"database/:database/_design/:ddoc/_view/:view":{route:"showGlobalView",roles:["fx_loggedIn"]},"database/:database/_partition/:partitionkey/_design/:ddoc/_view/:view/edit":{route:"editView",roles:["fx_loggedIn"]},"database/:database/_design/:ddoc/_view/:view/edit":{route:"editViewNoPartition",roles:["fx_loggedIn"]}},initialize:function(e,t){var n=t[0];this.databaseName=n,this.database=new m.default.Model({id:n}),this.createDesignDocsCollection(),this.addSidebar()},showGlobalView:function(e,t,n){return this.showView(e,"",t,n)},showPartitionedView:function(e,t,n,a){return this.showView(e,t,n,a)},showView:function(e,t,n,a){a=a.replace(/\?.*$/,""),d.default.dispatchClearIndex(),d.default.dispatchFetchDesignDocsBeforeEdit({viewName:a,isNewView:!1,database:this.database,designDocs:this.designDocs,designDocId:"_design/"+n}),p.default.fetchSelectedDatabaseInfo(e);var o=new b.SidebarItemSelection("designDoc",{designDocName:n,designDocSection:"Views",indexName:a});g.default.dispatchExpandSelectedItem(o);var i=t?encodeURIComponent(t):"",u=l.default.urls("view","server",encodeURIComponent(e),i,encodeURIComponent(n),encodeURIComponent(a)),s=l.default.urls("view","apiurl",encodeURIComponent(e),i,encodeURIComponent(n),encodeURIComponent(a)),c=l.default.constants.DOC_URLS.GENERAL,f=function(t){var o=l.default.urls("partitioned_view","app",encodeURIComponent(e),encodeURIComponent(t),encodeURIComponent(n));l.default.navigate("#/"+o+encodeURIComponent(a))},h=function(){var t=l.default.urls("view","app",encodeURIComponent(e),encodeURIComponent(n));l.default.navigate("#/"+t+encodeURIComponent(a))},m=this.getCrumbs(this.database);return r.default.createElement(y.DocsTabsSidebarLayout,{docURL:c,endpoint:s,dbName:this.database.id,dropDownLinks:m,database:this.database,fetchUrl:u,ddocsOnly:!1,deleteEnabled:!1,selectedNavItem:o,partitionKey:t,onPartitionKeySelected:f,onGlobalModeSelected:h,globalMode:""===t})},createViewNoPartition:function(e,t){return this.createView(e,"",t)},createView:function(e,t,n){var a=!0,o="new-doc";n&&(o="_design/"+n,a=!1),d.default.dispatchFetchDesignDocsBeforeEdit({viewName:"new-view",isNewView:!0,database:this.database,designDocs:this.designDocs,designDocId:o,isNewDesignDoc:a}),p.default.fetchSelectedDatabaseInfo(e);var i=new b.SidebarItemSelection(""),u=this.getCrumbs(this.database);return r.default.createElement(y.ViewsTabsSidebarLayout,{showIncludeAllDocs:!0,docURL:l.default.constants.DOC_URLS.GENERAL,dbName:this.database.id,dropDownLinks:u,database:this.database,selectedNavItem:i,partitionKey:t})},editViewNoPartition:function(e,t,n){return this.editView(e,"",t,n)},editView:function(e,t,n,a){d.default.dispatchFetchDesignDocsBeforeEdit({viewName:a,isNewView:!1,database:this.database,designDocs:this.designDocs,designDocId:"_design/"+n}),p.default.fetchSelectedDatabaseInfo(e);var o=new b.SidebarItemSelection("designDoc",{designDocName:n,designDocSection:"Views",indexName:a});g.default.dispatchExpandSelectedItem(o);var i=l.default.constants.DOC_URLS.GENERAL,u=l.default.urls("view","apiurl",e,n,a),s=this.getCrumbs(this.database);return r.default.createElement(y.ViewsTabsSidebarLayout,{showIncludeAllDocs:!0,docURL:i,endpoint:u,dbName:this.database.id,dropDownLinks:s,database:this.database,selectedNavItem:o,partitionKey:t})}});t.default=E},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=a(o),i=n(11),l=a(i),u=n(2),s=a(u),c=n(136),d=a(c),f=n(70),p=a(f),h=n(137),m=a(h),_=n(980),g=s.default.RouteObject.extend({selectedHeader:"Databases",hideApiBar:!0,hideNotificationCenter:!0,routes:{"database/:database/_partition/:partitionkey/_index":{route:"createIndex",roles:["fx_loggedIn"]},"database/:database/_index":{route:"createIndexNoPartition",roles:["fx_loggedIn"]},"database/:database/_partition/:partitionkey/_find":{route:"findUsingIndex",roles:["fx_loggedIn"]},"database/:database/_find":{route:"findUsingIndexNoPartition",roles:["fx_loggedIn"]}},initialize:function(e,t){var n=t[0];this.databaseName=n,this.database=new d.default.Model({id:n})},findUsingIndexNoPartition:function(e){return this.findUsingIndex(e,"")},findUsingIndex:function(e,t){var n=t?encodeURIComponent(t):"",a=s.default.urls("allDocs","app",encodeURIComponent(this.databaseName),n),o=t?"/"+n:"",i="/"+encodeURIComponent(this.databaseName)+o+"/_find",u=[{name:e,link:a},{name:l.default.i18n.en_US["mango-title-editor"]}],c=s.default.urls("mango","query-apiurl",encodeURIComponent(this.databaseName),n),d=function(t){var n=s.default.urls("mango","query-app",encodeURIComponent(e),encodeURIComponent(t));s.default.navigate("#/"+n)},f=function(){var t=s.default.urls("mango","query-app",encodeURIComponent(e));s.default.navigate("#/"+t)};return r.default.createElement(_.MangoLayoutContainer,{database:e,crumbs:u,docURL:s.default.constants.DOC_URLS.MANGO_SEARCH,endpoint:c,edit:!1,databaseName:this.databaseName,fetchUrl:i,partitionKey:t,onPartitionKeySelected:d,onGlobalModeSelected:f,globalMode:""===t})},createIndexNoPartition:function(e){return this.createIndex(e,"")},createIndex:function(e,t){var n=new m.default.AllDocs(null,{database:this.database,paging:{pageSize:500},params:{startkey:"_design/",endkey:"_design0",include_docs:!0,limit:500}}),a=t?encodeURIComponent(t):"",o=s.default.urls("allDocs","app",encodeURIComponent(this.databaseName),a),i=s.default.urls("mango","index-apiurl",encodeURIComponent(this.databaseName),a),u=[{name:e,link:o},{name:l.default.i18n.en_US["mango-indexeditor-title"]}];return p.default.fetchSelectedDatabaseInfo(e),r.default.createElement(_.MangoLayoutContainer,{showIncludeAllDocs:!1,crumbs:u,docURL:s.default.constants.DOC_URLS.MANGO_INDEX,endpoint:i,edit:!0,designDocs:n,databaseName:this.databaseName,partitionKey:t})}});t.default={MangoIndexEditorAndQueryEditor:g}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.MangoLayoutContainer=t.MangoContent=t.MangoHeader=t.MangoFooter=t.RightHeader=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(0),s=a(u),c=n(14),d=n(11),f=a(d),p=n(139),h=n(138),m=a(h),_=n(981),g=a(_),b=n(164),y=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(b),E=n(421),v=a(E),O=n(422),D=a(O),N=n(423),T=a(N),S=n(424),w=a(S),C=n(2),R=a(C),I=n(30),A=a(I),P=t.RightHeader=function(e){var t=e.docURL,n=e.endpoint,a=e.databaseName,o=e.showPartitionKeySelector,r=e.partitionKey,i=e.onPartitionKeySelected,l=e.onGlobalModeSelected,u=e.globalMode,c=s.default.createElement(T.default,{docURL:t,endpoint:n,includeQueryOptionsParams:!1}),d=null;return o&&(d=s.default.createElement(w.default,{databaseName:a,partitionKey:r,onPartitionKeySelected:i,onGlobalModeSelected:l,globalMode:u})),s.default.createElement("div",{className:"right-header-wrapper flex-layout flex-row flex-body"},s.default.createElement("div",{style:{flex:1,padding:"18px 6px 12px 12px"}},d),s.default.createElement("div",{id:"right-header",className:"flex-body"}),c,s.default.createElement("div",{id:"notification-center-btn"},s.default.createElement(m.default,null)))},L=t.MangoFooter=function(e){var t=e.databaseName,n=e.fetchUrl,a=e.queryDocs;return s.default.createElement("div",{id:"footer"},s.default.createElement(D.default,{databaseName:t,fetchUrl:n,queryDocs:a}))},M=t.MangoHeader=function(e){var t=e.crumbs,n=e.docURL,a=e.endpoint,o=e.databaseName,r=e.partitionKey,i=e.showPartitionKeySelector,l=e.onPartitionKeySelected,u=e.onGlobalModeSelected,c=e.globalMode;return s.default.createElement("div",{className:"header-wrapper flex-layout flex-row"},s.default.createElement("div",{className:"flex-body faux__breadcrumbs-mango-header"},s.default.createElement(p.Breadcrumbs,{crumbs:t})),s.default.createElement(P,{docURL:n,endpoint:a,databaseName:o,showPartitionKeySelector:i,partitionKey:r,onPartitionKeySelected:l,onGlobalModeSelected:u,globalMode:c}))};M.defaultProps={crumbs:[]};var k=t.MangoContent=function(e){var t=e.edit,n=e.designDocs,a=e.explainPlan,o=e.databaseName,r=e.fetchUrl,i=e.queryDocs,l=e.docType,u=e.partitionKey,c=t?s.default.createElement(g.default.MangoIndexEditorContainer,{description:f.default.i18n.en_US["mango-descripton-index-editor"],databaseName:o,partitionKey:u}):s.default.createElement(g.default.MangoQueryEditorContainer,{description:f.default.i18n.en_US["mango-descripton"],editorTitle:f.default.i18n.en_US["mango-title-editor"],additionalIndexesText:f.default.i18n.en_US["mango-additional-indexes-heading"],databaseName:o,partitionKey:u}),d=s.default.createElement(v.default,{fetchUrl:r,designDocs:n,ddocsOnly:!1,databaseName:o,fetchAtStartup:!1,queryDocs:i,docType:l,partitionKey:u}),p=s.default.createElement(L,{databaseName:o,fetchUrl:r,queryDocs:i});return a&&(d=s.default.createElement(g.default.ExplainPage,{explainPlan:a}),p=null),s.default.createElement("div",{id:"two-pane-content",className:"flex-layout flex-row flex-body"},s.default.createElement("div",{id:"left-content",className:"flex-body"},c),s.default.createElement("div",{id:"right-content",className:"flex-body flex-layout flex-col"},s.default.createElement("div",{id:"dashboard-lower-content",className:"flex-body"},d),p))},x=function(e){function t(e){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.database,n=e.edit,a=e.docURL,o=e.crumbs,r=e.designDocs,i=e.fetchUrl,l=e.databaseName,u=e.queryFindCode,c=e.partitionKey,d=e.onPartitionKeySelected,f=e.onGlobalModeSelected,p=e.globalMode,h=this.props.endpoint;if(this.props.explainPlan){var m=c?encodeURIComponent(c):"";h=R.default.urls("mango","explain-apiurl",encodeURIComponent(t),m)}var _=function(e){return y.mangoQueryDocs(l,c,u,e)},g=A.default.INDEX_RESULTS_DOC_TYPE.MANGO_QUERY;return n&&(_=function(e){return y.fetchIndexes(l,e)},g=A.default.INDEX_RESULTS_DOC_TYPE.MANGO_INDEX),s.default.createElement("div",{id:"dashboard",className:"two-pane flex-layout flex-col"},s.default.createElement(M,{docURL:a,endpoint:h,crumbs:o,databaseName:l,partitionKey:c,showPartitionKeySelector:!n,onPartitionKeySelected:d,onGlobalModeSelected:f,globalMode:p}),s.default.createElement(k,{edit:n,designDocs:r,explainPlan:this.props.explainPlan,databaseName:l,fetchUrl:i,queryDocs:_,docType:g,partitionKey:c}))}}]),t}(u.Component),j=function(e,t){var n=e.mangoQuery;return{explainPlan:n.explainPlan,queryFindCode:n.queryFindCode,partitionKey:t.partitionKey,databaseName:t.databaseName,onPartitionKeySelected:t.onPartitionKeySelected,onGlobalModeSelected:t.onGlobalModeSelected,globalMode:t.globalMode}};t.MangoLayoutContainer=(0,c.connect)(j)(x)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(982),r=a(o),i=n(985),l=a(i),u=n(987),s=a(u);t.default={MangoIndexEditorContainer:l.default,MangoQueryEditorContainer:r.default,ExplainPage:s.default}},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(14),i=n(2),l=o(i),u=n(92),s=a(u),c=n(120),d=a(c),f=n(983),p=o(f),h=n(163),m=o(h),_=n(439),g=o(_),b=n(164),y=a(b),E=function(e){var t=e.availableIndexes;return t?t.filter(function(e){return-1!==["json","special"].indexOf(e.type)}):[]},v=function(e){var t=e.additionalIndexes;if(!t)return[];var n=l.default.getExtensions("mango:additionalIndexes")[0];return n?t.filter(function(e){return-1!==e.get("type").indexOf(n.type)}):void 0},O=function(e,t){var n=e.mangoQuery,a=e.indexResults;return{databaseName:t.databaseName,queryFindCode:m.default.formatCode(n.queryFindCode),queryFindCodeChanged:n.queryFindCodeChanged,availableIndexes:E(n),additionalIndexes:v(n),isLoading:n.isLoading,history:n.history,description:t.description,editorTitle:t.editorTitle,additionalIndexesText:t.additionalIndexesText,fetchParams:a.fetchParams,executionStats:a.executionStats,warning:a.warning,partitionKey:t.partitionKey}},D=function(e){return{loadQueryHistory:function(t){e(g.default.loadQueryHistory(t))},runExplainQuery:function(t){e(g.default.runExplainQuery(t))},runQuery:function(t){var n=function(e){return y.mangoQueryDocs(t.databaseName,t.partitionKey,t.queryCode,e)};e(g.default.hideQueryExplain()),e(g.default.newQueryFindCode(t)),e(s.fetchDocs(n,t.fetchParams,{}))},clearResults:function(){e(d.resetState())},manageIndexes:function(){e(g.default.hideQueryExplain())}}},N=(0,r.connect)(O,D)(p.default);t.default=N},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),c=a(s),d=n(0),f=a(d),p=n(77),h=a(p);n(250);var m=n(11),_=a(m),g=n(2),b=a(g),y=n(13),E=a(y),v=n(984),O=a(v),D=E.default.PaddedBorderedBox,N=E.default.CodeEditorPanel,T=_.default.helpers.getDocUrl,S=function(e){function t(e){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),u(t,[{key:"componentDidMount",value:function(){var e=this;prettyPrint(),this.props.loadQueryHistory({databaseName:this.props.databaseName}),this.props.clearResults();var t=this.codeEditor.codeEditor.editor;t.commands.byName.runQuery||t.commands.addCommand({name:"runQuery",bindKey:{win:"Ctrl-Enter",mac:"Command-Option-Enter"},exec:function(){e.runQuery({preventDefault:function(){}})},readOnly:!0})}},{key:"componentDidUpdate",value:function(e){prettyPrint(),e.history!=this.props.history&&this.setEditorValue(this.props.history[0].value)}},{key:"setEditorValue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.codeEditor.getEditor().setValue(e)}},{key:"getEditorValue",value:function(){return this.codeEditor.getValue()}},{key:"editorHasErrors",value:function(){return this.codeEditor.getEditor().hasErrors()}},{key:"onHistorySelected",value:function(e){this.setEditorValue(e.value)}},{key:"editor",value:function(){var e=this;return f.default.createElement("div",{className:"mango-editor-wrapper"},f.default.createElement("form",{className:"form-horizontal",onSubmit:function(t){e.runQuery(t)}},f.default.createElement("div",{className:"padded-box"},f.default.createElement(h.default,{className:"mango-select",options:this.props.history,ref:function(t){return e.history=t},placeholder:"Query history",searchable:!1,clearable:!1,autosize:!1,onChange:function(t){e.onHistorySelected(t)}})),f.default.createElement(D,null,f.default.createElement(N,{id:"query-field",ref:function(t){return e.codeEditor=t},title:this.props.editorTitle,docLink:T("MANGO_SEARCH"),defaultCode:this.props.queryFindCode})),f.default.createElement("div",{className:"padded-box"},f.default.createElement("div",{className:"control-group"},f.default.createElement("button",{type:"submit",id:"create-index-btn",className:"btn btn-primary btn-space"},"Run Query"),f.default.createElement("button",{type:"button",id:"explain-btn",className:"btn btn-secondary btn-space",onClick:function(t){e.runExplain(t)}},"Explain"),f.default.createElement("a",{className:"edit-link",style:{},onClick:function(t){e.manageIndexes(t)}},"manage indexes")),f.default.createElement("div",null,f.default.createElement(O.default,this.props)))))}},{key:"render",value:function(){return this.props.isLoading?f.default.createElement("div",{className:"mango-editor-wrapper"},f.default.createElement(E.default.LoadLines,null)):this.editor()}},{key:"notifyOnQueryError",value:function(){return!!this.editorHasErrors()&&(b.default.addNotification({msg:"Please fix the Javascript errors and try again.",type:"error",clear:!0}),!0)}},{key:"manageIndexes",value:function(e){e.preventDefault(),this.props.manageIndexes();var t=this.props.partitionKey?encodeURIComponent(this.props.partitionKey):"",n="#"+b.default.urls("mango","index-app",encodeURIComponent(this.props.databaseName),t);b.default.navigate(n)}},{key:"runExplain",value:function(e){e.preventDefault(),this.notifyOnQueryError()||this.props.runExplainQuery({databaseName:this.props.databaseName,partitionKey:this.props.partitionKey,queryCode:this.getEditorValue()})}},{key:"runQuery",value:function(e){e.preventDefault(),this.notifyOnQueryError()||(this.props.clearResults(),this.props.runQuery({databaseName:this.props.databaseName,partitionKey:this.props.partitionKey,queryCode:JSON.parse(this.getEditorValue()),fetchParams:l({},this.props.fetchParams,{skip:0})}))}}]),t}(d.Component);t.default=S,S.propTypes={description:c.default.string.isRequired,editorTitle:c.default.string.isRequired,queryFindCode:c.default.string.isRequired,queryFindCodeChanged:c.default.bool,databaseName:c.default.string.isRequired,partitionKey:c.default.string,runExplainQuery:c.default.func.isRequired,runQuery:c.default.func.isRequired,manageIndexes:c.default.func.isRequired,loadQueryHistory:c.default.func.isRequired,clearResults:c.default.func.isRequired}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(0),s=a(u),c=n(1),d=a(c),f=n(20),p=function(e){function t(e){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"humanizeDuration",value:function(e){if(e<1e3)return Math.round(e)+" ms";var t=e/1e3;if(t<60)return Math.floor(t)+" seconds";var n=Math.floor(t/60);return t-=60*n,n+"minute, "+t+"seconds"}},{key:"getWarning",value:function(e,t){return e&&!t&&e.results_returned&&(e.total_docs_examined||e.total_quorum_docs_examined)/e.results_returned>10?"The number of documents examined is high in proportion to the number of results returned. Consider adding an index to improve this.":t}},{key:"warningPopupComponent",value:function(e){if(e)return s.default.createElement("div",{className:"warning"},s.default.createElement("i",{className:"fonticon-attention-circled"})," ",e)}},{key:"executionStatsLine",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=0!==t||n?"true":"false";return s.default.createElement("div",{"data-status":o},e+": ",s.default.createElement("span",{className:"value"},t.toLocaleString()," ",a))}},{key:"executionStatsPopupComponent",value:function(e){return e?s.default.createElement("div",{className:"execution-stats-popup-component"},this.executionStatsLine("documents examined",e.total_docs_examined),this.executionStatsLine("documents examined (quorum)",e.total_quorum_docs_examined),this.executionStatsLine("results returned",e.results_returned,!0),this.executionStatsLine("execution time",e.execution_time_ms,!1,"ms")):null}},{key:"popup",value:function(e,t){return s.default.createElement(f.Popover,{id:"popover-execution-stats",title:"Execution Statistics"},s.default.createElement("div",{className:"execution-stats-popup"},this.executionStatsPopupComponent(e),this.warningPopupComponent(t)))}},{key:"render",value:function(){var e=this.props,t=e.executionStats,n=e.warning,a=this.getWarning(t,n),o=null;a&&(o=s.default.createElement("i",{className:"fonticon-attention-circled"}));var r=null;t?r=s.default.createElement("span",{className:"execution-stats-component"},"Executed in ",this.humanizeDuration(t.execution_time_ms)):a&&(r=s.default.createElement("span",{className:"execution-stats-component"},"Warning"));var i=this.popup(t,a);return s.default.createElement(f.OverlayTrigger,{trigger:["hover","focus","click"],placement:"right",overlay:i},s.default.createElement("span",{className:"execution-stats"},o,r))}}]),t}(s.default.Component);t.default=p,p.propTypes={executionStats:d.default.object,warning:d.default.string}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0});var r=n(14),i=n(92),l=o(i),u=n(120),s=o(u),c=n(986),d=a(c),f=n(163),p=a(f),h=n(439),m=a(h),_=n(164),g=o(_),b=function(e,t){var n=e.mangoQuery,a=e.indexResults,o=e.databases;return{description:t.description,databaseName:t.databaseName,queryIndexCode:p.default.formatCode(n.queryIndexCode),templates:n.queryIndexTemplates,fetchParams:a.fetchParams,partitionKey:t.partitionKey,isLoading:o.isLoadingDbInfo,isDbPartitioned:o.isDbPartitioned}},y=function(e,t){return{saveIndex:function(t){e(m.default.saveIndex(t))},loadIndexList:function(n){var a=function(e){return g.fetchIndexes(t.databaseName,e)};e(l.fetchDocs(a,n.fetchParams,{}))},clearResults:function(){e(s.resetState())},loadIndexTemplates:function(){e(m.default.loadIndexTemplates())}}},E=(0,r.connect)(b,y)(d.default);t.default=E},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),c=a(s),d=n(0),f=a(d),p=n(77),h=a(p);n(250);var m=n(11),_=a(m),g=n(2),b=a(g),y=n(13),E=a(y),v=E.default.PaddedBorderedBox,O=E.default.CodeEditorPanel,D=E.default.ConfirmButton,N=E.default.LoadLines,T=_.default.helpers.getDocUrl,S=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={partitionedSelected:!0},n.onTemplateSelected=n.onTemplateSelected.bind(n),n.onTogglePartitioned=n.onTogglePartitioned.bind(n),n.saveIndex=n.saveIndex.bind(n),n}return i(t,e),u(t,[{key:"componentDidMount",value:function(){prettyPrint(),this.props.loadIndexTemplates(),this.props.clearResults(),this.props.loadIndexList({fetchParams:l({},this.props.fetchParams,{skip:0})})}},{key:"componentDidUpdate",value:function(e){prettyPrint(),e.templates!=this.props.templates&&this.setEditorValue(this.props.templates[0].value)}},{key:"setEditorValue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(this.codeEditor)return this.codeEditor.getEditor().setValue(e)}},{key:"getEditorValue",value:function(){return this.codeEditor.getValue()}},{key:"editorHasErrors",value:function(){return this.codeEditor.getEditor().hasErrors()}},{key:"onTemplateSelected",value:function(e){this.setEditorValue(e.value)}},{key:"onTogglePartitioned",value:function(){this.setState({partitionedSelected:!this.state.partitionedSelected})}},{key:"partitionedCheckobx",value:function(){return this.props.isDbPartitioned?f.default.createElement("label",null,f.default.createElement("input",{id:"js-partitioned-index",type:"checkbox",checked:this.state.partitionedSelected,onChange:this.onTogglePartitioned,style:{margin:"0px 10px 0px 0px"}}),"Partitioned"):null}},{key:"editor",value:function(){var e=this,t=this.props.partitionKey?encodeURIComponent(this.props.partitionKey):"",n="#"+b.default.urls("mango","query-app",encodeURIComponent(this.props.databaseName),t);return f.default.createElement("div",{className:"mango-editor-wrapper"},f.default.createElement("form",{className:"form-horizontal",onSubmit:this.saveIndex},f.default.createElement("div",{className:"padded-box"},f.default.createElement(h.default,{className:"mango-select",options:this.props.templates,ref:function(t){return e.templates=t},placeholder:"Examples",searchable:!1,clearable:!1,autosize:!1,onChange:this.onTemplateSelected})),f.default.createElement(v,null,f.default.createElement(O,{id:"query-field",ref:function(t){return e.codeEditor=t},title:"Index",docLink:T("MANGO_INDEX"),defaultCode:this.props.queryIndexCode}),this.partitionedCheckobx()),f.default.createElement("div",{className:"padded-box"},f.default.createElement("div",{className:"control-group"},f.default.createElement(D,{text:"Create index",id:"create-index-btn",showIcon:!1}),f.default.createElement("a",{className:"edit-link",href:n},"edit query")))))}},{key:"render",value:function(){return this.props.isLoading?f.default.createElement(N,null):this.editor()}},{key:"saveIndex",value:function(e){e.preventDefault();var t=function(){b.default.addNotification({msg:"Please fix the Javascript errors and try again.",type:"error",clear:!0})};if(this.editorHasErrors())return void t();var n=this.getEditorValue();if(this.props.isDbPartitioned)try{var a=JSON.parse(n);!0!==a.partitioned&&!1!==a.partitioned&&(a.partitioned=this.state.partitionedSelected),n=JSON.stringify(a)}catch(e){t()}this.props.saveIndex({databaseName:this.props.databaseName,indexCode:n,fetchParams:this.props.fetchParams})}}]),t}(d.Component);t.default=S,S.propTypes={isLoading:c.default.bool.isRequired,databaseName:c.default.string.isRequired,isDbPartitioned:c.default.bool.isRequired,saveIndex:c.default.func.isRequired,queryIndexCode:c.default.string.isRequired,partitionKey:c.default.string,loadIndexTemplates:c.default.func.isRequired,clearResults:c.default.func.isRequired,loadIndexList:c.default.func.isRequired},S.defaultProps={isLoading:!0,isDbPartitioned:!1}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),s=a(u),c=n(0),d=a(c),f=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"componentDidMount",value:function(){prettyPrint()}},{key:"componentDidUpdate",value:function(){prettyPrint()}},{key:"render",value:function(){return d.default.createElement("div",null,d.default.createElement("pre",{className:"prettyprint"},JSON.stringify(this.props.explainPlan,null," ")))}}]),t}(c.Component);t.default=f,f.propTypes={explainPlan:s.default.object.isRequired}},function(e,t,n){"use strict";function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1],n=t.options;switch(t.type){case i.default.DESIGN_FETCHING:return o({},e,{isLoading:!0});case i.default.DESIGN_DOC_MONITOR:return o({},e,{isLoading:!1,viewIndex:n.designDocInfo.get("view_index")});case i.default.DESIGN_DOC_REFRESH:return o({},e,{viewIndex:n.designDocInfo.get("view_index")});default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=a;var r=n(416),i=function(e){return e&&e.__esModule?e:{default:e}}(r),l={isLoading:!0,viewIndex:void 0}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments[1],n=t.options;switch(t.type){case d.default.MANGO_SET_DB:return r({},e,{database:n.database,historyKey:n.database?n.database.id:"default"});case d.default.MANGO_LOAD_QUERY_HISTORY:var a=D(n.databaseName);return r({},e,{history:a,historyKey:n.databaseName+"_queryhistory",queryFindCode:JSON.parse(a[0].value)});case d.default.MANGO_NEW_QUERY_FIND_CODE:return r({},e,{queryFindCode:n.queryCode,history:N(e,n.queryCode)});case d.default.MANGO_RESET:return r({},e,{getLoadingIndexes:n.isLoading});case d.default.MANGO_LOAD_INDEX_TEMPLATES:var o=v();return r({},e,{queryIndexTemplates:o,queryIndexCode:JSON.parse(o[0].value)});case d.default.MANGO_NEW_QUERY_CREATE_INDEX_TEMPLATE:return r({},e,{queryIndexCode:n.code,queryIndexTemplates:T(e,n.code,n.label)});case d.default.MANGO_SHOW_EXPLAIN_RESULTS:return r({},e,{explainPlan:n.explainPlan});case d.default.MANGO_HIDE_EXPLAIN_RESULTS:return r({},e,{explainPlan:!1});default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=o;var i=n(11),l=a(i),u=n(2),s=a(u),c=n(440),d=a(c),f=n(163),p=a(f),h=n(990),m=a(h),_={index:{fields:["_id"]},type:"json"},g={selector:{_id:{$gt:null}}},b=function(e){var t="string"==typeof e?JSON.parse(e):e;return{label:JSON.stringify(t),value:p.default.formatCode(t),className:"mango-select-entry"}},y=function(){return[b(g)]},E=function(){return m.default.INDEX_TEMPLATES.map(function(e){var t=b(e.code);return t.label=e.label||t.label,t})},v=function(){var e=s.default.getExtensions("mango:indexTemplates")[0];return e?e.filter(function(e){return!!e.code}).map(function(e){var t=b(e.code);return t.label=e.label||t.label,t}):E()},O={queryFindCode:g,queryIndexCode:_,queryFindCodeChanged:!1,explainPlan:void 0,history:y(),historyKey:"default",queryIndexTemplates:E()},D=function(e){var t=e+"_queryhistory",n=l.default.utils.localStorageGet(t);return n||(n=s.default.getExtensions("mango:queryHistory")[0],n?n.filter(function(e){return!!e.code}).map(function(e){var t=b(e.code);return t.label=e.label||t.label,t}):y())},N=function(e,t,n){var a=e.historyKey,o=e.history,r=o.slice(),i=b(t);i.label=n||i.label;var u=r.findIndex(function(e){return e.value===i.value});return u>-1&&r.splice(u,1),r.unshift(i),r.length>5&&r.splice(5,1),l.default.utils.localStorageSet(a,r),r},T=function(e,t,n){var a=e.queryIndexTemplates,o=a.slice(),r=b(t);r.label=n||r.label,o.find(function(e){return e.value===r.value})||o.push(r)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={INDEX_TEMPLATES:[{label:"Single field (json)",code:{index:{fields:["foo"]},name:"foo-json-index",type:"json"}},{label:"Multiple fields (json)",code:{index:{fields:["foo","bar"]},name:"foo-bar-json-index",type:"json"}}]}},function(e,t,n){"use strict";function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l;switch(arguments[1].type){case i.default.PARTITON_KEY_SHOW_SELECTOR:return o({},e,{selectorVisible:!0});case i.default.PARTITON_KEY_HIDE_SELECTOR:return o({},e,{selectorVisible:!1});default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=a;var r=n(425),i=function(e){return e&&e.__esModule?e:{default:e}}(r),l={selectorVisible:!1}},function(e,t,n){"use strict";function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1],n=t.options;switch(t.type){case i.default.RESET_DOC:return o({},l);case i.default.DOC_LOADED:var a=n.doc.get("_conflicts")?n.doc.get("_conflicts").length:0;return n.doc.unset("_conflicts"),o({},e,{isLoading:!1,doc:n.doc,docConflictCount:a});case i.default.SHOW_CLONE_DOC_MODAL:return o({},e,{cloneDocModalVisible:!0});case i.default.HIDE_CLONE_DOC_MODAL:return o({},e,{cloneDocModalVisible:!1});case i.default.SHOW_DELETE_DOC_CONFIRMATION_MODAL:return o({},e,{deleteDocModalVisible:!0});case i.default.HIDE_DELETE_DOC_CONFIRMATION_MODAL:return o({},e,{deleteDocModalVisible:!1});case i.default.SHOW_UPLOAD_MODAL:return o({},e,{uploadModalVisible:!0});case i.default.HIDE_UPLOAD_MODAL:return o({},e,{uploadModalVisible:!1});case i.default.FILE_UPLOAD_SUCCESS:return o({},e,{numFilesUploaded:e.numFilesUploaded+1});case i.default.FILE_UPLOAD_ERROR:return o({},e,{uploadInProgress:!1,uploadPercentage:0,uploadErrorMessage:n.error});case i.default.RESET_UPLOAD_MODAL:return o({},e,{uploadInProgress:!1,uploadPercentage:0,uploadErrorMessage:""});case i.default.START_FILE_UPLOAD:return o({},e,{uploadInProgress:!0,uploadPercentage:0,fileUploadErrorMsg:""});case i.default.SET_FILE_UPLOAD_PERCENTAGE:return o({},e,{uploadPercentage:n.percent});default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=a;var r=n(427),i=function(e){return e&&e.__esModule?e:{default:e}}(r),l={doc:null,isLoading:!0,cloneDocModalVisible:!1,deleteDocModalVisible:!1,uploadModalVisible:!1,numFilesUploaded:0,uploadErrorMessage:"",uploadInProgress:!1,uploadPercentage:0,docConflictCount:0}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){var a=s({},e,{lastSequenceNum:t,isLoaded:!0}),o=0===a.changes.length;a.changes.forEach(function(e){e.isNew=!1});var r=n.map(function(e){var t=p.default.getSeqNum(e.seq);return{id:e.id,seq:t,deleted:!!_.has(e,"deleted")&&e.deleted,changes:e.changes,doc:e.doc,isNew:!o}});return a.changes=r.concat(a.changes),l(a),a}function r(e,t){var n=e.filters.slice();n.push(t);var a=s({},e,{filters:n});return l(a),a}function i(e,t){var n=e.filters.slice(),a=n.indexOf(t);a>=0&&n.splice(a,1);var o=s({},e,{filters:n});return l(o),o}function l(e){e.showingSubset=!1;var t=0;e.filteredChanges=e.changes.filter(function(n){if(t>=e.maxChangesListed)return e.showingSubset=!0,!1;var a=JSON.stringify(n),o=e.filters.every(function(e){return new RegExp(e,"i").test(a)});return o&&t++,o})}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments[1];switch(t.type){case d.default.UPDATE_CHANGES:return e.lastSequenceNum!==t.seqNum?o(e,t.seqNum,t.changes):e;case d.default.ADD_CHANGES_FILTER_ITEM:return r(e,t.filter);case d.default.REMOVE_CHANGES_FILTER_ITEM:return i(e,t.filter);default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=u;var c=n(415),d=a(c),f=n(40),p=a(f),h={isLoaded:!1,filters:[],changes:[],filteredChanges:[],maxChangesListed:100,showingSubset:!1,lastSequenceNum:null}},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),r=a(o),i=n(11),l=a(i),u=n(996),s=a(u),c=n(93),d=a(c);n(1007),s.default.initialize=function(){},r.default.addReducers({setup:d.default}),r.default.registerUrls("cluster_setup",{server:function(){return l.default.host+"/_cluster_setup"},app:function(){return"/_cluster_setup"},apiurl:function(){return window.location.origin+"/_cluster_setup"}}),t.default=s.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=a(o),i=n(11),l=a(i),u=n(2),s=a(u),c=n(123),d=a(c),f=n(43),p=n(998),h=a(p),m=n(999),_=a(m),g=n(1002),b=a(g),y=n(1004),E=a(y),v=s.default.RouteObject.extend({roles:["_admin"],selectedHeader:"Setup",routes:{setup:"setupInitView","setup/finish":"finishView","setup/singlenode":"setupSingleNode","setup/multinode":"setupMultiNode"},setupInitView:function(){var e=s.default.urls("cluster_setup","apiurl");return d.default.fetchNodes(),r.default.createElement(f.OnePaneSimpleLayout,{component:r.default.createElement(_.default,null),endpoint:e,docURL:s.default.constants.DOC_URLS.SETUP,crumbs:[{name:"Setup "+l.default.i18n.en_US["couchdb-productname"]}]})},setupSingleNode:function(){var e=s.default.urls("cluster_setup","apiurl");return d.default.fetchNodes(),r.default.createElement(f.OnePaneSimpleLayout,{component:r.default.createElement(b.default,null),endpoint:e,docURL:s.default.constants.DOC_URLS.SETUP,crumbs:[{name:"Setup "+l.default.i18n.en_US["couchdb-productname"]}]})},setupMultiNode:function(){var e=s.default.urls("cluster_setup","apiurl");return d.default.fetchNodes(),r.default.createElement(f.OnePaneSimpleLayout,{component:r.default.createElement(E.default,null),endpoint:e,docURL:s.default.constants.DOC_URLS.SETUP,crumbs:[{name:"Setup "+l.default.i18n.en_US["couchdb-productname"]}]})},finishView:function(){var e=s.default.urls("cluster_setup","apiurl");return r.default.createElement(f.OnePaneSimpleLayout,{component:r.default.createElement(h.default,null),endpoint:e,docURL:s.default.constants.DOC_URLS.SETUP,crumbs:[{name:"Setup "+l.default.i18n.en_US["couchdb-productname"]}]})}}),O={RouteObjects:[v]};t.default=O},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(19),o=function(e){return e&&e.__esModule?e:{default:e}}(a),r=n(21);t.default=function(){return(0,r.get)(o.default.getServerUrl("/_membership")).then(function(e){if(!e.all_nodes){var t=e.reason?e.reason:"";throw new Error("Failed to load list of nodes."+t)}var n=e.all_nodes.reduce(function(t,n){var a=-1!==e.cluster_nodes.indexOf(n);return t.push({node:n,isInCluster:a}),t},[]);return e.nodes_mapped=n,e})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),o=n(442),r=function(e){return e&&e.__esModule?e:{default:e}}(o),i=n(93),l=function(e){var t=e.setup;return{clusterState:(0,i.getClusterState)(t)}};t.default=(0,a.connect)(l)(r.default)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),o=n(1e3),r=function(e){return e&&e.__esModule?e:{default:e}}(o),i=n(93),l=n(257),u=function(e){var t=e.setup;return{clusterState:(0,i.getClusterState)(t)}},s=function(e){return{getClusterState:function(){e((0,l.getClusterStateFromCouch)())}}};t.default=(0,a.connect)(u,s)(r.default)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(0),s=a(u),c=n(11),d=a(c),f=n(1),p=a(f),h=n(2),m=a(h),_=n(442),g=a(_),b=n(13),y=a(b),E=y.default.ConfirmButton,v=function(e){function t(){var e,n,a,i;o(this,t);for(var l=arguments.length,u=Array(l),s=0;s<l;s++)u[s]=arguments[s];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.redirectToSingleNodeSetup=function(e){e.preventDefault(),m.default.navigate("#setup/singlenode")},a.redirectToMultiNodeSetup=function(e){e.preventDefault(),m.default.navigate("#setup/multinode")},i=n,r(a,i)}return i(t,e),l(t,[{key:"UNSAFE_componentWillMount",value:function(){this.props.getClusterState()}},{key:"render",value:function(){return"cluster_finished"===this.props.clusterState||"single_node_enabled"===this.props.clusterState?s.default.createElement(g.default,this.props):s.default.createElement("div",{className:"setup-screen"},s.default.createElement("h2",null,"Welcome to ",d.default.i18n.en_US["couchdb-productname"],"!"),s.default.createElement("p",null,"This wizard should be run directly on the node, rather than through a load-balancer."),s.default.createElement("p",null,"You can configure a single node, or a multi-node CouchDB installation."),s.default.createElement("div",null,s.default.createElement(E,{onClick:this.redirectToMultiNodeSetup,showIcon:!1,text:"Configure a Cluster"}),s.default.createElement(E,{onClick:this.redirectToSingleNodeSetup,showIcon:!1,id:"setup-btn-no-thanks",text:"Configure a Single Node"})))}}]),t}(s.default.Component);t.default=v,v.propTypes={clusterState:p.default.string}},function(e,t,n){"use strict";function a(e){return r.default.isEmpty(e.username)?"Admin name is required":r.default.isEmpty(e.password)?"Admin password is required":e.bind_address&&"127.0.0.1"===e.bind_address&&!e.singlenode?"Bind address can not be 127.0.0.1":e.port&&r.default.isNaN(+e.port)?"Bind port must be a number":e.nodeCount&&r.default.isNaN(+e.nodeCount)?"Node count must be a number":!!(0===e.nodeCount||e.nodeCount&&e.nodeCount<1)&&"Node count must be >= 1"}Object.defineProperty(t,"__esModule",{value:!0}),t.isInvalid=a;var o=n(22),r=function(e){return e&&e.__esModule?e:{default:e}}(o)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),o=n(1003),r=function(e){return e&&e.__esModule?e:{default:e}}(o),i=n(93),l=n(257),u=function(e){var t=e.setup;return{nodeList:(0,i.getNodeList)(t),isAdminParty:(0,i.getIsAdminParty)(t),setupNode:(0,i.getSetupNode)(t),username:(0,i.getUsername)(t),password:(0,i.getPassword)(t),port:(0,i.getPortForSetupNode)(t),bindAddress:(0,i.getBindAddressForSetupNode)(t)}},s=function(e){return{alterUsername:function(t){e((0,l.setUsername)(t))},alterPassword:function(t){e((0,l.setPassword)(t))},alterBindAddress:function(t){e((0,l.setBindAddressForSetupNode)(t))},alterPort:function(t){e((0,l.setPortForSetupNode)(t))},setupSingleNode:function(t,n){e((0,l.setupSingleNode)(t,n))}}};t.default=(0,a.connect)(u,s)(r.default)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),c=a(s),d=n(1),f=a(d),p=n(13),h=a(p),m=n(444),_=a(m),g=n(445),b=a(g),y=h.default.ConfirmButton,E=function(e){function t(){o(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.onChangeUsername=function(t){return e.props.alterUsername(t.target.value)},e.onChangePassword=function(t){return e.props.alterPassword(t.target.value)},e.onChangeBindAddress=function(t){return e.props.alterBindAddress(t.target.value)},e.onChangePort=function(t){return e.props.alterPort(t.target.value)},e.finishSingleNode=function(t){t.preventDefault();var n=e.props,a=n.username,o=n.password,r=n.port,i=n.bindAddress,l={username:a,password:o},u={port:r,bindAddress:i};e.props.setupSingleNode(l,u)},e.finishSingleNode=e.finishSingleNode.bind(e),e.onChangeUsername=e.onChangeUsername.bind(e),e.onChangePassword=e.onChangePassword.bind(e),e.onChangeBindAddress=e.onChangeBindAddress.bind(e),e.onChangePort=e.onChangePort.bind(e),e}return i(t,e),u(t,[{key:"render",value:function(){return c.default.createElement("div",{className:"setup-nodes"},c.default.createElement("div",{className:"setup-setupnode-section"},c.default.createElement(_.default,l({},this.props,{onAlterUsername:this.onChangeUsername,onAlterPassword:this.onChangePassword})),c.default.createElement(b.default,l({},this.props,{onAlterPort:this.onChangePort,onAlterBindAddress:this.onChangeBindAddress,ip:this.props.bindAddress,port:this.props.port})),c.default.createElement(y,l({},this.props,{onClick:this.finishSingleNode,text:"Configure Node"}))))}}]),t}(c.default.Component);t.default=E,E.propTypes={username:f.default.string.isRequired,password:f.default.string.isRequired,port:f.default.number.isRequired,bindAddress:f.default.string.isRequired,isAdminParty:f.default.bool.isRequired}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),o=n(1005),r=function(e){return e&&e.__esModule?e:{default:e}}(o),i=n(93),l=n(257),u=function(e){var t=e.setup;return{nodeList:(0,i.getNodeList)(t),isAdminParty:(0,i.getIsAdminParty)(t),setupNode:(0,i.getSetupNode)(t),username:(0,i.getUsername)(t),password:(0,i.getPassword)(t),additionalNode:(0,i.getAdditionalNode)(t)}},s=function(e){return{addNode:function(t,n,a,o){e((0,l.addNode)(t,n,a,o))},alterPortAdditionalNode:function(t){e((0,l.alterPortAdditionalNode)(t))},alterBindAddressAdditionalNode:function(t){e((0,l.alterBindAddressAdditionalNode)(t))},alterRemoteAddressAdditionalNode:function(t){e((0,l.alterRemoteAddressAdditionalNode)(t))},alterUsername:function(t){e((0,l.setUsername)(t))},alterPassword:function(t){e((0,l.setPassword)(t))},alterBindAddressForSetupNode:function(t){e((0,l.setBindAddressForSetupNode)(t))},alterPortForSetupNode:function(t){e((0,l.setPortForSetupNode)(t))},finishClusterSetup:function(t){e((0,l.finishClusterSetup)(t))},alterNodeCount:function(t){e((0,l.setNodeCount)(t))}}};t.default=(0,a.connect)(u,s)(r.default)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),c=a(s),d=n(1),f=a(d),p=n(13),h=a(p),m=n(444),_=a(m),g=n(445),b=a(g),y=n(1006),E=a(y),v=n(93),O=h.default.ConfirmButton,D=function(e){function t(){var e,n,a,i;o(this,t);for(var l=arguments.length,u=Array(l),s=0;s<l;s++)u[s]=arguments[s];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.getNodeList=function(){return a.props.nodeList.map(function(e,t){return c.default.createElement("div",{key:t,className:"node-item"},e.remoteAddress,":",e.port)})},a._addNode=function(){var e=a.props,t=e.username,n=e.password,o=e.setupNode,r=e.additionalNode;a.props.addNode(a.isAdminParty,{username:t,password:n},o,r)},a._alterPortAdditionalNode=function(e){a.props.alterPortAdditionalNode(e.target.value)},a._alterBindAddressAdditionalNode=function(e){a.props.alterBindAddressAdditionalNode(e.target.value)},a._alterRemoteAddressAdditionalNode=function(e){a.props.alterRemoteAddressAdditionalNode(e.target.value)},a._alterUsername=function(e){a.props.alterUsername(e.target.value)},a._alterPassword=function(e){a.props.alterPassword(e.target.value)},a._alterBindAddressSetupNode=function(e){a.props.alterBindAddressForSetupNode(e.target.value)},a._alterPortSetupNode=function(e){a.props.alterPortForSetupNode(e.target.value)},a._alterNodeCount=function(e){a.props.alterNodeCount(e.target.value)},a._finishClusterSetup=function(){a.props.finishClusterSetup("CouchDB Cluster set up!")},i=n,r(a,i)}return i(t,e),u(t,[{key:"componentDidMount",value:function(){this.isAdminParty=(0,v.getIsAdminParty)()}},{key:"render",value:function(){var e=this.props,t=e.setupNode,n=e.additionalNode;return c.default.createElement("div",{className:"setup-nodes"},"Setup your initial base-node, afterwards add the other nodes that you want to add",c.default.createElement("div",{className:"setup-setupnode-section"},c.default.createElement(_.default,l({},this.props,{onAlterUsername:this._alterUsername,onAlterPassword:this._alterPassword})),c.default.createElement(b.default,l({},this.props,{onAlterPort:this._alterPortSetupNode,onAlterBindAddress:this._alterBindAddressSetupNode,ip:t.bindAddress,port:t.port})),c.default.createElement(E.default,l({},this.props,{onAlterNodeCount:this._alterNodeCount,nodeCount:t.nodeCount}))),c.default.createElement("hr",null),c.default.createElement("div",{className:"setup-add-nodes-section"},c.default.createElement("h2",null,"Add Nodes to the Cluster"),c.default.createElement("p",null,"Remote host"),c.default.createElement("input",{value:n.remoteAddress,onChange:this._alterRemoteAddressAdditionalNode,className:"input-remote-node",type:"text",placeholder:"IP Address"}),c.default.createElement(b.default,l({},this.props,{onAlterPort:this._alterPortAdditionalNode,onAlterBindAddress:this._alterBindAddressAdditionalNode,ip:n.bindAddress,port:n.port})),c.default.createElement("div",{className:"setup-add-button"},c.default.createElement(O,{onClick:this._addNode,showIcon:!1,id:"setup-btn-no-thanks",text:"Add Node"}))),c.default.createElement("div",{className:"setup-nodelist"},this.getNodeList()),c.default.createElement("div",{className:"centered setup-finish"},c.default.createElement(O,{onClick:this._finishClusterSetup,showIcon:!1,text:"Configure Cluster"})))}}]),t}(c.default.Component);t.default=D,D.propTypes={username:f.default.string.isRequired,password:f.default.string.isRequired,nodeList:f.default.array.isRequired,isAdminParty:f.default.bool.isRequired,setupNode:f.default.shape({bindAddress:f.default.string.isRequired,port:f.default.number.isRequired,nodeCount:f.default.number.isRequired}).isRequired,additionalNode:f.default.shape({bindAddress:f.default.string.isRequired,port:f.default.number.isRequired,remoteAddress:f.default.string.isRequired}).isRequired}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(0),s=a(u),c=n(1),d=a(c),f=function(e){function t(){var e,n,a,i;o(this,t);for(var l=arguments.length,u=Array(l),s=0;s<l;s++)u[s]=arguments[s];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.handleNodeCountChange=function(e){a.props.onAlterNodeCount(e)},i=n,r(a,i)}return i(t,e),l(t,[{key:"render",value:function(){return s.default.createElement("div",{className:"setup-node-count"},s.default.createElement("p",null,"Number of nodes to be added to the cluster (including this one)"),s.default.createElement("input",{className:"setup-input-nodecount",value:this.props.nodeCount,onChange:this.handleNodeCountChange,placeholder:"Value of cluster n",type:"text"}))}}]),t}(s.default.Component);t.default=f,f.propTypes={onAlterNodeCount:d.default.func.isRequired,nodeCount:d.default.number.isRequired}},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),r=a(o),i=n(1009),l=a(i);n(1021);var u=n(447),s=a(u);l.default.initialize=function(){},r.default.addReducers({activetasks:s.default}),t.default=l.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=a(o),i=n(2),l=a(i),u=n(1010),s=a(u),c=l.default.RouteObject.extend({selectedHeader:"Active Tasks",routes:{"activetasks/:id":"showActiveTasks",activetasks:"showActiveTasks"},roles:["_admin"],showActiveTasks:function(){return r.default.createElement(s.default,null)}});t.default={RouteObjects:[c]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),o=n(1011),r=function(e){return e&&e.__esModule?e:{default:e}}(o),i=n(1019),l=n(447),u=function(e){var t=e.activetasks;return{tasks:(0,l.getTasks)(t),headerIsAscending:(0,l.getHeaderIsAscending)(t),selectedRadio:(0,l.getSelectedRadio)(t),sortByHeader:(0,l.getSortByHeader)(t),searchTerm:(0,l.getSearchTerm)(t),isLoading:(0,l.getIsLoading)(t)}},s=function(e){return{init:function(){return e((0,i.init)())},changePollingInterval:function(t){return e((0,i.changePollingInterval)(t))},setSearchTerm:function(t){return e((0,i.setSearchTerm)(t))},sortByColumnHeader:function(t){return e((0,i.sortByColumnHeader)(t))},switchTab:function(t){return e((0,i.switchTab)(t))},runPollingUpdate:function(){return e((0,i.runPollingUpdate)())}}};t.default=(0,a.connect)(u,s)(r.default)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ActiveTasksLayout=void 0;var o=n(0),r=a(o),i=n(19),l=a(i),u=n(2),s=a(u),c=n(43),d=n(1012),f=a(d),p=n(1018),h=a(p),m=[{name:"Active Tasks"}],_=t.ActiveTasksLayout=function(e){return r.default.createElement(c.OnePane,null,r.default.createElement(c.OnePaneHeader,{crumbs:m,docURL:s.default.constants.DOC_URLS.ACTIVE_TASKS,endpoint:l.default.getApiUrl("/_active_tasks")},r.default.createElement(h.default,e)),r.default.createElement(c.OnePaneContent,null,r.default.createElement(f.default,e)))};t.default=_},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(0),s=a(u),c=n(1013),d=a(c),f=n(1014),p=a(f),h=function(e){function t(){var e,n,a,i;o(this,t);for(var l=arguments.length,u=Array(l),s=0;s<l;s++)u[s]=arguments[s];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.setNewSearchTerm=function(e){a.props.setSearchTerm(e)},a.switchTab=function(e){a.props.switchTab(e)},a.tableHeaderOnClick=function(e){a.props.sortByColumnHeader(e)},i=n,r(a,i)}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this.props.init()}},{key:"render",value:function(){var e=this.props,t=e.isLoading,n=e.tasks,a=e.searchTerm,o=e.selectedRadio,r=e.sortByHeader,i=e.headerIsAscending,l=this.setNewSearchTerm,u=this.tableHeaderOnClick;return s.default.createElement("div",{id:"active-tasks-page",className:"scrollable"},s.default.createElement("div",{className:"inner"},s.default.createElement(d.default,{searchTerm:a,selectedRadio:o,onSearch:l,onRadioClick:this.switchTab}),s.default.createElement(p.default,{isLoading:t,tasks:n,searchTerm:a,selectedRadio:o,onTableHeaderClick:u,sortByHeader:r,headerIsAscending:i})))}}]),t}(s.default.Component);t.default=h},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(0),s=a(u),c=n(13),d=a(c),f=d.default.TabElement,p=d.default.TabElementWrapper,h=function(e){function t(){var e,n,a,i;o(this,t);for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.checked=function(e){return a.props.selectedRadio===e},a.onRadioClick=function(e){var t=e.target.value;a.props.onRadioClick(t)},a.createFilterTabs=function(){return a.props.radioNames.map(function(e,t){var n=a.checked(e);return s.default.createElement(f,{key:t,selected:n,text:e,onChange:a.onRadioClick})})},a.searchTermChange=function(e){var t=e.target.value;a.props.onSearch(t)},i=n,r(a,i)}return i(t,e),l(t,[{key:"render",value:function(){var e=this.createFilterTabs();return s.default.createElement(p,null,e,s.default.createElement("li",{className:"component-tab-list-element"},s.default.createElement("input",{id:"active-tasks-search-box",className:"searchbox",type:"text",name:"search",placeholder:"Search for databases...",value:this.props.searchTerm,onChange:this.searchTermChange})))}}]),t}(s.default.Component);h.defaultProps={radioNames:["All Tasks","Replication","Database Compaction","Indexer","View Compaction"]},t.default=h},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(0),s=a(u),c=n(1015),d=a(c),f=n(1017),p=a(f),h=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.tasks,n=e.selectedRadio,a=e.searchTerm,o=e.sortByHeader,r=e.onTableHeaderClick,i=e.headerIsAscending,l=e.isLoading;return s.default.createElement("div",{id:"dashboard-lower-content"},s.default.createElement("table",{id:"active-tasks-table",className:"table table-bordered table-striped active-tasks"},s.default.createElement(p.default,{onTableHeaderClick:r,sortByHeader:o,headerIsAscending:i}),s.default.createElement(d.default,{tasks:t,selectedRadio:n,isLoading:l,searchTerm:a})))}}]),t}(s.default.Component);t.default=h},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(0),s=a(u),c=n(1016),d=a(c),f=function(e){function t(){var e,n,a,i;o(this,t);for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.createRows=function(){var e=""===a.props.searchTerm.trim();return 0===a.props.tasks.length||a.props.isLoading?e?a.noActiveTasks():a.noActiveTasksMatchFilter():a.props.tasks.map(function(e,t){return s.default.createElement(d.default,{key:t,item:e})})},a.getType=function(){var e=a.props.selectedRadio;return"All Tasks"===e?"":e},a.noActiveTasks=function(){var e=a.getType(),t=s.default.createElement("td",{colSpan:"6"},"No active ",e," tasks.");return a.props.isLoading&&(t=s.default.createElement("td",{colSpan:"6"},"Loading tasks.")),s.default.createElement("tr",{className:"no-matching-database-on-search"},t)},a.noActiveTasksMatchFilter=function(){var e=a.getType();return s.default.createElement("tr",{className:"no-matching-database-on-search"},s.default.createElement("td",{colSpan:"6"},"No active ",e,' tasks match with filter: "',a.props.searchTerm,'"'))},i=n,r(a,i)}return i(t,e),l(t,[{key:"render",value:function(){return s.default.createElement("tbody",{className:"js-tasks-go-here"},this.createRows())}}]),t}(s.default.Component);t.default=f},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(0),s=a(u),c=n(11),d=a(c),f={getTimeInfo:function(e){return[d.default.helpers.formatDate(e),d.default.helpers.getDateFromNow(e)]},getDatabaseFieldMessage:function(e){var t=e.type,n=[];return"replication"===t?(n.push("From: "+e.source),n.push("To: "+e.target)):"indexer"===t?(n.push(e.database),n.push("(View: "+e.design_document+")")):n.push(e.database),n},getProgressMessage:function(e){var t=[],n=e.type;return _.has(e,"progress")&&t.push("Progress: "+e.progress+"%"),"indexer"===n?t.push("Processed "+e.changes_done+" of "+e.total_changes+" changes."):"replication"===n&&(t.push(e.docs_written+" docs written."),_.has(e,"changes_pending")&&t.push(e.changes_pending+" pending changes.")),_.has(e,"changes_done")&&t.push(e.changes_done+" Changes done."),t},getSourceSequence:function(e){return e.source_seq}},p=function(e){function t(){var e,n,a,i;o(this,t);for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.getInfo=function(e){return{type:e.type,objectField:f.getDatabaseFieldMessage(e),started_on:f.getTimeInfo(e.started_on),updated_on:f.getTimeInfo(e.updated_on),pid:e.pid.replace(/[<>]/g,""),progress:f.getProgressMessage(e)}},a.multilineMessage=function(e,t){t||(t="");var n="multiline-active-tasks-message "+t;return e.map(function(e,t){return s.default.createElement("p",{key:t,className:n},e)})},i=n,r(a,i)}return i(t,e),l(t,[{key:"render",value:function(){var e=this.getInfo(this.props.item),t=this.multilineMessage(e.objectField,"to-from-database"),n=this.multilineMessage(e.started_on,"time"),a=this.multilineMessage(e.updated_on,"time"),o=this.multilineMessage(e.progress);return s.default.createElement("tr",null,s.default.createElement("td",null,e.type),s.default.createElement("td",null,t),s.default.createElement("td",null,n),s.default.createElement("td",null,a),s.default.createElement("td",null,e.pid),s.default.createElement("td",null,o))}}]),t}(s.default.Component);t.default=p},function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.TableHeader=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(l),s=t.TableHeader=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.arrow=function(){var e=n.props.sortByHeader,t=n.props.headerName,a=n.props.headerIsAscending,o=a?"icon icon-caret-up":"icon icon-caret-down";if(e===t)return u.default.createElement("i",{className:o})},n.onTableHeaderClick=function(){n.props.onTableHeaderClick(n.props.headerName)},n.onTableHeaderClick=n.onTableHeaderClick.bind(n),n}return r(t,e),i(t,[{key:"render",value:function(){return u.default.createElement("td",{className:"header-field "+this.props.headerName+" tableheader",onClick:this.onTableHeaderClick},u.default.createElement("label",{className:"header-field label-text active-tasks-header noselect"},this.props.displayName," ",this.arrow()))}}]),t}(u.default.Component),c=function(e){function t(){var e,n,r,i;a(this,t);for(var l=arguments.length,c=Array(l),d=0;d<l;d++)c[d]=arguments[d];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r.createTableHeadingFields=function(){var e=r.props,t=e.onTableHeaderClick,n=e.sortByHeader,a=e.headerIsAscending;return r.props.headerNames.map(function(e){return u.default.createElement(s,{headerName:e[0],displayName:e[1],key:e[0],onTableHeaderClick:t,sortByHeader:n,headerIsAscending:a})})},i=n,o(r,i)}return r(t,e),i(t,[{key:"render",value:function(){return u.default.createElement("thead",null,u.default.createElement("tr",null,this.createTableHeadingFields()))}}]),t}(u.default.Component);c.defaultProps={headerNames:[["type","Type"],["database","Database"],["started-on","Started on"],["updated-on","Updated on"],["pid","PID"],["progress","Status"]]},t.default=c},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(0),s=a(u),c=n(19),d=a(c),f=n(13),p=a(f),h=p.default.Polling,m=function(e){function t(){var e,n,a,i;o(this,t);for(var l=arguments.length,u=Array(l),s=0;s<l;s++)u[s]=arguments[s];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.runPollingUpdate=function(){a.props.runPollingUpdate()},a.getPluralForLabel=function(){return"1"===a.state.pollingInterval?"":"s"},i=n,r(a,i)}return i(t,e),l(t,[{key:"render",value:function(){var e="active-tasks__polling-wrapper";return d.default.isIE1X()&&(e+=" "+e+"--ie1X"),s.default.createElement("div",{className:e},s.default.createElement(h,{min:1,max:30,stepSize:1,startValue:15,valueUnits:"second",onPoll:this.runPollingUpdate}))}}]),t}(s.default.Component);t.default=m},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.runPollingUpdate=t.sortByColumnHeader=t.setSearchTerm=t.switchTab=t.init=t.setActiveTasks=t.setActiveTaskIsLoading=void 0;var o=n(2),r=a(o),i=n(446),l=a(i),u=n(1020),s=a(u),c=t.setActiveTaskIsLoading=function(e){return{type:l.default.ACTIVE_TASKS_SET_IS_LOADING,options:e}},d=t.setActiveTasks=function(e){return{type:l.default.ACTIVE_TASKS_FETCH_AND_SET,options:e}};t.init=function(){return function(e){e(c(!0)),(0,s.default)().then(function(t){e(c(!1)),e(d(t))}).catch(function(e){r.default.addNotification({msg:"Fetching active tasks failed: "+e,type:"error"})})}},t.switchTab=function(e){return{type:l.default.ACTIVE_TASKS_SWITCH_TAB,options:e}},t.setSearchTerm=function(e){return{type:l.default.ACTIVE_TASKS_SET_SEARCH_TERM,options:e}},t.sortByColumnHeader=function(e){return{type:l.default.ACTIVE_TASKS_SORT_BY_COLUMN_HEADER,options:e}},t.runPollingUpdate=function(){return function(e){(0,s.default)().then(function(t){e(d(t))}).catch(function(e){r.default.addNotification({msg:"Fetching active tasks failed: "+e,type:"error"})})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(19),o=function(e){return e&&e.__esModule?e:{default:e}}(a),r=n(21);t.default=function(){return(0,r.get)(o.default.getServerUrl("/_active_tasks")).then(function(e){if(e.error)throw new Error(e.reason);return e})}},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1023),r=a(o),i=n(2),l=a(i),u=n(1025),s=a(u);r.default.initialize=function(){},l.default.addReducers({clusters:s.default}),t.default=r.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=a(o),i=n(2),l=a(i),u=n(19),s=a(u),c=n(1024),d=a(c),f=n(123),p=a(f),h=n(43),m=l.default.RouteObject.extend({selectedHeader:"Configuration",routes:{"cluster/disabled":"showDisabledFeatureScreen"},showDisabledFeatureScreen:function(){return p.default.fetchNodes(),r.default.createElement(h.OnePaneSimpleLayout,{component:r.default.createElement(d.default,null),endpoint:s.default.getServerUrl("/_membership"),docURL:l.default.constants.DOC_URLS.MEMBERSHIP,crumbs:[{name:"Config disabled"}]})}});t.default={RouteObjects:[m]}},function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.DisabledConfigController=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(l),s=n(14),c=t.DisabledConfigController=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),i(t,[{key:"render",value:function(){return u.default.createElement("div",{className:"config-warning-cluster-wrapper"},u.default.createElement("div",{className:"config-warning-cluster-container"},u.default.createElement("div",null,u.default.createElement("div",{className:"config-warning-icon-container pull-left"},u.default.createElement("i",{className:"fonticon-attention-circled"})),"It seems that you are running a cluster with ",this.props.nodes.length," nodes. For CouchDB 2.0 we recommend using a configuration management tools like Chef, Ansible, Puppet or Salt (in no particular order) to configure your nodes in a cluster.",u.default.createElement("br",null),u.default.createElement("br",null),u.default.createElement("div",{className:"config-warning-other-text"},"We highly recommend against configuring nodes in your cluster using the HTTP API and suggest using a configuration management tool for all configurations."))))}}]),t}(u.default.Component),d=function(e){return{nodes:e.clusters.nodes}};t.default=(0,s.connect)(d,null)(c)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=n(441),r=function(e){return e&&e.__esModule?e:{default:e}}(o),i={nodes:[]};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments[1],n=t.type,o=t.options;switch(n){case r.default.CLUSTER_FETCH_NODES:return a({},e,{nodes:o.nodes})}return e}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),r=a(o),i=n(1027),l=a(i),u=n(451),s=a(u);n(1042),l.default.initialize=function(){},r.default.addReducers({config:s.default}),t.default=l.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=a(o),i=n(2),l=a(i),u=n(123),s=a(u),c=n(448),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(c),f=n(1028),p=a(f),h=l.default.RouteObject.extend({selectedHeader:"Configuration",routes:{_config:"checkNodes"},crumbs:[{name:"Config disabled"}],checkNodes:function(){s.default.navigateToNodeBasedOnNodeCount("/_config/")}}),m=l.default.RouteObject.extend({roles:["_admin"],selectedHeader:"Configuration",routes:{"_config/:node":"configForNode","_config/:node/cors":"configCorsForNode"},initialize:function(){},configForNode:function(e){return r.default.createElement(p.default,{node:e,docURL:l.default.constants.DOC_URLS.CONFIG,endpoint:d.configUrl(e),crumbs:[{name:"Config"}],showCors:!1})},configCorsForNode:function(e){return r.default.createElement(p.default,{node:e,docURL:l.default.constants.DOC_URLS.CONFIG,endpoint:d.configUrl(e),crumbs:[{name:"Config"}],showCors:!0})}}),_=l.default.addon();_.RouteObjects=[m,h],t.default=_},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigLayout=t.ConfigHeader=void 0;var o=n(0),r=a(o),i=n(1029),l=a(i),u=n(1031),s=a(u),c=n(1037),d=a(c),f=n(1038),p=a(f),h=n(139),m=n(138),_=a(m),g=n(43),b=t.ConfigHeader=function(e){var t=e.node,n=e.crumbs,a=e.docURL,o=e.endpoint;return r.default.createElement("header",{className:"two-panel-header"},r.default.createElement("div",{className:"flex-layout flex-row"},r.default.createElement("div",{id:"breadcrumbs",className:"faux__config-breadcrumbs"},r.default.createElement(h.Breadcrumbs,{crumbs:n})),r.default.createElement("div",{className:"right-header-wrapper flex-layout flex-row flex-body"},r.default.createElement("div",{id:"react-headerbar",className:"flex-body"}," "),r.default.createElement("div",{id:"right-header",className:"flex-fill"},r.default.createElement(l.default,{node:t})),r.default.createElement(g.ApiBarWrapper,{docURL:a,endpoint:o}),r.default.createElement("div",{id:"notification-center-btn",className:"flex-fill"},r.default.createElement(_.default,null)))))},y=t.ConfigLayout=function(e){var t=e.showCors,n=e.docURL,a=e.node,o=e.endpoint,i=e.crumbs,l=[{title:"Main config",link:"_config/"+a},{title:"CORS",link:"_config/"+a+"/cors"}],u=t?"CORS":"Main config",c=t?r.default.createElement(p.default.CORSContainer,{node:a,url:o}):r.default.createElement(s.default,{node:a});return r.default.createElement("div",{id:"dashboard",className:"with-sidebar"},r.default.createElement(b,{docURL:n,endpoint:o,node:a,crumbs:i}),r.default.createElement("div",{className:"with-sidebar tabs-with-sidebar content-area"},r.default.createElement("aside",{id:"sidebar-content",className:"scrollable"},r.default.createElement(d.default,{sidebarItems:l,selectedTab:u})),r.default.createElement("section",{id:"dashboard-content",className:"flex-layout flex-col"},r.default.createElement("div",{id:"dashboard-upper-content"}),r.default.createElement("div",{id:"dashboard-lower-content",className:"flex-body"},c),r.default.createElement("div",{id:"footer"}))))};t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),o=n(449),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(o),i=n(1030),l=function(e){return e&&e.__esModule?e:{default:e}}(i),u=function(){return{}},s=function(e,t){return{onAdd:function(n){e(r.addOption(t.node,n))}}},c=(0,a.connect)(u,s)(l.default);t.default=c},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),s=a(u),c=n(0),d=a(c),f=n(20),p=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state=n.getInitialState(),n}return i(t,e),l(t,[{key:"getInitialState",value:function(){return{sectionName:"",optionName:"",value:"",show:!1}}},{key:"isInputValid",value:function(){return""!==this.state.sectionName&&""!==this.state.optionName&&""!==this.state.value}},{key:"updateSectionName",value:function(e){this.setState({sectionName:e.target.value})}},{key:"updateOptionName",value:function(e){this.setState({optionName:e.target.value})}},{key:"updateValue",value:function(e){this.setState({value:e.target.value})}},{key:"reset",value:function(){this.setState(this.getInitialState())}},{key:"onAdd",value:function(){if(this.isInputValid()){var e={sectionName:this.state.sectionName,optionName:this.state.optionName,value:this.state.value};this.setState({show:!1}),this.props.onAdd(e)}}},{key:"togglePopover",value:function(){this.setState({show:!this.state.show})}},{key:"hidePopover",value:function(){this.setState({show:!1})}},{key:"getPopover",value:function(){return d.default.createElement(f.Popover,{className:"tray",id:"add-option-popover",title:"Add Option"},d.default.createElement("input",{className:"input-section-name",onChange:this.updateSectionName.bind(this),type:"text",name:"section",placeholder:"Section",autoComplete:"off",autoFocus:!0}),d.default.createElement("input",{className:"input-option-name",onChange:this.updateOptionName.bind(this),type:"text",name:"name",placeholder:"Name"}),d.default.createElement("input",{className:"input-value",onChange:this.updateValue.bind(this),type:"text",name:"value",placeholder:"Value"}),d.default.createElement("a",{className:"btn btn-create",onClick:this.onAdd.bind(this)},"Create"))}},{key:"render",value:function(){var e=this;return d.default.createElement("div",{id:"add-option-panel"},d.default.createElement(f.Button,{id:"add-option-button",onClick:this.togglePopover.bind(this),ref:function(t){return e.target=t}},d.default.createElement("i",{className:"icon icon-plus header-icon"}),"Add Option"),d.default.createElement(f.Overlay,{show:this.state.show,onHide:this.hidePopover.bind(this),placement:"bottom",rootClose:!0,target:function(){return e.target}},this.getPopover()))}}]),t}(d.default.Component);p.propTypes={onAdd:s.default.func.isRequired},t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),o=n(1032),r=function(e){return e&&e.__esModule?e:{default:e}}(o),i=n(449),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(i),u=n(451),s=function(e,t){var n=e.config;return{node:t.node,options:(0,u.options)(n),loading:n.loading,saving:n.saving,editSectionName:n.editSectionName,editOptionName:n.editOptionName}},c=function(e){return{fetchAndEditConfig:function(t){e(l.fetchAndEditConfig(t))},saveOption:function(t,n){e(l.saveOption(t,n))},deleteOption:function(t,n){e(l.deleteOption(t,n))},editOption:function(t){e(l.editOption(t))},cancelEdit:function(t){e(l.cancelEdit(t))}}},d=(0,a.connect)(s,c)(r.default);t.default=d},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),s=a(u),c=n(0),d=a(c),f=n(13),p=a(f),h=n(1033),m=a(h),_=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.saveOption=function(e){n.props.saveOption(n.props.node,e)},n.deleteOption=function(e){n.props.deleteOption(n.props.node,e)},n.editOption=function(e){n.props.editOption(e)},n.cancelEdit=function(){n.props.cancelEdit()},n.props.fetchAndEditConfig(n.props.node),n}return i(t,e),l(t,[{key:"render",value:function(){return this.props.loading?d.default.createElement("div",{className:"view"},d.default.createElement(p.default.LoadLines,null)):d.default.createElement(m.default,{saving:this.props.saving,onDeleteOption:this.deleteOption,onSaveOption:this.saveOption,onEditOption:this.editOption,onCancelEdit:this.cancelEdit,options:this.props.options})}}]),t}(d.default.Component);_.propTypes={options:s.default.array.isRequired,loading:s.default.bool.isRequired,saving:s.default.bool.isRequired,saveOption:s.default.func.isRequired,deleteOption:s.default.func.isRequired,editOption:s.default.func.isRequired,cancelEdit:s.default.func.isRequired,fetchAndEditConfig:s.default.func.isRequired},t.default=_},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),s=a(u),c=n(0),d=a(c),f=n(1034),p=a(f),h=function(e){function t(){var e,n,a,i;o(this,t);for(var l=arguments.length,u=Array(l),s=0;s<l;s++)u[s]=arguments[s];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.createOptions=function(){return _.map(a.props.options,function(e){return d.default.createElement(p.default,{option:e,saving:a.props.saving,onDelete:a.props.onDeleteOption,onSave:a.props.onSaveOption,onEdit:a.props.onEditOption,onCancelEdit:a.props.onCancelEdit,key:e.sectionName+"/"+e.optionName})})},i=n,r(a,i)}return i(t,e),l(t,[{key:"render",value:function(){var e=this.createOptions();return d.default.createElement("table",{className:"config table table-striped table-bordered"},d.default.createElement("thead",null,d.default.createElement("tr",null,d.default.createElement("th",{id:"config-section",width:"22%"},"Section"),d.default.createElement("th",{id:"config-option",width:"22%"},"Option"),d.default.createElement("th",{id:"config-value"},"Value"),d.default.createElement("th",{id:"config-trash"}))),d.default.createElement("tbody",null,e))}}]),t}(d.default.Component);h.propTypes={options:s.default.arrayOf(s.default.shape({editing:s.default.bool.isRequired,header:s.default.bool,optionName:s.default.string.isRequired,sectionName:s.default.string.isRequired,value:s.default.string})).isRequired,saving:s.default.bool.isRequired,onDeleteOption:s.default.func.isRequired,onEditOption:s.default.func.isRequired,onSaveOption:s.default.func.isRequired,onCancelEdit:s.default.func.isRequired},t.default=h},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),s=a(u),c=n(0),d=a(c),f=n(1035),p=a(f),h=n(1036),m=a(h),_=function(e){function t(){var e,n,a,i;o(this,t);for(var l=arguments.length,u=Array(l),s=0;s<l;s++)u[s]=arguments[s];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.onSave=function(e){var t=a.props.option;t.value=e,a.props.onSave(t)},a.onDelete=function(){a.props.onDelete(a.props.option)},a.onEdit=function(){a.props.onEdit(a.props.option)},i=n,r(a,i)}return i(t,e),l(t,[{key:"render",value:function(){return d.default.createElement("tr",{className:"config-item"},d.default.createElement("th",null,this.props.option.header&&this.props.option.sectionName),d.default.createElement("td",null,this.props.option.optionName),d.default.createElement(p.default,{value:this.props.option.value,editing:this.props.option.editing,saving:this.props.saving,onSave:this.onSave,onEdit:this.onEdit,onCancelEdit:this.props.onCancelEdit}),d.default.createElement(m.default,{optionName:this.props.option.optionName,sectionName:this.props.option.sectionName,onDelete:this.onDelete}))}}]),t}(d.default.Component);_.propTypes={option:s.default.object.isRequired,saving:s.default.bool.isRequired,onSave:s.default.func.isRequired,onDelete:s.default.func.isRequired,onEdit:s.default.func.isRequired,onCancelEdit:s.default.func.isRequired},t.default=_},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),s=a(u),c=n(0),d=a(c),f=function(e){function t(){var e,n,a,i;o(this,t);for(var l=arguments.length,u=Array(l),s=0;s<l;s++)u[s]=arguments[s];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.state={value:a.props.value},a.onChange=function(e){a.setState({value:e.target.value})},a.onSave=function(){a.state.value!==a.props.value?a.props.onSave(a.state.value):a.props.onCancelEdit()},a.getButtons=function(){return a.props.saving?null:d.default.createElement("span",null,d.default.createElement("button",{className:"btn btn-primary fonticon-ok-circled btn-small btn-config-save",onClick:a.onSave.bind(a)}),d.default.createElement("button",{className:"btn fonticon-cancel-circled btn-small btn-config-cancel",onClick:a.props.onCancelEdit}))},i=n,r(a,i)}return i(t,e),l(t,[{key:"render",value:function(){return this.props.editing?d.default.createElement("td",null,d.default.createElement("div",{className:"config-value-form"},d.default.createElement("input",{onChange:this.onChange.bind(this),defaultValue:this.props.value,disabled:this.props.saving,autoFocus:!0,type:"text",className:"config-value-input"}),this.getButtons())):d.default.createElement("td",{className:"config-show-value",onClick:this.props.onEdit},this.props.value)}}]),t}(d.default.Component);f.propTypes={value:s.default.string.isRequired,editing:s.default.bool.isRequired,onEdit:s.default.func.isRequired,onCancelEdit:s.default.func.isRequired,onSave:s.default.func.isRequired},t.default=f},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),s=a(u),c=n(0),d=a(c),f=n(78),p=a(f),h=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onDelete=function(){n.props.onDelete()},n.showModal=function(){n.setState({show:!0})},n.hideModal=function(){n.setState({show:!1})},n.onDelete=n.onDelete.bind(n),n.showModal=n.showModal.bind(n),n.hideModal=n.hideModal.bind(n),n.state={show:!1},n}return i(t,e),l(t,[{key:"render",value:function(){return d.default.createElement("td",{className:"text-center config-item-trash config-delete-value"},d.default.createElement("i",{className:"icon icon-trash",onClick:this.showModal}),d.default.createElement(p.default.ConfirmationModal,{text:"Are you sure you want to delete "+this.props.sectionName+"/"+this.props.optionName+"?",onClose:this.hideModal,onSubmit:this.onDelete,visible:this.state.show}))}}]),t}(d.default.Component);h.propTypes={sectionName:s.default.string.isRequired,optionName:s.default.string.isRequired,onDelete:s.default.func.isRequired},t.default=h},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=a(o),i=n(0),l=a(i),u=function(e){var t=e.sidebarItems,n=e.selectedTab,a=t.map(function(e){return l.default.createElement(s,{key:e.title,active:n===e.title,title:e.title,link:e.link})});return l.default.createElement("nav",{className:"sidenav"},l.default.createElement("ul",{className:"nav nav-list"},a))},s=function(e){var t=e.active,n=e.link,a=e.title;return l.default.createElement("li",{className:t?"active":""},l.default.createElement("a",{href:"#"+n},a))};s.propTypes={active:r.default.bool.isRequired,link:r.default.string.isRequired,icon:r.default.string,title:r.default.string.isRequired},t.default=u},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1039),r=a(o),i=n(452),l=a(i),u=n(454),s=a(u),c=n(453),d=a(c),f=n(456),p=a(f),h=n(457),m=a(h);t.default={CORSContainer:r.default,CORSScreen:l.default,OriginInput:s.default,Origins:d.default,OriginTable:p.default,OriginRow:m.default}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),o=n(452),r=function(e){return e&&e.__esModule?e:{default:e}}(o),i=n(1040),l=function(e){var t=e.cors;return{node:t.node,corsEnabled:t.corsEnabled,isAllOrigins:t.isAllOrigins,isLoading:t.isLoading,origins:t.origins,deleteDomainModalVisible:t.deleteDomainModalVisible,domainToDelete:t.domainToDelete}},u=function(e,t){return{saveCORS:function(n){e((0,i.showLoadingBars)()),e((0,i.saveCors)(t.url,n))},fetchAndLoadCORSOptions:function(){e((0,i.fetchAndLoadCORSOptions)(t.url,t.node))},showDeleteDomainConfirmation:function(t){e((0,i.showDomainDeleteConfirmation)(t))},hideDeleteDomainConfirmation:function(){e((0,i.hideDomainDeleteConfirmation)())}}},s=(0,a.connect)(l,u)(r.default);t.default=s},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.sanitizeOrigins=t.saveCors=t.hideDomainDeleteConfirmation=t.showDomainDeleteConfirmation=t.loadCORSOptions=t.hideLoadingBars=t.showLoadingBars=t.fetchAndLoadCORSOptions=void 0;var o=n(2),r=a(o),i=n(458),l=a(i),u=n(1041),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),c=(t.fetchAndLoadCORSOptions=function(e,t){return function(n){var a=s.fetchCORSConfig(e),o=s.fetchHttpdConfig(e);r.default.Promise.join(a,o,function(e,a){var o=d({origins:e.origins,corsEnabled:"true"===a.enable_cors,node:t});n(o)}).catch(function(e){r.default.addNotification({msg:"Could not load CORS settings.  "+p(e),type:"error"})})}},t.showLoadingBars=function(){return{type:l.default.CORS_SET_IS_LOADING,isLoading:!0}},t.hideLoadingBars=function(){return{type:l.default.CORS_SET_IS_LOADING,isLoading:!1}}),d=t.loadCORSOptions=function(e){return{type:l.default.EDIT_CORS,options:e,isLoading:!1}},f=(t.showDomainDeleteConfirmation=function(e){return{type:l.default.CORS_SHOW_DELETE_DOMAIN_MODAL,domainToDelete:e}},t.hideDomainDeleteConfirmation=function(){return{type:l.default.CORS_HIDE_DELETE_DOMAIN_MODAL}}),p=(t.saveCors=function(e,t){return function(n){var a=[];return a.push(s.updateEnableCorsToHttpd(e,t.node,t.corsEnabled)),t.corsEnabled&&(a.push(s.updateCorsOrigins(e,t.node,h(t.origins))),a.push(s.updateCorsCredentials(e,t.node)),a.push(s.updateCorsHeaders(e,t.node)),a.push(s.updateCorsMethods(e,t.node))),r.default.Promise.all(a).then(function(){r.default.addNotification({msg:"CORS settings updated.",type:"success",clear:!0}),n(d(t))}).catch(function(e){r.default.addNotification({msg:"Error! Could not save your CORS settings. Please try again. "+p(e),type:"error",clear:!0}),n(f()),n(c())})}},function(e){return"Reason: "+(e&&e.message||"n/a")}),h=t.sanitizeOrigins=function(e){return _.isEmpty(e)?"":e.join(",")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateCorsMethods=t.updateCorsHeaders=t.updateCorsCredentials=t.updateCorsOrigins=t.updateEnableCorsToHttpd=t.fetchHttpdConfig=t.fetchCORSConfig=void 0;var a=n(21),o=(t.fetchCORSConfig=function(e){var t=e+"/cors";return(0,a.get)(t).then(function(e){if(e.error)throw new Error(e.reason);return{origins:e.origins?e.origins.split(","):[],methods:e.methods,credentials:e.credentials,headers:e.headers}})},t.fetchHttpdConfig=function(e){var t=e+"/httpd";return(0,a.get)(t).then(function(e){if(e.error)throw new Error(e.reason);return e})},t.updateEnableCorsToHttpd=function(e,t,n){if(!t)throw new Error("node not set");var o=e+"/httpd/enable_cors";return(0,a.put)(o,n.toString()).then(function(e){if(e.error)throw new Error(e.reason);return e})},t.updateCorsOrigins=function(e,t,n){return o(e,t,"origins",n)},t.updateCorsCredentials=function(e,t){return o(e,t,"credentials","true")},t.updateCorsHeaders=function(e,t){return o(e,t,"headers","accept, authorization, content-type, origin, referer")},t.updateCorsMethods=function(e,t){return o(e,t,"methods","GET, PUT, POST, HEAD, DELETE")},function(e,t,n,o){if(!t)throw new Error("node not set");var r=e+"/cors/"+n;return(0,a.put)(r,o).then(function(e){if(e.error)throw new Error(e.reason);return e})})},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),r=a(o),i=n(19),l=a(i),u=n(1044),s=a(u);n(1057);var c=n(462),d=a(c);s.default.initialize=function(){},r.default.addReducers({replication:d.default}),r.default.registerUrls("replication",{app:function(e){return"#/replication/_create/"+e},api:function(){return l.default.getApiUrl("/_replicator")}}),t.default=s.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=a(o),i=n(2),l=a(i),u=n(1045),s=a(u),c=l.default.RouteObject.extend({routes:{"replication/_create":"createView","replication/_create/:dbname":"createView","replication/id/:id":"createViewFromId",replication:"activityView","replication/_replicate":"replicateView"},selectedHeader:"Replication",roles:["fx_loggedIn"],setActivityCrumbs:function(){this.crumbs=[{name:"Replication"}]},setCreateReplicationCrumbs:function(){this.crumbs=[{name:"Replication",link:"replication"},{name:"New Replication"}]},createView:function(e){var t=e||"";return r.default.createElement(s.default,{routeLocalSource:t,section:"new replication"})},createViewFromId:function(e){return r.default.createElement(s.default,{replicationId:e,section:"new replication"})},activityView:function(){return r.default.createElement(s.default,{section:"activity"})},replicateView:function(){return r.default.createElement(s.default,{section:"_replicate"})}});t.default={RouteObjects:[c]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),o=n(1046),r=function(e){return e&&e.__esModule?e:{default:e}}(o),i=n(1055),l=n(462),u=function(e,t){var n=e.replication;return{routeLocalSource:t.routeLocalSource,replicationId:t.replicationId,tabSection:t.section,loading:(0,l.isLoading)(n),activityLoading:(0,l.isActivityLoading)(n),databases:(0,l.getDatabases)(n),replicationSource:(0,l.getReplicationSource)(n),localSource:(0,l.getLocalSource)(n),localSourceKnown:(0,l.isLocalSourceKnown)(n),remoteSource:(0,l.getRemoteSource)(n),sourceAuthType:n.sourceAuthType,sourceAuth:n.sourceAuth,replicationTarget:(0,l.getReplicationTarget)(n),localTarget:(0,l.getLocalTarget)(n),localTargetKnown:(0,l.isLocalTargetKnown)(n),remoteTarget:(0,l.getRemoteTarget)(n),targetAuthType:n.targetAuthType,targetAuth:n.targetAuth,isConflictModalVisible:(0,l.isConflictModalVisible)(n),replicationType:(0,l.getReplicationType)(n),replicationDocName:(0,l.getReplicationDocName)(n),submittedNoChange:(0,l.getSubmittedNoChange)(n),statusDocs:(0,l.getFilteredReplicationStatus)(n),statusFilter:(0,l.getStatusFilter)(n),replicateFilter:(0,l.getReplicateFilter)(n),allDocsSelected:(0,l.getAllDocsSelected)(n),someDocsSelected:(0,l.getSomeDocsSelected)(n),username:(0,l.getUsername)(n),password:(0,l.getPassword)(n),activitySort:(0,l.getActivitySort)(n),checkingApi:(0,l.getCheckingApi)(n),supportNewApi:(0,l.supportNewApi)(n),replicateLoading:(0,l.isReplicateInfoLoading)(n),replicateInfo:(0,l.getReplicateInfo)(n),allReplicateSelected:(0,l.getAllReplicateSelected)(n),someReplicateSelected:(0,l.someReplicateSelected)(n)}},s=function(e){return{checkForNewApi:function(){return e((0,i.checkForNewApi)())},updateFormField:function(t){return function(n){e((0,i.updateFormField)(t,n))}},clearReplicationForm:function(){return e((0,i.clearReplicationForm)())},initReplicator:function(t){return e((0,i.initReplicator)(t))},getReplicationActivity:function(){return e((0,i.getReplicationActivity)())},getReplicateActivity:function(){return e((0,i.getReplicateActivity)())},getReplicationStateFrom:function(t){return e((0,i.getReplicationStateFrom)(t))},getDatabasesList:function(){return e((0,i.getDatabasesList)())},replicate:function(t){return e((0,i.replicate)(t))},showConflictModal:function(){return e((0,i.showConflictModal)())},hideConflictModal:function(){return e((0,i.hideConflictModal)())},filterReplicate:function(t){return e((0,i.filterReplicate)(t))},filterDocs:function(t){return e((0,i.filterDocs)(t))},selectDoc:function(t){return e((0,i.selectDoc)(t))},deleteDocs:function(t){return e((0,i.deleteDocs)(t))},selectAllDocs:function(){return e((0,i.selectAllDocs)())},changeActivitySort:function(t){return e((0,i.changeActivitySort)(t))},selectAllReplicates:function(){return e((0,i.selectAllReplicates)())},deleteReplicates:function(t){return e((0,i.deleteReplicates)(t))},selectReplicate:function(t){return e((0,i.selectReplicate)(t))}}};t.default=(0,a.connect)(u,s)(r.default)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(2),s=a(u),c=n(0),d=a(c),f=n(19),p=a(f),h=n(13),m=a(h),_=n(1047),g=a(_),b=n(1053),y=a(b),E=n(260),v=n(43),O=n(152),D=n(1054),N=a(D),T=m.default.LoadLines,S=m.default.Polling,w=m.default.RefreshBtn,C=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"loadReplicationInfo",value:function(e,t){this.props.initReplicator(e.routeLocalSource,e.localSource),this.getAllActivity(),this.loadReplicationStateFrom(e,t)}},{key:"loadReplicationStateFrom",value:function(e,t){e.replicationId&&e.replicationId!==t.replicationId&&(this.props.clearReplicationForm(),this.props.getReplicationStateFrom(e.replicationId))}},{key:"getAllActivity",value:function(){this.props.getReplicationActivity(),this.props.getReplicateActivity()}},{key:"componentDidMount",value:function(){this.props.checkForNewApi(),this.props.getDatabasesList(),this.loadReplicationInfo(this.props,{})}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.loadReplicationStateFrom(e,this.props),"new replication"!==this.props.tabSection&&"new replication"===e.tabSection&&this.props.clearReplicationForm()}},{key:"componentWillUnmount",value:function(){this.props.clearReplicationForm()}},{key:"showSection",value:function(){var e=this.props,t=e.replicationSource,n=e.replicationTarget,a=e.replicationType,o=e.replicationDocName,r=e.databases,i=e.localSource,l=e.remoteSource,u=e.remoteTarget,s=e.localTarget,c=e.statusDocs,f=e.statusFilter,p=e.loading,h=e.allDocsSelected,m=e.someDocsSelected,_=e.showConflictModal,b=e.localSourceKnown,v=e.localTargetKnown,O=e.updateFormField,D=e.authenticated,S=e.activityLoading,w=e.submittedNoChange,C=e.activitySort,R=e.tabSection,I=e.replicateInfo,A=e.replicateLoading,P=e.replicateFilter,L=e.allReplicateSelected,M=e.someReplicateSelected,k=e.hideConflictModal,x=e.isConflictModalVisible,j=e.filterDocs,U=e.filterReplicate,q=e.replicate,F=e.clearReplicationForm,B=e.selectAllDocs,V=e.changeActivitySort,H=e.selectDoc,G=e.deleteDocs,K=e.deleteReplicates,W=e.selectAllReplicates,X=e.selectReplicate,z=e.sourceAuthType,Y=e.sourceAuth,Q=e.targetAuthType,J=e.targetAuth;return"new replication"===R?p?d.default.createElement(T,null):d.default.createElement(g.default,{docs:c,localTargetKnown:v,localSourceKnown:b,clearReplicationForm:F,replicate:q,replicationSource:t,replicationTarget:n,replicationType:a,replicationDocName:o,databases:r,localSource:i,remoteSource:l,remoteTarget:u,localTarget:s,sourceAuthType:z,sourceAuth:Y,targetAuthType:Q,targetAuth:J,updateFormField:O,conflictModalVisible:x,hideConflictModal:k,showConflictModal:_,checkReplicationDocID:E.checkReplicationDocID,authenticated:D,submittedNoChange:w}):"_replicate"===R?A?d.default.createElement(T,null):d.default.createElement(N.default,{docs:I,filter:P,onFilterChange:U,selectDoc:X,selectAllDocs:W,allDocsSelected:L,someDocsSelected:M,activitySort:C,changeActivitySort:V,deleteDocs:K}):S?d.default.createElement(T,null):d.default.createElement(y.default,{docs:c,filter:f,onFilterChange:j,selectAllDocs:B,selectDoc:H,allDocsSelected:h,someDocsSelected:m,deleteDocs:G,activitySort:C,changeActivitySort:V})}},{key:"getHeaderComponents",value:function(){if("new replication"===this.props.tabSection)return null;var e="right-header-flex";return p.default.isIE1X()&&(e+=" "+e+"--ie1X"),d.default.createElement("div",{className:e},d.default.createElement(S,{min:60,max:600,startValue:300,stepSize:60,onPoll:this.getAllActivity.bind(this)}),d.default.createElement(w,{refresh:this.getAllActivity.bind(this)}))}},{key:"getTabElements",value:function(){var e=this.props.tabSection,t=[d.default.createElement(O.TabElement,{key:1,selected:"activity"===e,text:"Replicator DB Activity",onChange:this.onTabChange.bind(this,"activity","#/replication")})];return this.props.supportNewApi&&t.push(d.default.createElement(O.TabElement,{key:2,selected:"_replicate"===e,text:"_replicate Activity",onChange:this.onTabChange.bind(this,"_replicate","#/replication/_replicate")})),t}},{key:"onTabChange",value:function(e,t){s.default.navigate(t)}},{key:"getCrumbs",value:function(){return"new replication"===this.props.tabSection?[{name:"Job Configuration"}]:[{name:"Replication"}]}},{key:"getTabs",value:function(){return"new replication"===this.props.tabSection?null:d.default.createElement(O.TabElementWrapper,null,this.getTabElements())}},{key:"render",value:function(){return this.props.checkingAPI?d.default.createElement(T,null):d.default.createElement(v.OnePane,null,d.default.createElement(v.OnePaneHeader,{crumbs:this.getCrumbs()},this.getHeaderComponents()),d.default.createElement(v.OnePaneContent,null,d.default.createElement("div",{className:"template-content flex-body flex-layout flex-col"},this.getTabs(),d.default.createElement("div",{className:"replication__page flex-layout flex-col"},this.showSection()))))}}]),t}(d.default.Component);t.default=C},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(259),s=a(u),c=n(0),d=a(c),f=n(19),p=a(f),h=n(21),m=n(2),g=a(m),b=n(1048),y=n(1049),E=n(1050),v=n(1051),O=n(1052),D=n(63),N=a(D),T=n(165),S=n(22),w=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.submit=n.submit.bind(n),n.checkAuth=n.checkAuth.bind(n),n.runReplicationChecks=n.runReplicationChecks.bind(n),n}return i(t,e),l(t,[{key:"checkAuth",value:function(){var e=this;this.props.hideConflictModal();var t=this.props,n=t.replicationSource,a=t.replicationTarget,o=t.sourceAuthType,r=t.targetAuthType,i=t.sourceAuth,l=t.targetAuth,u=n===N.default.REPLICATION_SOURCE.LOCAL,s=a===N.default.REPLICATION_TARGET.EXISTING_LOCAL_DATABASE||a===N.default.REPLICATION_TARGET.NEW_LOCAL_DATABASE;if(!g.default.session.isAdminParty()){if(u&&o===N.default.REPLICATION_AUTH_METHOD.NO_AUTH)return void g.default.addNotification({msg:"Missing credentials for local source database.",type:"error",clear:!0});if(s&&r===N.default.REPLICATION_AUTH_METHOD.NO_AUTH)return void g.default.addNotification({msg:"Missing credentials for local target database.",type:"error",clear:!0})}this.checkLocalAccountCredentials(o,i,"source",u).then(function(){e.checkLocalAccountCredentials(r,l,"target",s).then(function(){e.submit()},function(){})},function(){})}},{key:"checkLocalAccountCredentials",value:function(e,t,n,a){if(e!==N.default.REPLICATION_AUTH_METHOD.BASIC||!a)return g.default.Promise.resolve(!0);if(!t.username||!t.password){var o="Missing "+n+" credentials.";return g.default.addNotification({msg:o,type:"error",clear:!0}),g.default.Promise.reject(new Error(o))}return this.checkCredentials(t.username,t.password).then(function(e){if(e.error)throw e;return!0}).catch(function(e){throw g.default.addNotification({msg:"Your username or password for "+n+" database is incorrect.",type:"error",clear:!0}),e})}},{key:"checkCredentials",value:function(e,t){return(0,h.json)(p.default.getServerUrl("/"),"GET",{credentials:"omit",headers:{Authorization:"Basic "+s.default.encode(e+":"+t)}})}},{key:"checkReplicationDocID",value:function(){var e=this,t=this.props,n=t.showConflictModal,a=t.replicationDocName;(0,t.checkReplicationDocID)(a).then(function(t){if(t)return void n();e.checkAuth()})}},{key:"runReplicationChecks",value:function(){var e=this.props.replicationDocName;if(this.checkSourceTargetDatabases())return e?void this.checkReplicationDocID():void this.checkAuth()}},{key:"checkSourceTargetDatabases",value:function(){var e=this.props,t=e.remoteTarget,n=e.remoteSource,a=e.replicationTarget,o=e.localTarget,r=e.localSource,i=e.databases;if(a===N.default.REPLICATION_TARGET.NEW_LOCAL_DATABASE&&-1!==_.indexOf(i,o))return g.default.addNotification({msg:"The <code>"+o+"</code> database already exists locally. Please enter another database name.",type:"error",escape:!1,clear:!0}),!1;if(a===N.default.REPLICATION_TARGET.NEW_LOCAL_DATABASE||a===N.default.REPLICATION_TARGET.NEW_REMOTE_DATABASE){var l="";if(/\s/.test(o)?l="The target database may not contain any spaces.":/^_/.test(o)&&(l="The target database may not start with an underscore."),l)return g.default.addNotification({msg:l,type:"error",escape:!1,clear:!0}),!1}if(!(0,S.isEmpty)(n)){var u="";try{""===new URL(n).pathname.slice(1)&&(u="Invalid source database URL. Database name is missing.")}catch(e){u="Invalid source database URL."}if(u)return g.default.addNotification({msg:u,type:"error",escape:!1,clear:!0}),!1}if(!(0,S.isEmpty)(t)){var s="";try{""===new URL(t).pathname.slice(1)&&(s="Invalid target database URL. Database name is missing.")}catch(e){s="Invalid target database URL."}if(s)return g.default.addNotification({msg:s,type:"error",escape:!1,clear:!0}),!1}return!(t===n&&!(0,S.isEmpty)(t)||r===o&&!(0,S.isEmpty)(r))||(g.default.addNotification({msg:"Cannot replicate a database to itself",type:"error",escape:!1,clear:!0}),!1)}},{key:"submit",value:function(){var e=this.props,t=e.replicationTarget,n=e.replicationSource,a=e.replicationType,o=e.replicationDocName,r=e.remoteTarget,i=e.remoteSource,l=e.localTarget,u=e.localSource,s=e.sourceAuthType,c=e.sourceAuth,d=e.targetAuthType,f=e.targetAuth,p=void 0;if(o){var h=this.props.docs.find(function(e){return e._id===o});h&&(p=h._rev)}this.props.replicate({replicationTarget:t,replicationSource:n,replicationType:a,replicationDocName:o,localTarget:l,localSource:u,remoteTarget:r,remoteSource:i,_rev:p,sourceAuthType:s,sourceAuth:c,targetAuthType:d,targetAuth:f})}},{key:"confirmButtonEnabled",value:function(){var e=this.props,t=e.remoteSource,n=e.localSourceKnown,a=e.replicationSource,o=e.replicationTarget,r=e.localTargetKnown,i=e.localTarget;return!(e.submittedNoChange||!a||!o||a===N.default.REPLICATION_SOURCE.LOCAL&&!n||o===N.default.REPLICATION_TARGET.EXISTING_LOCAL_DATABASE&&!r||o===N.default.REPLICATION_TARGET.NEW_LOCAL_DATABASE&&!i||a===N.default.REPLICATION_SOURCE.REMOTE&&""===t)}},{key:"render",value:function(){var e=this.props,t=e.replicationSource,n=e.replicationTarget,a=e.replicationType,o=e.replicationDocName,r=e.conflictModalVisible,i=e.databases,l=e.localSource,u=e.remoteSource,s=e.remoteTarget,c=e.localTarget,f=e.updateFormField,p=e.clearReplicationForm,h=e.sourceAuthType,m=e.sourceAuth,_=e.targetAuthType,g=e.targetAuth;return d.default.createElement("div",{style:{paddingBottom:20}},d.default.createElement(b.ReplicationSource,{replicationSource:t,localSource:l,databases:i,remoteSource:u,onSourceSelect:f("replicationSource"),onRemoteSourceChange:f("remoteSource"),onLocalSourceChange:f("localSource")}),d.default.createElement(O.ReplicationAuth,{credentials:m,authType:h,onChangeAuthType:f("sourceAuthType"),onChangeAuth:f("sourceAuth"),authId:"replication-source-auth"}),d.default.createElement("hr",{className:"replication__seperator",size:"1"}),d.default.createElement(y.ReplicationTarget,{replicationTarget:n,onTargetChange:f("replicationTarget"),databases:i,localTarget:c,remoteTarget:s,onRemoteTargetChange:f("remoteTarget"),onLocalTargetChange:f("localTarget")}),d.default.createElement(O.ReplicationAuth,{credentials:g,authType:_,onChangeAuthType:f("targetAuthType"),onChangeAuth:f("targetAuth"),authId:"replication-target-auth"}),d.default.createElement("hr",{className:"replication__seperator",size:"1"}),d.default.createElement(E.ReplicationOptions,{replicationType:a,replicationDocName:o,onDocChange:f("replicationDocName"),onTypeChange:f("replicationType")}),d.default.createElement(v.ReplicationSubmit,{disabled:!this.confirmButtonEnabled(),onClick:this.runReplicationChecks,onClear:p}),d.default.createElement(T.ConflictModal,{visible:r,onClick:this.checkAuth,onClose:this.props.hideConflictModal,docId:o}))}}]),t}(d.default.Component);t.default=w},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ReplicationSource=t.ReplicationSourceSelect=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),s=a(u),c=n(0),d=a(c),f=n(63),p=a(f),h=n(13),m=a(h),_=n(77),g=a(_),b=m.default.StyledSelect,y=function(e){var t=e.onChange,n=e.value;return d.default.createElement("div",{className:"replication__section"},d.default.createElement("div",{className:"replication__input-label"},"Database URL:"),d.default.createElement("div",{className:""},d.default.createElement("input",{type:"text",className:"replication__remote-connection-url",placeholder:"https://",value:n,onChange:function(e){return t(e.target.value)}})))};y.propTypes={value:s.default.string.isRequired,onChange:s.default.func.isRequired};var E=function(e){var t=e.value,n=e.onChange,a=e.databases,o=a.map(function(e){return{value:e,label:e}});return d.default.createElement("div",{className:"replication__section"},d.default.createElement("div",{className:"replication__input-label"},"Name:"),d.default.createElement("div",{className:"replication__input-react-select"},d.default.createElement(g.default,{name:"source-name",value:t,placeholder:"Database name",options:o,clearable:!1,onChange:function(e){var t=e.value;return n(t)}})))};E.propTypes={value:s.default.string.isRequired,databases:s.default.array.isRequired,onChange:s.default.func.isRequired};var v=function(e){var t=e.replicationSource,n=e.databases,a=e.localSource,o=e.remoteSource,r=e.onChangeRemote,i=e.onChangeLocal;return t===p.default.REPLICATION_SOURCE.LOCAL?d.default.createElement(E,{value:a,databases:n,onChange:i}):d.default.createElement(y,{value:o,onChange:r})};v.propTypes={replicationSource:s.default.string.isRequired,databases:s.default.array.isRequired,localSource:s.default.string.isRequired,remoteSource:s.default.string.isRequired,onChangeRemote:s.default.func.isRequired,onChangeLocal:s.default.func.isRequired};var O=function(){return[{value:"",label:"Select source type"},{value:p.default.REPLICATION_SOURCE.LOCAL,label:"Local database"},{value:p.default.REPLICATION_SOURCE.REMOTE,label:"Remote database"}].map(function(e){return d.default.createElement("option",{value:e.value,key:e.value},e.label)})},D=t.ReplicationSourceSelect=function(e){var t=e.onChange,n=e.value;return d.default.createElement("div",{className:"replication__section"},d.default.createElement("div",{className:"replication__input-label"},"Type:"),d.default.createElement("div",{className:"replication__input-select"},d.default.createElement(b,{selectContent:O(),selectChange:function(e){return t(e.target.value)},selectId:"replication-source",selectValue:n})))};D.propTypes={value:s.default.string.isRequired,onChange:s.default.func.isRequired},(t.ReplicationSource=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"getReplicationSourceRow",value:function(){var e=this.props,t=e.replicationSource,n=e.localSource,a=e.onLocalSourceChange,o=e.onRemoteSourceChange,r=e.remoteSource,i=e.databases;return t?d.default.createElement(v,{replicationSource:t,databases:i,localSource:n,remoteSource:r,onChangeLocal:a,onChangeRemote:o}):null}},{key:"render",value:function(){var e=this.props,t=e.replicationSource,n=e.onSourceSelect;return d.default.createElement("div",null,d.default.createElement("h3",null,"Source"),d.default.createElement(D,{onChange:n,value:t}),this.getReplicationSourceRow())}}]),t}(d.default.Component)).propTypes={replicationSource:s.default.string.isRequired,localSource:s.default.string.isRequired,remoteSource:s.default.string.isRequired,databases:s.default.array.isRequired,onLocalSourceChange:s.default.func.isRequired,onRemoteSourceChange:s.default.func.isRequired}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ReplicationTarget=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),s=a(u),c=n(0),d=a(c),f=n(63),p=a(f),h=n(13),m=a(h),_=n(77),g=a(_),b=m.default.StyledSelect,y=function(){return[{value:"",label:"Select target type"},{value:p.default.REPLICATION_TARGET.EXISTING_LOCAL_DATABASE,label:"Existing local database"},{value:p.default.REPLICATION_TARGET.EXISTING_REMOTE_DATABASE,label:"Existing remote database"},{value:p.default.REPLICATION_TARGET.NEW_LOCAL_DATABASE,label:"New local database"},{value:p.default.REPLICATION_TARGET.NEW_REMOTE_DATABASE,label:"New remote database"}].map(function(e){return d.default.createElement("option",{value:e.value,key:e.value},e.label)})},E=function(e){var t=e.value,n=e.onChange;return d.default.createElement("div",{className:"replication__section"},d.default.createElement("div",{className:"replication__input-label"},"Type:"),d.default.createElement("div",{id:"replication-target",className:"replication__input-select"},d.default.createElement(b,{selectContent:y(),selectChange:function(e){return n(e.target.value)},selectId:"replication-target",selectValue:t})))};E.propTypes={value:s.default.string.isRequired,onChange:s.default.func.isRequired};var v=function(e){var t=e.onChange,n=e.value;return d.default.createElement("div",null,d.default.createElement("input",{type:"text",className:"replication__remote-connection-url",placeholder:"https://",value:n,onChange:function(e){return t(e.target.value)}}))};v.propTypes={value:s.default.string.isRequired,onChange:s.default.func.isRequired};var O=function(e){var t=e.onChange,n=e.value,a=e.databases,o=a.map(function(e){return{value:e,label:e}});return d.default.createElement("div",{id:"replication-target-local",className:"replication__input-react-select"},d.default.createElement(g.default,{value:n,options:o,placeholder:"Database name",clearable:!1,onChange:function(e){var n=e.value;return t(n)}}))};O.propTypes={value:s.default.string.isRequired,databases:s.default.array.isRequired,onChange:s.default.func.isRequired};var D=function(e){var t=e.onChange,n=e.value;return d.default.createElement("input",{type:"text",className:"replication__new-input",placeholder:"Database name",value:n,onChange:function(e){return t(e.target.value)}})};D.propTypes={value:s.default.string.isRequired,onChange:s.default.func.isRequired};var N=function(e){var t=e.replicationTarget,n=e.onLocalTargetChange,a=e.onRemoteTargetChange,o=e.localTarget,r=e.remoteTarget,i=e.databases;if(!t)return null;var l=void 0;t===p.default.REPLICATION_TARGET.NEW_LOCAL_DATABASE?(u="New database:",l=d.default.createElement(D,{value:o,onChange:n})):l=t===p.default.REPLICATION_TARGET.EXISTING_LOCAL_DATABASE?d.default.createElement(O,{onChange:n,databases:i,value:o}):d.default.createElement(v,{onChange:a,value:r,newRemote:p.default.REPLICATION_TARGET.NEW_REMOTE_DATABASE===t});var u="Name:";return t!==p.default.REPLICATION_TARGET.NEW_REMOTE_DATABASE&&t!==p.default.REPLICATION_TARGET.NEW_LOCAL_DATABASE||(u="New database:"),d.default.createElement("div",{className:"replication__section"},d.default.createElement("div",{className:"replication__input-label"},u),d.default.createElement("div",null,l))};N.propTypes={databases:s.default.array.isRequired,onLocalTargetChange:s.default.func.isRequired,onRemoteTargetChange:s.default.func.isRequired,remoteTarget:s.default.string.isRequired,localTarget:s.default.string.isRequired,replicationTarget:s.default.string.isRequired},(t.ReplicationTarget=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.replicationTarget,n=e.onLocalTargetChange,a=e.onTargetChange,o=e.databases,r=e.localTarget,i=e.onRemoteTargetChange,l=e.remoteTarget;return d.default.createElement("div",null,d.default.createElement("h3",null,"Target"),d.default.createElement(E,{value:t,onChange:a}),d.default.createElement(N,{remoteTarget:l,replicationTarget:t,databases:o,localTarget:r,onRemoteTargetChange:i,onLocalTargetChange:n}))}}]),t}(d.default.Component)).propTypes={databases:s.default.array.isRequired,onTargetChange:s.default.func.isRequired,onLocalTargetChange:s.default.func.isRequired,onRemoteTargetChange:s.default.func.isRequired,remoteTarget:s.default.string.isRequired,localTarget:s.default.string.isRequired,replicationTarget:s.default.string.isRequired}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ReplicationOptions=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),s=a(u),c=n(0),d=a(c),f=n(63),p=a(f),h=n(13),m=a(h),_=m.default.StyledSelect,g=function(){return[{value:p.default.REPLICATION_TYPE.ONE_TIME,label:"One time"},{value:p.default.REPLICATION_TYPE.CONTINUOUS,label:"Continuous"}].map(function(e){return d.default.createElement("option",{value:e.value,key:e.value},e.label)})},b=function(e){var t=e.value,n=e.onChange;return d.default.createElement("div",{className:"replication__section"},d.default.createElement("div",{className:"replication__input-label"},"Replication type:"),d.default.createElement("div",{className:"replication__input-select"},d.default.createElement(_,{selectContent:g(),selectChange:function(e){return n(e.target.value)},selectId:"replication-target",selectValue:t})))};b.propTypes={value:s.default.string.isRequired,onChange:s.default.func.isRequired};var y=function(e){var t=e.value,n=e.onChange;return d.default.createElement("div",{className:"replication__section"},d.default.createElement("div",{className:"replication__input-label"},"Replication document:"),d.default.createElement("div",{className:"replication__doc-name"},d.default.createElement("span",{className:"fonticon fonticon-cancel replication__doc-name-icon",title:"Clear field",onClick:function(){return n("")}}),d.default.createElement("input",{type:"text",className:"replication__doc-name-input",placeholder:"Custom ID (optional)",value:t,onChange:function(e){return n(e.target.value)}})))};y.propTypes={value:s.default.string.isRequired,onChange:s.default.func.isRequired},(t.ReplicationOptions=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.replicationType,n=e.replicationDocName,a=e.onDocChange,o=e.onTypeChange;return d.default.createElement("div",null,d.default.createElement("h3",null,"Options"),d.default.createElement(b,{onChange:o,value:t}),d.default.createElement(y,{onChange:a,value:n}))}}]),t}(d.default.Component)).propTypes={replicationDocName:s.default.string.isRequired,replicationType:s.default.string.isRequired,onDocChange:s.default.func.isRequired,onTypeChange:s.default.func.isRequired}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ReplicationSubmit=void 0;var o=n(1),r=a(o),i=n(0),l=a(i),u=n(13),s=a(u),c=s.default.ConfirmButton;(t.ReplicationSubmit=function(e){var t=e.onClear,n=e.disabled,a=e.onClick;return l.default.createElement("div",{className:"replication__button-row"},l.default.createElement(c,{customIcon:"fonticon-replicate",id:"replicate",text:"Start Replication",onClick:a,disabled:n}),l.default.createElement("a",{className:"replication__clear-link",href:"#","data-bypass":"true",onClick:function(e){e.preventDefault(),t()}},"Clear"))}).propTypes={disabled:r.default.bool.isRequired,onClick:r.default.func.isRequired,onClear:r.default.func.isRequired}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.UserPasswordAuthInput=t.ReplicationAuth=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),s=a(u),c=n(2),d=a(c),f=n(11),p=a(f),h=n(0),m=a(h),_=n(63),g=a(_),b=n(13),y=a(b),E=y.default.StyledSelect,v=t.ReplicationAuth=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getAuthOptions=function(){var e=p.default.i18n.en_US["replication-user-password-auth-label"],t=[{value:g.default.REPLICATION_AUTH_METHOD.NO_AUTH,label:"None"},{value:g.default.REPLICATION_AUTH_METHOD.BASIC,label:e}];return n.customAuths.map(function(e){t.push({value:e.typeValue,label:e.typeLabel})}),t.map(function(e){return m.default.createElement("option",{value:e.value,key:e.value},e.label)})},n.onChangeType=n.onChangeType.bind(n),n.onChangeValue=n.onChangeValue.bind(n),n.customAuths=d.default.getExtensions("Replication:Auth"),n.customAuths||(n.customAuths=[]),n.customAuthTypes=n.customAuths.map(function(e){return e.typeValue}),n}return i(t,e),l(t,[{key:"onChangeType",value:function(e){this.props.onChangeAuthType(e)}},{key:"onChangeValue",value:function(e){this.props.onChangeAuth(e)}},{key:"getAuthInputFields",value:function(e,t){var n=this.props.authId;if(t==g.default.REPLICATION_AUTH_METHOD.BASIC)return m.default.createElement(O,{onChange:this.onChangeValue,auth:e,authId:n});var a=this.customAuths.filter(function(e){return e.typeValue===t});if(a&&a.length>0){var o=a[0].inputComponent;return m.default.createElement(o,{onChange:this.onChangeValue,auth:e})}return null}},{key:"render",value:function(){var e=this,t=this.props,n=t.credentials,a=t.authType,o=t.authId;return m.default.createElement(m.default.Fragment,null,m.default.createElement("div",{className:"replication__section"},m.default.createElement("div",{className:"replication__input-label"},"Authentication:"),m.default.createElement("div",{className:"replication__input-select"},m.default.createElement(E,{selectContent:this.getAuthOptions(),selectChange:function(t){return e.onChangeType(t.target.value)},selectId:"select-"+o,selectValue:a}))),this.getAuthInputFields(n,a))}}]),t}(m.default.Component);v.propTypes={authId:s.default.string.isRequired,authType:s.default.string.isRequired,credentials:s.default.object,onChangeAuth:s.default.func.isRequired,onChangeAuthType:s.default.func.isRequired},v.defaultProps={authType:g.default.REPLICATION_AUTH_METHOD.NO_AUTH,onChangeAuthType:function(){},onChangeAuth:function(){}};var O=t.UserPasswordAuthInput=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.updatePassword=n.updatePassword.bind(n),n.updateUsername=n.updateUsername.bind(n),n.state={username:e.auth&&e.auth.username?e.auth.username:"",password:e.auth&&e.auth.password?e.auth.password:""},n}return i(t,e),l(t,[{key:"updatePassword",value:function(e){this.setState({password:e}),this.props.onChange({username:this.state.username,password:e})}},{key:"updateUsername",value:function(e){this.setState({username:e}),this.props.onChange({username:e,password:this.state.password})}},{key:"render",value:function(){var e=this,t=p.default.i18n.en_US["replication-username-input-placeholder"],n=p.default.i18n.en_US["replication-password-input-placeholder"],a=this.props.authId;return m.default.createElement(m.default.Fragment,null,m.default.createElement("div",{className:"replication__section"},m.default.createElement("div",{className:"replication__input-label"}),m.default.createElement("div",null,m.default.createElement("input",{id:a+"-username",type:"text",placeholder:t,value:this.state.username,onChange:function(t){return e.updateUsername(t.target.value)},readOnly:this.props.usernameReadOnly}))),m.default.createElement("div",{className:"replication__section"},m.default.createElement("div",{className:"replication__input-label"}),m.default.createElement("div",null,m.default.createElement("input",{id:a+"-password",type:"password",placeholder:n,value:this.state.password,onChange:function(t){return e.updatePassword(t.target.value)}}))))}}]),t}(m.default.Component);O.propTypes={auth:s.default.object.isRequired,onChange:s.default.func.isRequired}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),s=a(u),c=n(0),d=a(c),f=n(165),p=n(459),h=n(460),m=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={modalVisible:!1,unconfirmedDeleteDocId:null},n}return i(t,e),l(t,[{key:"closeModal",value:function(){this.setState({modalVisible:!1,unconfirmedDeleteDocId:null})}},{key:"showModal",value:function(e){this.setState({modalVisible:!0,unconfirmedDeleteDocId:e})}},{key:"confirmDeleteDocs",value:function(){var e=this,t=[];if(this.state.unconfirmedDeleteDocId){var n=this.props.docs.find(function(t){return t._id===e.state.unconfirmedDeleteDocId});t.push(n)}else t=this.props.docs.filter(function(e){return e.selected});this.props.deleteDocs(t),this.closeModal()}},{key:"numDocsSelected",value:function(){return this.props.docs.filter(function(e){return e.selected}).length}},{key:"render",value:function(){var e=this.props,t=e.onFilterChange,n=e.activitySort,a=e.changeActivitySort,o=e.docs,r=e.filter,i=e.selectAllDocs,l=e.someDocsSelected,u=e.allDocsSelected,s=e.selectDoc,c=this.state.modalVisible;return d.default.createElement("div",{className:"replication__activity"},d.default.createElement("p",{className:"replication__activity-caveat"},"Replications must have a replication document to display in the following table."),d.default.createElement(h.ReplicationHeader,{filter:r,onFilterChange:t}),d.default.createElement(p.ReplicationTable,{someDocsSelected:l,allDocsSelected:u,selectAllDocs:i,docs:o,selectDoc:s,deleteDocs:this.showModal.bind(this),descending:n.descending,column:n.column,changeSort:a}),d.default.createElement(f.DeleteModal,{isReplicationDB:!0,multipleDocs:this.numDocsSelected(),visible:c,onClose:this.closeModal.bind(this),onClick:this.confirmDeleteDocs.bind(this)}))}}]),t}(d.default.Component);t.default=m,m.propTypes={docs:s.default.array.isRequired,filter:s.default.string.isRequired,selectAllDocs:s.default.func.isRequired,allDocsSelected:s.default.bool.isRequired,someDocsSelected:s.default.bool.isRequired,selectDoc:s.default.func.isRequired,onFilterChange:s.default.func.isRequired,deleteDocs:s.default.func.isRequired,activitySort:s.default.object.isRequired,changeActivitySort:s.default.func.isRequired}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),s=a(u),c=n(0),d=a(c),f=n(165),p=n(459),h=n(460),m=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={modalVisible:!1,unconfirmedDeleteDocId:null},n}return i(t,e),l(t,[{key:"closeModal",value:function(){this.setState({modalVisible:!1,unconfirmedDeleteDocId:null})}},{key:"showModal",value:function(e){this.setState({modalVisible:!0,unconfirmedDeleteDocId:e})}},{key:"confirmDeleteDocs",value:function(){var e=this,t=[];if(this.state.unconfirmedDeleteDocId){var n=this.props.docs.find(function(t){return t._id===e.state.unconfirmedDeleteDocId});t.push(n)}else t=this.props.docs.filter(function(e){return e.selected});this.props.deleteDocs(t),this.closeModal()}},{key:"numDocsSelected",value:function(){return this.props.docs.filter(function(e){return e.selected}).length}},{key:"render",value:function(){var e=this.props,t=e.onFilterChange,n=e.activitySort,a=e.changeActivitySort,o=e.docs,r=e.filter,i=e.selectAllDocs,l=e.someDocsSelected,u=e.allDocsSelected,s=e.selectDoc,c=this.state.modalVisible;return d.default.createElement("div",{className:"replication__activity"},d.default.createElement("p",{className:"replication__activity-caveat"},"Active _replicate jobs are displayed. Completed and failed jobs are not."),d.default.createElement(h.ReplicationHeader,{filter:r,onFilterChange:t}),d.default.createElement(p.ReplicationTable,{onlyDeleteAction:!0,showStateRow:!1,someDocsSelected:l,allDocsSelected:u,selectAllDocs:i,docs:o,selectDoc:s,deleteDocs:this.showModal.bind(this),descending:n.descending,column:n.column,changeSort:a}),d.default.createElement(f.DeleteModal,{isReplicationDB:!1,multipleDocs:this.numDocsSelected(),visible:c,onClose:this.closeModal.bind(this),onClick:this.confirmDeleteDocs.bind(this)}))}}]),t}(d.default.Component);t.default=m,m.propTypes={docs:s.default.array.isRequired,filter:s.default.string.isRequired,selectAllDocs:s.default.func.isRequired,allDocsSelected:s.default.bool.isRequired,someDocsSelected:s.default.bool.isRequired,selectDoc:s.default.func.isRequired,onFilterChange:s.default.func.isRequired,deleteDocs:s.default.func.isRequired,activitySort:s.default.object.isRequired,changeActivitySort:s.default.func.isRequired}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.checkForNewApi=t.changeActivitySort=t.hideConflictModal=t.showConflictModal=t.getReplicationStateFrom=t.deleteReplicates=t.deleteDocs=t.clearSelectedReplicates=t.clearSelectedDocs=t.selectReplicate=t.selectAllReplicates=t.selectDoc=t.selectAllDocs=t.filterReplicate=t.filterDocs=t.getReplicateActivity=t.getReplicationActivity=t.clearReplicationForm=t.updateFormField=t.replicate=t.getDatabasesList=t.initReplicator=void 0;var o=n(259),r=a(o),i=n(2),l=a(i),u=n(21),s=n(461),c=a(s),d=n(1056),f=a(d),p=n(19),h=a(p),m=n(63),g=a(m),b=n(260),y=(t.initReplicator=function(e,t){return function(n){e&&e!==t&&n({type:c.default.INIT_REPLICATION,options:{localSource:e}})}},t.getDatabasesList=function(){return function(e){var t=h.default.getServerUrl("/_all_dbs");(0,u.get)(t).then(function(t){e({type:c.default.REPLICATION_DATABASES_LOADED,options:{databases:t}})})}},t.replicate=function e(t){return function(n){var a=(0,b.createReplicationDoc)(t),o=h.default.getServerUrl("/_replicator"),r=(0,u.post)(o,a),i=f.default.getDatabaseLabel(a.source),s=f.default.getDatabaseLabel(a.target);n({type:c.default.REPLICATION_STARTING});var d=function(e){l.default.addNotification({msg:e.reason,type:"error",clear:!0})};return r.then(function(e){if(!e.ok)throw e;l.default.addNotification({msg:"Replication from <code>"+decodeURIComponent(i)+"</code> to <code>"+decodeURIComponent(s)+"</code> has been scheduled.",type:"success",escape:!1,clear:!0}),n(y()),l.default.navigate("#/replication")}).catch(function(a){if(a.error&&"not_found"===a.error)return(0,b.createReplicatorDB)().then(function(){return e(t)(n)}).catch(d);d(a)})}},t.updateFormField=function(e,t){return{type:c.default.REPLICATION_UPDATE_FORM_FIELD,options:{fieldName:e,value:t}}},t.clearReplicationForm=function(){return{type:c.default.REPLICATION_CLEAR_FORM}},t.getReplicationActivity=function(){return function(e){e({type:c.default.REPLICATION_FETCHING_STATUS}),(0,b.supportNewApi)().then(function(e){return(0,b.fetchReplicationDocs)(e)}).then(function(t){e({type:c.default.REPLICATION_STATUS,options:t})})}}),E=t.getReplicateActivity=function(){return function(e){(0,b.supportNewApi)().then(function(t){t&&(e({type:c.default.REPLICATION_FETCHING_REPLICATE_STATUS}),(0,b.fetchReplicateInfo)().then(function(t){e({type:c.default.REPLICATION_REPLICATE_STATUS,options:t})}))})}},v=(t.filterDocs=function(e){return{type:c.default.REPLICATION_FILTER_DOCS,options:e}},t.filterReplicate=function(e){return{type:c.default.REPLICATION_FILTER_REPLICATE,options:e}},t.selectAllDocs=function(){return{type:c.default.REPLICATION_TOGGLE_ALL_DOCS}},t.selectDoc=function(e){return{type:c.default.REPLICATION_TOGGLE_DOC,options:e}},t.selectAllReplicates=function(){return{type:c.default.REPLICATION_TOGGLE_ALL_REPLICATE}},t.selectReplicate=function(e){return{type:c.default.REPLICATION_TOGGLE_REPLICATE,options:e}},t.clearSelectedDocs=function(){return{type:c.default.REPLICATION_CLEAR_SELECTED_DOCS}}),O=t.clearSelectedReplicates=function(){return{type:c.default.REPLICATION_CLEAR_SELECTED_REPLICATES}},D=(t.deleteDocs=function(e){return function(t){var n=e.map(function(e){var t=e.raw;return t._deleted=!0,t});l.default.addNotification({msg:"Deleting doc"+(n.length>1?"s":"")+".",type:"success",escape:!1,clear:!0});var a=h.default.getServerUrl("/_replicator/_bulk_docs");(0,u.post)(a,{docs:n},{raw:!0}).then(function(e){if(!e.ok)throw e;return e}).then(function(){var n="The selected documents have been deleted.";1===e.length&&(n="Document <code>"+e[0]._id+"</code> has been deleted"),l.default.addNotification({msg:n,type:"success",escape:!1,clear:!0}),t(v()),t(y())}).catch(function(e){e.json().then(function(e){l.default.addNotification({msg:e.reason,type:"error",clear:!0})})})}},t.deleteReplicates=function(e){return function(t){l.default.addNotification({msg:"Deleting _replicate"+(e.length>1?"s":"")+".",type:"success",escape:!1,clear:!0}),(0,b.deleteReplicatesApi)(e).then(function(){var n="The selected replications have been deleted.";1===e.length&&(n="Replication <code>"+e[0]._id+"</code> has been deleted"),t(O()),t(E()),l.default.addNotification({msg:n,type:"success",escape:!1,clear:!0})},function(e){var t=JSON.parse(e.responseText);l.default.addNotification({msg:t.reason,type:"error",clear:!0})})}},function(e){var t={type:g.default.REPLICATION_AUTH_METHOD.NO_AUTH,creds:{}};if(e.headers&&e.headers.Authorization){var n=e.headers.Authorization.substring(6),a=r.default.decode(n);return t.type=g.default.REPLICATION_AUTH_METHOD.BASIC,t.creds={username:a.split(":")[0],password:a.split(":")[1]},t}var o=l.default.getExtensions("Replication:Auth"),i=void 0,u=void 0;return o&&o.map(function(t){!i&&t.getCredentials&&(i=t.getCredentials(e),u=t.typeValue)}),i&&(t.type=u,t.creds=i),t});t.getReplicationStateFrom=function(e){return function(t){t({type:c.default.REPLICATION_FETCHING_FORM_STATE});var n=h.default.getServerUrl("/_replicator/"+encodeURIComponent(e));(0,u.get)(n).then(function(e){var n={replicationDocName:e._id,replicationType:e.continuous?g.default.REPLICATION_TYPE.CONTINUOUS:g.default.REPLICATION_TYPE.ONE_TIME},a=_.isObject(e.source)?e.source.url:e.source,o=_.isObject(e.target)?e.target.url:e.target;if(a.indexOf(window.location.hostname)>-1){var r=new URL(a);n.replicationSource=g.default.REPLICATION_SOURCE.LOCAL,n.localSource=decodeURIComponent(r.pathname.slice(1))}else n.replicationSource=g.default.REPLICATION_SOURCE.REMOTE,n.remoteSource=(0,b.decodeFullUrl)(a);var i=D(e.source);if(n.sourceAuthType=i.type,n.sourceAuth=i.creds,o.indexOf(window.location.hostname)>-1){var l=new URL(o);n.replicationTarget=g.default.REPLICATION_TARGET.EXISTING_LOCAL_DATABASE,n.localTarget=decodeURIComponent(l.pathname.slice(1))}else n.replicationTarget=g.default.REPLICATION_TARGET.EXISTING_REMOTE_DATABASE,n.remoteTarget=(0,b.decodeFullUrl)(o);var u=D(e.target);n.targetAuthType=u.type,n.targetAuth=u.creds,t({type:c.default.REPLICATION_SET_STATE_FROM_DOC,options:n})}).catch(function(e){l.default.addNotification({msg:e.reason,type:"error",clear:!0})})}},t.showConflictModal=function(){return{type:c.default.REPLICATION_SHOW_CONFLICT_MODAL}},t.hideConflictModal=function(){return{type:c.default.REPLICATION_HIDE_CONFLICT_MODAL}},t.changeActivitySort=function(e){return{type:c.default.REPLICATION_CHANGE_ACTIVITY_SORT,options:e}},t.checkForNewApi=function(){return function(e){(0,b.supportNewApi)().then(function(t){e({type:c.default.REPLICATION_SUPPORT_NEW_API,options:t})})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(22),o=function(e){return e&&e.__esModule?e:{default:e}}(a),r=function(e){var t=o.default.isString(e)?e.trim().replace(/\/$/,""):e.url;return new URL(t).pathname.slice(1).split("/").pop()};t.default={getDatabaseLabel:r}},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),r=a(o);n(1059);var i=n(1060),l=a(i),u=r.default.addon();u.initialize=function(){},r.default.addReducers({cors:l.default}),t.default=u},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments[1];switch(t.type){case l.default.EDIT_CORS:var n=t.options;return r({},e,{isLoading:!1,node:n.node,corsEnabled:n.corsEnabled,isAllOrigins:-1!==s.default.indexOf(n.origins,"*"),origins:n.origins,deleteDomainModalVisible:!1,domainToDelete:""});case l.default.CORS_SHOW_DELETE_DOMAIN_MODAL:return r({},e,{deleteDomainModalVisible:!0,domainToDelete:t.domainToDelete});case l.default.CORS_HIDE_DELETE_DOMAIN_MODAL:return r({},e,{deleteDomainModalVisible:!1,domainToDelete:""});case l.default.CORS_SET_IS_LOADING:return r({},e,{isLoading:t.isLoading});default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=o;var i=n(458),l=a(i),u=n(22),s=a(u),c={corsEnabled:!1,origins:[],isAllOrigins:!1,configChanged:!1,shouldSaveChange:!1,node:"",isLoading:!0,deleteDomainModalVisible:!1,domainToDelete:""}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),r=a(o),i=n(1062),l=a(i),u=n(466),s=a(u);n(1069),l.default.initialize=function(){},r.default.addReducers({permissions:s.default}),t.default=l.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=a(o),i=n(11),l=a(i),u=n(2),s=a(u),c=n(80),d=a(c),f=n(246),p=a(f),h=n(1063),m=a(h),_=p.default.extend({roles:["fx_loggedIn"],routes:{"database/:database/_partition/:partitionKey/permissions":{route:"permissions",roles:["fx_loggedIn"]},"database/:database/permissions":{route:"permissions",roles:["fx_loggedIn"]}},initialize:function(){l.default.getParams().include_docs=!0},permissions:function(e,t){this.database=new d.default.Model({id:e}),this.createDesignDocsCollection(),this.addSidebar("permissions");var n=[{name:this.database.id,link:d.default.databaseUrl(e)},{name:"Permissions"}],a=encodeURIComponent(e),o=s.default.urls("permissions","server",a);return r.default.createElement(m.default,{docURL:s.default.constants.DOC_URLS.DB_PERMISSION,endpoint:o,dbName:this.database.id,dropDownLinks:n,database:this.database,partitionKey:t})}}),g={RouteObjects:[_]};t.default=g},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.PermissionsLayout=void 0;var o=n(0),r=a(o),i=n(248),l=n(1064),u=a(l),s=n(402),c=a(s),d=n(247),f=t.PermissionsLayout=function(e){var t=e.docURL,n=e.database,a=e.endpoint,o=e.dbName,l=e.dropDownLinks,s=e.partitionKey,f=new d.SidebarItemSelection("permissions");return r.default.createElement("div",{id:"dashboard",className:"with-sidebar"},r.default.createElement(i.TabsSidebarHeader,{hideQueryOptions:!0,hideJumpToDoc:!0,docURL:t,endpoint:a,dbName:o,dropDownLinks:l,database:n}),r.default.createElement("div",{className:"with-sidebar tabs-with-sidebar content-area"},r.default.createElement("aside",{id:"sidebar-content",className:"scrollable"},r.default.createElement(c.default,{selectedNavItem:f,selectedPartitionKey:s})),r.default.createElement("section",{id:"dashboard-content",className:"flex-layout flex-col"},r.default.createElement(u.default,{url:a}))))};t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),o=n(1065),r=function(e){return e&&e.__esModule?e:{default:e}}(o),i=n(466),l=function(e){var t=e.permissions;return{isLoading:(0,i.getIsLoading)(t),adminRoles:(0,i.getAdminRoles)(t),adminNames:(0,i.getAdminNames)(t),memberNames:(0,i.getMemberNames)(t),memberRoles:(0,i.getMemberRoles)(t),security:(0,i.getSecurity)(t)}};t.default=(0,a.connect)(l)(r.default)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),s=a(u),c=n(0),d=a(c),f=n(1066),p=a(f),h=n(463),m=n(221),_=function(e){function t(e){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatch,n=e.url;t((0,h.fetchPermissions)(n))}},{key:"render",value:function(){return this.props.isLoading?d.default.createElement(m.LoadLines,null):d.default.createElement(p.default,this.props)}}]),t}(c.Component);t.default=_,_.propTypes={isLoading:s.default.bool.isRequired,adminRoles:s.default.array.isRequired,adminNames:s.default.array.isRequired,memberNames:s.default.array.isRequired,memberRoles:s.default.array.isRequired,security:s.default.object.isRequired}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(2),s=a(u),c=n(1),d=a(c),f=n(0),p=a(f),h=n(1067),m=a(h),_=n(463),g=n(464),b=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.addItem=n.addItem.bind(n),n.removeItem=n.removeItem.bind(n),n}return i(t,e),l(t,[{key:"addItem",value:function(e){var t=e.section,n=e.type,a=e.value;if((0,g.isValueAlreadySet)(this.props.security,t,n,a))return s.default.addNotification({msg:"Role/Name has already been added",type:"error"}),null;this.props.dispatch((0,_.updatePermission)(this.props.url,this.props.security,t,n,a))}},{key:"removeItem",value:function(e,t,n){this.props.dispatch((0,_.deletePermission)(this.props.url,this.props.security,e,t,n))}},{key:"render",value:function(){var e=this.props,t=e.adminRoles,n=e.adminNames,a=e.memberRoles,o=e.memberNames;return p.default.createElement("div",{className:"permissions-page flex-body"},p.default.createElement("div",null,p.default.createElement(m.default,{roles:t,names:n,addItem:this.addItem,removeItem:this.removeItem,section:"admins"}),p.default.createElement(m.default,{roles:a,names:o,addItem:this.addItem,removeItem:this.removeItem,section:"members"})))}}]),t}(f.Component);t.default=b,b.propTypes={security:d.default.object.isRequired}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(0),s=a(u),c=n(2),d=a(c),f=n(11),p=a(f),h=n(22),m=a(h),_=n(1068),g=a(_),b=p.default.helpers.getDocUrl,y=function(e){function t(){var e,n,a,i;o(this,t);for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.state={newRole:"",newName:""},a.getHelp=function(){return a.props.section,"Database members can access the database. If no members are defined, the database is public. "},a.isEmptyValue=function(e,t){return!!m.default.isEmpty(e)&&(d.default.addNotification({msg:"Cannot add an empty value for "+t+".",type:"error"}),!0)},a.addNames=function(e){e.preventDefault(),a.isEmptyValue(a.state.newName,"names")||(a.props.addItem({type:"names",section:a.props.section,value:a.state.newName}),a.setState({newName:""}))},a.addRoles=function(e){e.preventDefault(),a.isEmptyValue(a.state.newRole,"roles")||(a.props.addItem({type:"roles",section:a.props.section,value:a.state.newRole}),a.setState({newRole:""}))},a.getItems=function(e,t){return e.map(function(e,n){return s.default.createElement(g.default,{key:n,value:e,section:a.props.section,type:t,removeItem:a.props.removeItem})})},a.getNames=function(){return a.getItems(a.props.names,"names")},a.getRoles=function(){return a.getItems(a.props.roles,"roles")},a.nameChange=function(e){a.setState({newName:e.target.value})},a.roleChange=function(e){a.setState({newRole:e.target.value})},i=n,r(a,i)}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.section;return s.default.createElement("div",{className:"permissions__"+e},s.default.createElement("header",{className:"page-header"},s.default.createElement("h3",null,e),s.default.createElement("p",{className:"help"},this.getHelp(),s.default.createElement("a",{className:"help-link","data-bypass":"true",href:b("DB_PERMISSION"),target:"_blank",rel:"noopener noreferrer"},s.default.createElement("i",{className:"icon-question-sign"})))),s.default.createElement("div",{className:"row-fluid"},s.default.createElement("div",{className:"span6"},s.default.createElement("header",null,s.default.createElement("h4",null,"Users"),s.default.createElement("p",null,"Specify users who will have ",this.props.section," access to this database.")),s.default.createElement("form",{onSubmit:this.addNames,className:"permission-item-form permissions-add-user form-inline"},s.default.createElement("input",{onChange:this.nameChange,value:this.state.newName,type:"text",className:"item input-small",placeholder:"Username"}),s.default.createElement("button",{type:"submit",className:"btn btn-primary"},s.default.createElement("i",{className:"icon fonticon-plus-circled"})," Add User")),s.default.createElement("ul",{className:"unstyled permission-items span10"},this.getNames())),s.default.createElement("div",{className:"span6"},s.default.createElement("header",null,s.default.createElement("h4",null,"Roles"),s.default.createElement("p",null,"Users with any of the following role(s) will have ",this.props.section," access.")),s.default.createElement("form",{onSubmit:this.addRoles,className:"permission-item-form permissions-add-role form-inline"},s.default.createElement("input",{onChange:this.roleChange,value:this.state.newRole,type:"text",className:"item input-small",placeholder:"Role"}),s.default.createElement("button",{type:"submit",className:"btn btn-primary"},s.default.createElement("i",{className:"icon fonticon-plus-circled"})," Add Role")),s.default.createElement("ul",{className:"unstyled permission-items span10"},this.getRoles()))))}}]),t}(s.default.Component);y.defaultProps={names:[],roles:[]},t.default=y},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=a(o),i=n(0),l=a(i),u=function(e){var t=e.removeItem,n=e.section,a=e.type,o=e.value;return l.default.createElement("li",{className:"permissions__entry"},l.default.createElement("span",null,o),l.default.createElement("button",{onClick:function(){return t(n,a,o)},type:"button",className:"pull-right close"},"×"))};u.propTypes={value:r.default.string.isRequired,removeItem:r.default.func.isRequired},t.default=u},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),r=a(o),i=n(1071),l=a(i);n(1079);var u=n(1080),s=a(u);r.default.setSession(new s.default({allowAdminParty:!0})),t.default={initialize:function(){},RouteObjects:l.default}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1072),r=a(o),i=n(1078),l=a(i);t.default=[r.default,l.default]},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=a(o),i=n(2),l=a(i),u=n(123),s=a(u),c=n(467),d=n(11),f=a(d),p=n(468),h=a(p),m=n(124),_=h.default.LoginForm,g=h.default.CreateAdminForm,b=[{name:"Log In to CouchDB"}];t.default=l.default.RouteObject.extend({routes:{"login?*extra":"login",login:"login",logout:"logout",createAdmin:"checkNodes","createAdmin/:node":"createAdminForNode"},checkNodes:function(){s.default.navigateToNodeBasedOnNodeCount("/createAdmin/")},login:function(){return r.default.createElement(c.AuthLayout,{crumbs:b,component:r.default.createElement(_,{urlBack:f.default.getParams().urlback})})},logout:function(){(0,m.logout)()},createAdminForNode:function(){s.default.fetchNodes();var e=[{name:"Create Admin"}];return r.default.createElement(c.AuthLayout,{crumbs:e,component:r.default.createElement(g,{loginAfter:!0})})}})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),s=a(u),c=n(0),d=a(c),f=n(10),p=(a(f),n(124)),h=function(e){function t(){o(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={username:"",password:""},e}return i(t,e),l(t,[{key:"onUsernameChange",value:function(e){this.setState({username:e.target.value})}},{key:"onPasswordChange",value:function(e){this.setState({password:e.target.value})}},{key:"submit",value:function(e){e.preventDefault(),this.checkUnrecognizedAutoFill()||this.login(this.state.username,this.state.password)}},{key:"checkUnrecognizedAutoFill",value:function(){if(""!==this.state.username||""!==this.state.password)return!1;var e=this.props.testBlankUsername?this.props.testBlankUsername:this.usernameField.value,t=this.props.testBlankPassword?this.props.testBlankPassword:this.passwordField.value;return this.setState({username:e,password:t}),this.login(e,t),!0}},{key:"login",value:function(e,t){(0,p.login)(e,t,this.props.urlBack)}},{key:"componentDidMount",value:function(){this.usernameField.focus()}},{key:"render",value:function(){var e=this;return d.default.createElement("div",{className:"couch-login-wrapper"},d.default.createElement("div",{className:"row-fluid"},d.default.createElement("div",{className:"span12"},d.default.createElement("form",{id:"login",onSubmit:this.submit.bind(this)},d.default.createElement("p",{className:"help-block"},"Enter your username and password."),d.default.createElement("input",{id:"username",type:"text",name:"username",ref:function(t){return e.usernameField=t},placeholder:"Username",size:"24",onChange:this.onUsernameChange.bind(this),value:this.state.username}),d.default.createElement("br",null),d.default.createElement("input",{id:"password",type:"password",name:"password",ref:function(t){return e.passwordField=t},placeholder:"Password",size:"24",onChange:this.onPasswordChange.bind(this),value:this.state.password}),d.default.createElement("br",null),d.default.createElement("button",{id:"submit",className:"btn btn-success",type:"submit"},"Log In")))))}}]),t}(d.default.Component);h.defaultProps={urlBack:""},h.propTypes={urlBack:s.default.string.isRequired},t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={AUTH_CREDS_VALID:"AUTH_CREDS_VALID",AUTH_CREDS_INVALID:"AUTH_CREDS_INVALID",AUTH_SHOW_PASSWORD_MODAL:"AUTH_SHOW_PASSWORD_MODAL",AUTH_HIDE_PASSWORD_MODAL:"AUTH_HIDE_PASSWORD_MODAL"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),s=a(u),c=n(0),d=a(c),f=n(20),p=n(124),h=n(13),m=a(h),_=n(2),g=a(_),b=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={password:""},n.authenticate=n.authenticate.bind(n),n.onKeyPress=n.onKeyPress.bind(n),n}return i(t,e),l(t,[{key:"onKeyPress",value:function(e){"Enter"===e.key&&this.authenticate()}},{key:"authenticate",value:function(){var e=g.default.session.user().name;this.props.onSubmit(e,this.state.password,this.props.onSuccess)}},{key:"render",value:function(){var e=this,t=this.props,n=t.visible,a=t.onClose,o=t.submitBtnLabel,r=t.headerTitle,i=t.modalMessage;return this.props.visible?d.default.createElement(f.Modal,{dialogClassName:"enter-password-modal",show:n,onHide:function(){return a()}},d.default.createElement(f.Modal.Header,{closeButton:!0},d.default.createElement(f.Modal.Title,null,r)),d.default.createElement(f.Modal.Body,null,i,d.default.createElement("input",{style:{width:"385px"},type:"password",className:"password-modal-input",placeholder:"Enter your password",autoFocus:!0,value:this.state.password,onChange:function(t){return e.setState({password:t.target.value})},onKeyPress:this.onKeyPress})),d.default.createElement(f.Modal.Footer,null,d.default.createElement("a",{className:"cancel-link",onClick:function(){return a()}},"Cancel"),d.default.createElement(m.default.ConfirmButton,{text:o,onClick:this.authenticate}))):null}}]),t}(d.default.Component);b.propTypes={visible:s.default.bool.isRequired,modalMessage:s.default.oneOfType([s.default.string,s.default.element]),onSubmit:s.default.func.isRequired,onClose:s.default.func.isRequired,submitBtnLabel:s.default.string},b.defaultProps={headerTitle:"Enter Password",visible:!1,modalMessage:"",onClose:p.hidePasswordModal,onSubmit:p.authenticate,onSuccess:function(){},submitBtnLabel:"Continue"},t.default=b},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.CreateAdminForm=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),s=a(u),c=n(0),d=a(c),f=n(124),p=n(14),h=t.CreateAdminForm=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={username:"",password:""},n}return i(t,e),l(t,[{key:"onChangeUsername",value:function(e){this.setState({username:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"componentDidMount",value:function(){this.usernameField.focus()}},{key:"createAdmin",value:function(e){e.preventDefault(),this.props.createAdmin(this.state.username,this.state.password,this.props.loginAfter,this.props.nodes)}},{key:"render",value:function(){var e=this;return d.default.createElement("div",{className:"faux__auth-page"},d.default.createElement("h3",null,"Create Admins"),d.default.createElement("p",null,"Before a server admin is configured, all clients have admin privileges. This is fine when HTTP access is restricted to trusted users. ",d.default.createElement("strong",null,"If end-users will be accessing this CouchDB, you must create an admin account to prevent accidental (or malicious) data loss.")),d.default.createElement("p",null,"Server admins can create and destroy databases, install and update _design documents, run the test suite, and edit all aspects of CouchDB configuration."),d.default.createElement("form",{id:"create-admin-form",onSubmit:this.createAdmin.bind(this)},d.default.createElement("input",{id:"username",type:"text",ref:function(t){return e.usernameField=t},name:"name",placeholder:"Username",size:"24",onChange:this.onChangeUsername.bind(this)}),d.default.createElement("br",null),d.default.createElement("input",{id:"password",type:"password",name:"password",placeholder:"Password",size:"24",onChange:this.onChangePassword.bind(this)}),d.default.createElement("p",null,"Non-admin users have read and write access to all databases, which are controlled by validation. CouchDB can be configured to block all access to anonymous users."),d.default.createElement("button",{type:"submit",id:"create-admin",className:"btn btn-primary"},"Create Admin")))}}]),t}(d.default.Component);h.propTypes={loginAfter:s.default.bool.isRequired},h.defaultProps={loginAfter:!1};var m=function(e){return{nodes:e.clusters.nodes}};t.default=(0,p.connect)(m,{createAdmin:f.createAdmin})(h)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ChangePasswordForm=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(0),s=a(u),c=n(10),d=(a(c),n(2)),f=a(d),p=n(124),h=n(14),m=t.ChangePasswordForm=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={password:"",passwordConfirm:""},n}return i(t,e),l(t,[{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"onChangePasswordConfirm",value:function(e){this.setState({passwordConfirm:e.target.value})}},{key:"componentDidMount",value:function(){this.passwordField.focus()}},{key:"changePassword",value:function(e){e.preventDefault(),this.props.changePassword(this.props.username,this.state.password,this.state.passwordConfirm,this.props.nodes)}},{key:"render",value:function(){var e=this;return s.default.createElement("div",{className:"faux__auth-page"},s.default.createElement("h3",null,"Change Password"),s.default.createElement("form",{id:"change-password",onSubmit:this.changePassword.bind(this)},s.default.createElement("p",null,"Enter your new password."),s.default.createElement("input",{id:"password",type:"password",ref:function(t){return e.passwordField=t},name:"password",placeholder:"Password",size:"24",onChange:this.onChangePassword.bind(this),value:this.state.password}),s.default.createElement("br",null),s.default.createElement("input",{id:"password-confirm",type:"password",name:"password_confirm",placeholder:"Verify Password",size:"24",onChange:this.onChangePasswordConfirm.bind(this),value:this.state.passwordConfirm}),s.default.createElement("br",null),s.default.createElement("p",null,s.default.createElement("button",{type:"submit",className:"btn btn-primary"},"Change"))))}}]),t}(s.default.Component),_=function(e){return{nodes:e.clusters.nodes,username:f.default.session.user().name}};t.default=(0,h.connect)(_,{changePassword:p.changePassword})(m)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=a(o),i=n(2),l=a(i),u=n(123),s=a(u),c=n(467);t.default=l.default.RouteObject.extend({hideNotificationCenter:!0,hideApiBar:!0,selectedHeader:"Your Account",routes:{changePassword:{route:"checkNodesForPasswordChange",roles:["fx_loggedIn"]},"changePassword/:node":{route:"changePassword",roles:["fx_loggedIn"]},addAdmin:{route:"checkNodesForAddAdmin",roles:["_admin"]},"addAdmin/:node":{route:"addAdmin",roles:["_admin"]}},checkNodesForPasswordChange:function(){s.default.navigateToNodeBasedOnNodeCount("/changePassword/")},checkNodesForAddAdmin:function(){s.default.navigateToNodeBasedOnNodeCount("/addAdmin/")},changePassword:function(){return s.default.fetchNodes(),r.default.createElement(c.AdminLayout,{crumbs:[{name:"User Management"}],changePassword:!0})},addAdmin:function(){return s.default.fetchNodes(),r.default.createElement(c.AdminLayout,{crumbs:[{name:"User Management"}],changePassword:!1})}})},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,l.includes)(e,"_admin")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(22),u=n(258),s=a(u),c=n(184),d=a(c),f=function(){function e(t){var n=this;o(this,e),this._user={name:!1,roles:[]},this._onChange={},this._authenticatedPromise=new d.default(function(e,t){n._authenticateResolve=e,n._authenticateReject=t}),this._allowAdminParty=t.allowAdminParty}return i(e,[{key:"isAuthenticated",value:function(){return this._authenticatedPromise}},{key:"setUser",value:function(e){var t=this;return this._user.name!==e.name&&(this._user={name:e.name,roles:e.roles,isAdmin:r(e.roles)},(0,l.each)(this._onChange,function(e){return e(t._user)})),this._user}},{key:"user",value:function(){return this._user}},{key:"getSession",value:function(){var e=this;return s.default.getSession().then(function(t){e.setUser(t),e.isLoggedIn()&&e._authenticateResolve(e.user())}).catch(function(t){e._authenticateReject(t)})}},{key:"isAdminParty",value:function(){return!!this._allowAdminParty&&!this._user.name&&this._user.isAdmin}},{key:"isLoggedIn",value:function(){return!_.isNull(this._user.name)}},{key:"userRoles",value:function(){var e=this._user;return this.isLoggedIn()?(-1===e.roles.indexOf("fx_loggedIn")&&e.roles.push("fx_loggedIn"),e.roles):[]}},{key:"onChange",value:function(e){var t=this,n=(0,l.uniqueId)();return this._onChange[n]=e,function(){delete t._onChange[n]}}},{key:"matchesRoles",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return 0===e.length||_.intersection(this.userRoles(),e).length>0}}]),e}();t.default=f},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),r=a(o),i=n(1082),l=a(i),u=n(1088),s=a(u);n(1089),l.default.initialize=function(){},r.default.addReducers({verifyinstall:s.default}),t.default=l.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=a(o),i=n(2),l=a(i),u=n(469),s=a(u),c=n(1083),d=a(c),f=n(43),p=l.default.RouteObject.extend({routes:{verifyinstall:"verifyInstall"},selectedHeader:"Verify",verifyInstall:function(){return r.default.createElement(f.OnePaneSimpleLayout,{component:r.default.createElement(d.default,null),crumbs:[{name:"Verify CouchDB Installation"}]})}});s.default.RouteObjects=[p],t.default=s.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),o=n(1084),r=function(e){return e&&e.__esModule?e:{default:e}}(o),i=n(1087),l=function(e){var t=e.verifyinstall;return{isVerifying:t.isVerifying,testResults:t.tests}},u=function(e){return{resetTests:function(){e((0,i.resetTests)())},startVerification:function(){e((0,i.resetTests)()),e((0,i.startVerification)())}}},s=(0,a.connect)(l,u)(r.default);t.default=s},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(0),s=a(u),c=n(1085),d=a(c),f=n(1086),p=a(f),h=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.props.resetTests(),n}return i(t,e),l(t,[{key:"render",value:function(){return s.default.createElement("div",null,s.default.createElement(d.default,{verify:this.props.startVerification,isVerifying:this.props.isVerifying}),s.default.createElement(p.default,{testResults:this.props.testResults}))}}]),t}(s.default.Component);t.default=h},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),s=a(u),c=n(0),d=a(c),f=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){return d.default.createElement("button",{id:"start",className:"btn btn-primary",onClick:this.props.verify,disabled:this.props.isVerifying},this.props.isVerifying?"Verifying":"Verify Installation")}}]),t}(d.default.Component);f.propTypes={verify:s.default.func.isRequired,isVerifying:s.default.bool.isRequired},t.default=f},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),s=a(u),c=n(0),d=a(c),f=n(261),p=a(f),h=function(e){function t(){var e,n,a,i;o(this,t);for(var l=arguments.length,u=Array(l),s=0;s<l;s++)u[s]=arguments[s];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.showTestResult=function(e){return a.props.testResults[e].complete?a.props.testResults[e].success?d.default.createElement("span",null,"✓"):d.default.createElement("span",null,"✗"):""},i=n,r(a,i)}return i(t,e),l(t,[{key:"render",value:function(){return d.default.createElement("table",{className:"table table-striped table-bordered"},d.default.createElement("thead",null,d.default.createElement("tr",null,d.default.createElement("th",null,"Test"),d.default.createElement("th",null,"Status"))),d.default.createElement("tbody",null,d.default.createElement("tr",null,d.default.createElement("td",null,"Create Database"),d.default.createElement("td",{id:"js-test-create-db"},this.showTestResult(p.default.TESTS.CREATE_DATABASE))),d.default.createElement("tr",null,d.default.createElement("td",null,"Create Document"),d.default.createElement("td",{id:"js-test-create-doc"},this.showTestResult(p.default.TESTS.CREATE_DOCUMENT))),d.default.createElement("tr",null,d.default.createElement("td",null,"Update Document"),d.default.createElement("td",{id:"js-test-update-doc"},this.showTestResult(p.default.TESTS.UPDATE_DOCUMENT))),d.default.createElement("tr",null,d.default.createElement("td",null,"Delete Document"),d.default.createElement("td",{id:"js-test-delete-doc"},this.showTestResult(p.default.TESTS.DELETE_DOCUMENT))),d.default.createElement("tr",null,d.default.createElement("td",null,"Create View"),d.default.createElement("td",{id:"js-test-create-view"},this.showTestResult(p.default.TESTS.CREATE_VIEW))),d.default.createElement("tr",null,d.default.createElement("td",null,"Replication"),d.default.createElement("td",{id:"js-test-replication"},this.showTestResult(p.default.TESTS.REPLICATION)))))}}]),t}(d.default.Component);h.propTypes={testResults:s.default.object.isRequired},t.default=h},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.startVerification=t.resetTests=void 0;var o=n(2),r=a(o),i=n(261),l=a(i),u=n(469),s=a(u),c=n(470),d=a(c),f=function(e,t){return function(){t({type:d.default.VERIFY_INSTALL_SINGLE_TEST_COMPLETE,test:e,success:!0})}},p=!0,h=function(e,t){return function(n){if(p=!1,n){t({type:d.default.VERIFY_INSTALL_SINGLE_TEST_COMPLETE,test:e,success:!1});var a="n/a";n.responseText?a=JSON.parse(n.responseText).reason:n.message&&(a=n.message),r.default.addNotification({msg:"Error: "+a,type:"error"})}}};t.resetTests=function(){return function(e){e({type:d.default.VERIFY_INSTALL_RESET})}},t.startVerification=function(){return function(e){e({type:d.default.VERIFY_INSTALL_START});var t=s.default.testProcess;t.setup().then(function(){return t.saveDB().then(f(l.default.TESTS.CREATE_DATABASE,e))},h(l.default.TESTS.CREATE_DATABASE,e)).then(function(){return t.saveDoc().then(f(l.default.TESTS.CREATE_DOCUMENT,e))},h(l.default.TESTS.CREATE_DATABASE,e)).then(function(){return t.updateDoc().then(f(l.default.TESTS.UPDATE_DOCUMENT,e))},h(l.default.TESTS.CREATE_DOCUMENT,e)).then(function(){return t.destroyDoc().then(f(l.default.TESTS.DELETE_DOCUMENT,e))},h(l.default.TESTS.UPDATE_DOCUMENT,e)).then(function(){return t.setupView().then(function(){return t.testView().then(f(l.default.TESTS.CREATE_VIEW,e))})},h(l.default.TESTS.DELETE_DOCUMENT,e)).then(function(){return t.setupReplicate().then(function(){return t.testReplicate().then(f(l.default.TESTS.REPLICATION,e))})},h(l.default.TESTS.CREATE_VIEW,e)).then(function(){},h(l.default.TESTS.REPLICATION,e)).then(function(){e({type:d.default.VERIFY_INSTALL_ALL_TESTS_COMPLETE}),p&&r.default.addNotification({msg:"Success! Your CouchDB installation is working. Time to Relax.",type:"success"}),t.removeDBs()})}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=l({},e);return Object.keys(t).forEach(function(e){t[e]={complete:!1}}),t}function r(e,t,n){var a=l({},e);if(!_.has(a,t))throw new Error("Invalid test name passed to updateTestStatus()");return a[t]={complete:!0,success:n},a}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments[1];switch(t.type){case s.default.VERIFY_INSTALL_START:return l({},e,{isVerifying:!0});case s.default.VERIFY_INSTALL_RESET:return l({},e,{tests:o(e.tests)});case s.default.VERIFY_INSTALL_SINGLE_TEST_COMPLETE:return l({},e,{tests:r(e.tests,t.test,t.success)});case s.default.VERIFY_INSTALL_ALL_TESTS_COMPLETE:return l({},e,{isVerifying:!1});default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=i;var u=n(470),s=a(u),c=n(261),d=a(c),f={isVerifying:!1,tests:{}};Object.keys(d.default.TESTS).forEach(function(e){f.tests[d.default.TESTS[e]]={complete:!1}})},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),r=a(o),i=n(1091),l=a(i);n(1093),l.default.initialize=function(){r.default.addHeaderLink({id:"Documentation",title:"Documentation",icon:"fonticon-bookmark",href:"#/documentation",bottomNav:!0,top:!0})},t.default=l.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=a(o),i=n(2),l=a(i),u=n(1092),s=a(u),c=n(43),d=l.default.RouteObject.extend({selectedHeader:"Documentation",hideApiBar:!0,hideNotificationCenter:!0,routes:{documentation:"documentation"},roles:["fx_loggedIn"],documentation:function(){return r.default.createElement(c.OnePaneSimpleLayout,{component:r.default.createElement(s.default.DocumentationPage,null),crumbs:[{name:"Documentation"}]})}});d.RouteObjects=[d],t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(a),r=[{title:"Activeledger Developer Portal",link:"http://developers.activeledger.io",iconClassName:"activeledger-icon"},{title:"Activeledger on GitHub",link:"https://github.com/activeledger",iconClassName:"github-icon"},{title:"Fauxton on GitHub",link:"https://github.com/apache/couchdb-fauxton",iconClassName:"github-icon"},{title:"Fauxton Visual Guide",link:"https://couchdb.apache.org/fauxton-visual-guide/index.html",iconClassName:"couchdb-icon"},{title:"The Apache Software Foundation",link:"http://www.apache.org/",iconClassName:"asf-feather-icon"}],i=function(e){var t=e.links,n=void 0===t?r:t;return o.default.createElement("div",{id:"documentation-page",className:"scrollable"},o.default.createElement("div",{className:"links"},o.default.createElement("table",null,o.default.createElement("tbody",null,function(e){return e.map(function(e){return o.default.createElement("tr",{key:e.title},o.default.createElement("td",{className:"icons-container"},o.default.createElement("div",{className:"icon "+e.iconClassName}," ")),o.default.createElement("td",null,o.default.createElement("a",{href:e.link,target:"_blank",rel:"noopener noreferrer","data-bypass":"true"},e.title)))})}(n)))))};t.default={DocumentationPage:i}},function(e,t){},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(0),s=a(u),c=n(14),d=n(1095),f=a(d),p=n(1098),h=a(p),m=n(1102),_=a(m),g=n(1104),b=a(g),y=n(185),E=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(y),v=n(6),O=a(v),D=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={routerOptions:e.router.currentRouteOptions},e.router.currentRouteOptions&&e.router.currentRouteOptions.selectedHeader&&n.props.setNavbarActiveLink(n.state.routerOptions.selectedHeader),n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this;this.props.router.on("new-component",function(t){e.setState({routerOptions:t}),e.props.setNavbarActiveLink(e.state.routerOptions.selectedHeader)}),this.props.router.on("trigger-update",function(){e.forceUpdate()})}},{key:"render",value:function(){return this.state.routerOptions?this.state.routerOptions.component||null:null}}]),t}(s.default.Component),N=function(e){function t(e){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"render",value:function(){var e=(0,O.default)({closeMenu:this.props.isPrimaryNavMinimized});return s.default.createElement("div",null,s.default.createElement(_.default,null),s.default.createElement("div",{id:"notifications"},s.default.createElement(f.default,null),s.default.createElement(h.default,null)),s.default.createElement("div",{role:"main",id:"main",className:e},s.default.createElement("div",{id:"app-container"},s.default.createElement("div",{className:"wrapper"},s.default.createElement("div",{className:"pusher"},s.default.createElement(D,{router:this.props.router,setNavbarActiveLink:this.props.setNavbarActiveLink})),s.default.createElement("div",{id:"primary-navbar"},s.default.createElement(b.default,null))))))}}]),t}(s.default.Component);t.default=(0,c.connect)(function(e){return{isPrimaryNavMinimized:e.navigation.isMinimized}},function(e){return{setNavbarActiveLink:function(t){e(E.setNavbarActiveLink(t))}}})(N)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),o=n(188),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(o),i=n(1096),l=function(e){return e&&e.__esModule?e:{default:e}}(i),u=function(e){return{notifications:e.notifications.notifications}},s=function(e){return{startHidingNotification:function(t){e(r.startHidingNotification(t))},hideNotification:function(t){e(r.hideNotification(t))},hideAllVisibleNotifications:function(){e(r.hideAllVisibleNotifications())}}},c=(0,a.connect)(u,s)(l.default);t.default=c},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),s=a(u),c=n(0),d=a(c),f=n(113),p=n(1097),h=a(p),m=function(e){function t(){var e,n,a,i;o(this,t);for(var l=arguments.length,u=Array(l),s=0;s<l;s++)u[s]=arguments[s];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.onKeyDown=function(e){27===(e.keyCode||e.which)&&a.props.hideAllVisibleNotifications()},a.getNotifications=function(){return a.props.notifications.length?a.props.notifications.map(function(e,t){if(e.visible)return d.default.createElement(h.default,{notificationId:e.notificationId,isHiding:e.isHiding,key:t,msg:e.msg,type:e.type,escape:e.escape,visibleTime:e.visibleTime,onStartHide:a.props.startHidingNotification,onHideComplete:a.props.hideNotification})}):null},a.getchildren=function(e){var t=e.map(function(e){var t=e.key,n=e.data,o=e.style,r=n;return d.default.createElement(h.default,{key:t,style:o,notificationId:r.notificationId,isHiding:r.isHiding,msg:r.msg,type:r.type,escape:r.escape,visibleTime:r.visibleTime,onStartHide:a.props.startHidingNotification,onHideComplete:a.props.hideNotification})});return d.default.createElement("div",null,t)},a.getStyles=function(e){return e||(e=[]),a.props.notifications.filter(function(e){return e.visible}).map(function(t){var n=e.find(function(e){return e.key===t.notificationId.toString()}),a=!n&&{opacity:.5,minHeight:50};return a||t.isHiding?!a&&t.isHiding&&(a={opacity:(0,f.spring)(0,f.presets.stiff),minHeight:(0,f.spring)(0,f.presets.stiff)}):a={opacity:(0,f.spring)(1,f.presets.stiff),minHeight:(0,f.spring)(64)},{key:t.notificationId.toString(),style:a,data:t}})},i=n,r(a,i)}return i(t,e),l(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.onKeyDown)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onKeyDown)}},{key:"render",value:function(){return d.default.createElement("div",{id:"global-notifications"},d.default.createElement(f.TransitionMotion,{styles:this.getStyles},this.getchildren))}}]),t}(d.default.Component);m.propTypes={notifications:s.default.array.isRequired,hideAllVisibleNotifications:s.default.func.isRequired,startHidingNotification:s.default.func.isRequired,hideNotification:s.default.func.isRequired},t.default=m},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),s=a(u),c=n(0),d=a(c),f=function(e){function t(){var e,n,a,i;o(this,t);for(var l=arguments.length,u=Array(l),s=0;s<l;s++)u[s]=arguments[s];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.hide=function(e){e&&e.preventDefault(),a.props.onStartHide(a.props.notificationId)},a.getMsg=function(){return{__html:a.props.escape?_.escape(a.props.msg):a.props.msg}},a.onAnimationComplete=function(){a.props.isHiding&&window.setTimeout(function(){return a.props.onHideComplete(a.props.notificationId)})},i=n,r(a,i)}return i(t,e),l(t,[{key:"componentWillUnmount",value:function(){this.timeout&&window.clearTimeout(this.timeout)}},{key:"componentDidMount",value:function(){this.timeout=setTimeout(this.hide,this.props.visibleTime)}},{key:"render",value:function(){var e=this,t=this.props,n=t.style,a=t.notificationId,o={error:"fonticon-attention-circled",info:"fonticon-info-circled",success:"fonticon-ok-circled"};return 0===n.opacity&&this.props.isHiding&&this.onAnimationComplete(),d.default.createElement("div",{key:a.toString(),className:"notification-wrapper",style:{opacity:n.opacity,minHeight:n.minHeight+"px"}},d.default.createElement("div",{style:{opacity:n.opacity,minHeight:n.minHeight+"px"},className:"global-notification alert alert-"+this.props.type,ref:function(t){return e.notification=t}},d.default.createElement("a",{"data-bypass":!0,href:"#",onClick:this.hide},d.default.createElement("i",{className:"pull-right fonticon-cancel"})),d.default.createElement("i",{className:"notification-icon "+o[this.props.type]}),d.default.createElement("span",{dangerouslySetInnerHTML:this.getMsg()})))}}]),t}(d.default.Component);f.propTypes={notificationId:s.default.number.isRequired,msg:s.default.string.isRequired,onStartHide:s.default.func.isRequired,onHideComplete:s.default.func.isRequired,type:s.default.oneOf(["error","info","success"]),escape:s.default.bool,isHiding:s.default.bool.isRequired,visibleTime:s.default.number},f.defaultProps={type:"info",visibleTime:8e3,escape:!0},t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),o=n(188),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(o),i=n(1099),l=function(e){return e&&e.__esModule?e:{default:e}}(i),u=function(e){var t=e.notifications;return{isVisible:t.notificationCenterVisible,filter:t.selectedNotificationFilter,notifications:t.notifications}},s=function(e){return{hideNotificationCenter:function(){e(r.hideNotificationCenter())},selectNotificationFilter:function(t){e(r.selectNotificationFilter(t))},clearAllNotifications:function(){e(r.clearAllNotifications())},clearSingleNotification:function(t){e(r.clearSingleNotification(t))}}},c=(0,a.connect)(u,s)(l.default);t.default=c},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),c=a(s),d=n(113),f=n(1100),p=a(f),h=function(e){function t(){var e,n,a,i;o(this,t);for(var u=arguments.length,s=Array(u),f=0;f<u;f++)s[f]=arguments[f];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.getStyles=function(){var e={key:"1",style:{x:320}};return a.props.isVisible?e.style={x:(0,d.spring)(0)}:e.style={x:(0,d.spring)(320)},[e]},a.getNotificationCenterPanel=function(e){var t=e.map(function(e){var t=e.style;return c.default.createElement(p.default,l({key:"1",style:t},a.props))});return c.default.createElement("span",null,t)},i=n,r(a,i)}return i(t,e),u(t,[{key:"render",value:function(){return c.default.createElement(d.TransitionMotion,{styles:this.getStyles},this.getNotificationCenterPanel)}}]),t}(c.default.Component);t.default=h},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),s=a(u),c=n(0),d=a(c),f=n(113),p=n(1101),h=a(p),m=function(e){function t(){var e,n,a,i;o(this,t);for(var l=arguments.length,u=Array(l),s=0;s<l;s++)u[s]=arguments[s];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.getNotifications=function(e){var t=void 0;return t=e.length||a.props.notifications.length?e.map(function(e){var t=e.key,n=e.data,o=e.style;return d.default.createElement(h.default,{item:n,filter:a.props.filter,clearSingleNotification:a.props.clearSingleNotification,key:t,style:o})}):d.default.createElement("li",{className:"no-notifications"},"No notifications."),d.default.createElement("ul",{className:"notification-list"},t)},a.getStyles=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return a.props.notifications.map(function(t){var n=e.find(function(e){return e.key===t.notificationId.toString()}),o=!n&&{opacity:0,height:0};return o||t.type!==a.props.filter&&"all"!==a.props.filter?t.type!==a.props.filter&&(o={opacity:(0,f.spring)(0,f.presets.stiff),height:(0,f.spring)(0,f.presets.stiff)}):o={opacity:(0,f.spring)(1,f.presets.stiff),height:(0,f.spring)(61,f.presets.stiff)},{key:t.notificationId.toString(),style:o,data:t}})},i=n,r(a,i)}return i(t,e),l(t,[{key:"render",value:function(){var e=this;if(!this.props.isVisible&&0===this.props.style.x)return null;var t={all:"flex-body",success:"flex-body",error:"flex-body",info:"flex-body"};t[this.props.filter]+=" selected";var n="notification-page-mask "+(this.props.isVisible?" visible":"");return d.default.createElement("div",{id:"notification-center"},d.default.createElement("div",{className:"notification-center-panel flex-layout flex-col visible",style:{transform:"translate("+this.props.style.x+"px)"}},d.default.createElement("header",{className:"flex-layout flex-row"},d.default.createElement("span",{className:"fonticon fonticon-bell"}),d.default.createElement("h1",{className:"flex-body"},"Notifications"),d.default.createElement("button",{type:"button",onClick:this.props.hideNotificationCenter},"×")),d.default.createElement("ul",{className:"notification-filter flex-layout flex-row"},d.default.createElement("li",{className:t.all,title:"All notifications","data-filter":"all",onClick:function(){return e.props.selectNotificationFilter("all")}},"All"),d.default.createElement("li",{className:t.success,title:"Success notifications","data-filter":"success",onClick:function(){return e.props.selectNotificationFilter("success")}},d.default.createElement("span",{className:"fonticon fonticon-ok-circled"})),d.default.createElement("li",{className:t.error,title:"Error notifications","data-filter":"error",onClick:function(){return e.props.selectNotificationFilter("error")}},d.default.createElement("span",{className:"fonticon fonticon-attention-circled"})),d.default.createElement("li",{className:t.info,title:"Info notifications","data-filter":"info",onClick:function(){return e.props.selectNotificationFilter("info")}},d.default.createElement("span",{className:"fonticon fonticon-info-circled"}))),d.default.createElement("div",{className:"flex-body"},d.default.createElement(f.TransitionMotion,{styles:this.getStyles},this.getNotifications)),d.default.createElement("footer",null,d.default.createElement("input",{type:"button",value:"Clear All",className:"btn btn-small btn-secondary",onClick:this.props.clearAllNotifications}))),d.default.createElement("div",{className:n,onClick:this.props.hideNotificationCenter}))}}]),t}(d.default.Component);m.propTypes={isVisible:s.default.bool.isRequired,filter:s.default.string.isRequired,notifications:s.default.array.isRequired,hideNotificationCenter:s.default.func.isRequired,selectNotificationFilter:s.default.func.isRequired,clearAllNotifications:s.default.func.isRequired,clearSingleNotification:s.default.func.isRequired},t.default=m},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),s=a(u),c=n(0),d=a(c),f=n(91),p=a(f),h=n(13),m=a(h),_=m.default.Copy,g=function(e){function t(){var e,n,a,i;o(this,t);for(var l=arguments.length,u=Array(l),s=0;s<l;s++)u[s]=arguments[s];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.clearNotification=function(){var e=a.props.item.notificationId;a.props.clearSingleNotification(e)},i=n,r(a,i)}return i(t,e),l(t,[{key:"render",value:function(){var e={success:"fonticon-ok-circled",error:"fonticon-attention-circled",info:"fonticon-info-circled"},t=this.props.item.time.fromNow(),n="fonticon "+e[this.props.item.type],a="all"!==this.props.filter&&this.props.filter!==this.props.item.type,o=this.props.style,r=o.opacity,i=o.height;return 0===r&&0===i?null:d.default.createElement("li",{style:{opactiy:r,height:i+"px",borderBottomColor:"rgba(34, 34, 34, "+r+")"},"aria-hidden":a},d.default.createElement("div",{className:"flex-layout flex-row"},d.default.createElement("span",{className:n}),d.default.createElement("div",{className:"flex-body"},d.default.createElement("p",null,this.props.item.cleanMsg),d.default.createElement("div",{className:"notification-actions"},d.default.createElement("span",{className:"time-elapsed"},t),d.default.createElement("span",{className:"divider"},"|"),d.default.createElement(_,{uniqueKey:p.default.v4(),text:this.props.item.cleanMsg,displayType:"text"}))),d.default.createElement("button",{type:"button",onClick:this.clearNotification},"×")))}}]),t}(d.default.Component);g.propTypes={item:s.default.object.isRequired,filter:s.default.string.isRequired,clearSingleNotification:s.default.func.isRequired},t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),o=n(1103),r=function(e){return e&&e.__esModule?e:{default:e}}(o),i=function(e){var t=e.notifications;return{visible:t.permanentNotificationVisible,message:t.permanentNotificationMessage}},l=(0,a.connect)(i)(r.default);t.default=l},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),s=a(u),c=n(0),d=a(c),f=function(e){function t(e){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"getMsg",value:function(){return{__html:this.props.message}}},{key:"getContent",value:function(){return this.props.visible&&this.props.message?d.default.createElement("p",{className:"perma-warning__content",dangerouslySetInnerHTML:this.getMsg()}):null}},{key:"render",value:function(){return d.default.createElement("div",{id:"perma-warning"},this.getContent())}}]),t}(d.default.Component);f.defaultProps={visible:!1},f.propTypes={visible:s.default.bool.isRequired,message:s.default.string},t.default=f},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(14),r=n(2),i=a(r),l=n(1105),u=a(l),s=n(185),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),d=function(e){var t=e.navigation,n=i.default.session.user();return{navLinks:t.navLinks,bottomNavLinks:t.bottomNavLinks,footerNavLinks:t.footerNavLinks,activeLink:t.activeLink,version:t.version,isMinimized:t.isMinimized,isNavBarVisible:t.navBarVisible,isLoginSectionVisible:t.loginSectionVisible,isLoginVisibleInsteadOfLogout:t.loginVisibleInsteadOfLogout,username:n&&n.name?n.name:""}},f=function(e){return{toggleNavbarMenu:function(){e(c.toggleNavbarMenu())}}},p=(0,o.connect)(d,f)(u.default);t.default=p},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(6),s=a(u),c=n(1),d=a(c),f=n(0),p=a(f),h=n(1106),m=a(h),_=n(1107),g=a(_),b=n(1108),y=a(b),E=n(1109),v=a(E),O=n(1110),D=a(O),N=n(1111),T=a(N),S=function(e){function t(e){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"createLinks",value:function(e){var t=this.props,n=t.activeLink,a=t.isMinimized;return e.map(function(e,t){return p.default.createElement(y.default,{key:t,link:e,active:n,isMinimized:a})})}},{key:"render",value:function(){var e=this.props,t=e.isMinimized,n=e.version,a=e.isLoginSectionVisible,o=e.isLoginVisibleInsteadOfLogout,r=e.activeLink,i=e.username,l=e.isNavBarVisible,u=e.toggleNavbarMenu;if(!l)return null;var c=this.createLinks(this.props.navLinks),d=this.createLinks(this.props.bottomNavLinks),f=this.createLinks(this.props.footerNavLinks),h=(0,s.default)("faux-navbar",{"faux-navbar--wide":!t},{"faux-navbar--narrow":t}),_=o?p.default.createElement(T.default,{active:r,isMinimized:t}):p.default.createElement(D.default,{username:i,isMinimized:t});return p.default.createElement("div",{className:h},p.default.createElement("nav",null,p.default.createElement("div",{className:"faux-navbar__linkcontainer"},p.default.createElement(g.default,{isMinimized:t,toggleMenu:u}),p.default.createElement("div",{className:"faux-navbar__links"},c,d),p.default.createElement("div",{className:"faux-navbar__footer"},p.default.createElement(v.default,{isMinimized:t}),p.default.createElement("div",null,f),p.default.createElement(m.default,{version:n}),a?_:null))))}}]),t}(f.Component);S.propTypes={activeLink:d.default.string,isMinimized:d.default.bool.isRequired,version:d.default.string,username:d.default.string,navLinks:d.default.array,bottomNavLinks:d.default.array,footerNavLinks:d.default.array,isNavBarVisible:d.default.bool,isLoginSectionVisible:d.default.bool.isRequired,isLoginVisibleInsteadOfLogout:d.default.bool.isRequired,toggleNavbarMenu:d.default.func.isRequired},t.default=S},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=a(o),i=n(0),l=a(i),u=function(e){var t=e.version;return t?l.default.createElement("div",{className:"faux-navbar__version-footer"},"Fauxton on  ",l.default.createElement("a",{href:"http://couchdb.apache.org/"},"Apache CouchDB"),l.default.createElement("div",null,"v. ",t)):null};u.propTypes={version:r.default.string},t.default=u},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=a(o),i=n(0),l=a(i),u=n(6),s=a(u),c=function(e){var t=e.toggleMenu,n=e.isMinimized,a=(0,s.default)("faux-navbar__burger",{"faux-navbar--wide":!n},{"faux-navbar--narrow":n}),o=n?"icon-resize-horizontal":"icon-signin faux-navbar__burger__icon--flipped";return l.default.createElement("div",{className:a,onClick:t},l.default.createElement("i",{className:"faux-navbar__burger__icon "+o}))};c.propTypes={toggleMenu:r.default.func.isRequired,isMinimized:r.default.bool.isRequired},t.default=c},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=a(o),i=n(0),l=a(i),u=n(6),s=a(u),c=function(e){var t=e.link,n=e.active,a=e.isMinimized,o=(0,s.default)("faux-navbar__link",{"faux-navbar__link--active":n===t.title},{"faux-navbar__link--inactive":n!==t.title},{"faux-navbar--wide":!a},{"faux-navbar--narrow":a}),r=a?null:l.default.createElement("span",{className:"faux-navbar__text"},t.title),i=null;return t.icon&&(i=l.default.createElement("i",{className:(0,s.default)(t.icon,"fonticon faux-navbar__icon",{"faux-navbar__icon-badge":t.badge})})),l.default.createElement("a",{className:o,href:t.href,target:t.target?"_blank":null,"data-bypass":t.target?"true":null},l.default.createElement("div",{"data-nav-name":t.title,className:"faux-navbar__itemarea"},i,r))};c.propTypes={link:r.default.object.isRequired,active:r.default.string,isMinimized:r.default.bool.isRequired},t.default=c},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=a(o),i=n(0),l=a(i),u=n(6),s=a(u),c=function(e){var t=e.isMinimized,n=(0,s.default)("faux-navbar__brand-logo",{"faux-navbar__brand-logo--wide":!t},{"faux-navbar__brand-logo--narrow":t});return l.default.createElement("div",{className:"faux-navbar__brand"},l.default.createElement("div",{className:n}))};c.propTypes={isMinimized:r.default.bool.isRequired},t.default=c},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=a(o),i=n(0),l=a(i),u=n(6),s=a(u),c=n(22),d=a(c),f=function(e){var t=e.username,n=e.isMinimized,a=(0,s.default)("faux-navbar__logout__textcontainer",{"faux-navbar__logout__textcontainer--narrow":n},{"faux-navbar__logout__textcontainer--wide":!n});return l.default.createElement("a",{className:"faux-logout__link",href:"#/logout"},l.default.createElement("div",{className:a},l.default.createElement("span",{className:"faux-navbar__logout__text"},"Log Out")," ",n?null:l.default.createElement("span",{className:"faux-navbar__logout__username"},d.default.escape(t))))};f.propTypes={username:r.default.string,isMinimized:r.default.bool.isRequired},t.default=f},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=a(o),i=n(0),l=a(i),u=n(6),s=a(u),c=function(e){var t=e.isMinimized,n=(0,s.default)("faux-navbar__login__textcontainer",{"faux-navbar__login__textcontainer--narrow":t},{"faux-navbar__login__textcontainer--wide":!t});return l.default.createElement("a",{className:"faux-login__link",href:"#/login"},l.default.createElement("div",{className:n},l.default.createElement("span",{className:"faux-navbar__logout__text"},"Login")))};c.propTypes={isMinimized:r.default.bool.isRequired},t.default=c}],[471]);